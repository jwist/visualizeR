'use strict';define(['jquery','src/header/components/default','src/util/versioning','src/util/util'],function(a,b,c,d){'use strict';function e(){}var g;return d.inherits(e,b,{_onClick:function(){var j=this;this.setStyleOpen(this._open),this._open?(g&&g!==this&&g._open&&g.onClick(),g=j,(this.options.viewURL||this.options.dataURL)&&this.load(this.options),this.doElements()):this.close()},load:function(j){var k={};(j.views||j.viewURL)&&(k.view={url:j.viewURL,branch:j.viewBranch,urls:j.views}),(j.results||j.dataURL)&&(k.data={url:j.dataURL,branch:j.branchURL,urls:j.views}),c.switchView(k,!0)},doElements:function(){this.$_elToOpen=this._doElements(this.options.elements),this.open()},_doElements:function(j){if(j){for(var k=a('<ul />')||this.$_elToOpen.empty(),m=0,n=j.length;m<n;m++)k.append(this._buildSubElement(j[m])),j[m].elements&&0<j[m].elements.length&&k.append(this._doElements(j[m].elements));return k}},_buildSubElement:function(j){var k=this,m=a('<li />').text(j.label||'');return(j.viewURL||j.dataURL)&&m.addClass('hasEvent').bind('click',function(){k.load(j),k.onClick()}),m}}),e});
