'use strict';define(['jquery','src/header/components/default','src/main/grid','src/util/util'],function(a,b,c,d){'use strict';function e(){}var f;return d.inherits(e,b,{initImpl:function(){},_onClick:function(){var h=this;this.setStyleOpen(this._open),this._open?(f&&f!==this&&f._open&&f.onClick(),f=h,(this.options.viewURL||this.options.dataURL)&&this.load(this.options),this.doElements()):this.close()},doElements:function(){this.$_elToOpen=this._doElements(this.options.layers),this.open()},_doElements:function(h){h||(h=c.getLayerNames());for(var j=a('<ul />')||this.$_elToOpen.empty(),k=0,m=h.length;k<m;k++)j.append(this._buildSubElement(h[k]));return j},_buildSubElement:function(h){var j=this,k=a('<li />').text(h);return k.addClass('hasEvent').bind('click',function(){c.switchToLayer(h),j.onClick()}),k}}),e});
