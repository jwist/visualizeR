'use strict';define(function(){'use strict';function a(b){this.dbName='kv-'+b,this.ready=new Promise((c,d)=>{var f=window.indexedDB.open(this.dbName);f.onupgradeneeded=(g)=>{this.db=g.target.result,this.db.createObjectStore('store')},f.onsuccess=(g)=>{this.db=g.target.result,c()},f.onerror=(g)=>{this.db=g.target.result,d(g)}})}return a.prototype.get=function(b){return this.ready.then(()=>{return new Promise((c,d)=>{var f=this.getStore().get(b);f.onsuccess=(g)=>c(g.target.result),f.onerror=d})})},a.prototype.getStore=function(){return this.db.transaction(['store'],'readwrite').objectStore('store')},a.prototype.set=function(b,c){return this.ready.then(()=>{return new Promise((d,f)=>{var g=this.getStore().put(c,b);g.onsuccess=d,g.onerror=f})})},a.prototype.delete=function(b){return this.ready.then(()=>{return new Promise((c,d)=>{var f=this.getStore().delete(b);f.onsuccess=c,f.onerror=d})})},a.deleteDatabase=function(b){window.indexedDB.deleteDatabase(b)},a});
