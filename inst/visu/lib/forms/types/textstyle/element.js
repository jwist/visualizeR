'use strict';define(['src/util/util','components/farbtastic/src/farbtastic'],function(a){'use strict';var b=function(){};return b.prototype.__makeDom=function(){var c=a.getWebsafeFonts(),d=this,e=$('<div />'),f=this.value,g=$('<ul />').addClass('form-textstyle-ul'),h=$('<li><span>B</span></li>').addClass('btn').attr('data-style','bold'),j=$('<li><span>I</span></li>').addClass('btn').attr('data-style','italic'),k=$('<li><span>U</span></li>').addClass('btn').attr('data-style','underline'),m=$('<li><select></select></li>').children('select').attr('data-style','fontface').append(function(){for(var s=[],t=0,u=c.length;t<u;t+=1)s.push('<option value="'+c[t].key+'">'+c[t].title+'</option>');return s}),n=$('<li><select></select></li>').children('select').attr('data-style','fontsize').append(function(){for(var s=[],t=10;t<20;t+=1)s.push('<option value="'+t+'">'+t+' pts</option>');return s}),o=$('<li><span>A</span></li>').addClass('form-textstyle-colorli').bind('click',function(){q.toggle(),$(this).toggleClass('selected')}),p=$('<li><span></span></li>').addClass('form-textstyle-bgcolorli').bind('click',function(){r.toggle(),$(this).toggleClass('selected')}),q=$('<div />').addClass('form-textstyle-color'),r=$('<div />').addClass('form-textstyle-color');return g.on('click','.btn',function(){f[$(this).attr('data-style')]=!$(this).hasClass('selected'),d.checkValue()}),g.on('change','select',function(){f[$(this).attr('data-style')]=$(this).attr('value'),d.checkValue()}),this.farb=$.farbtastic(q,{}),this.farb2=$.farbtastic(r,{}),g.append(h),g.append(j),g.append(k),g.append(m),g.append(n),g.append(o),g.append(p),this.div=g,this.dom=e,this.fieldElement=g,this.checkboxes={},this.checkValue(),this.farb.linkTo(function(){f.color=arguments[0],d.checkValue()}),this.farb2.linkTo(function(){f.bgcolor=arguments[0],d.checkValue()}),e.append(g,q,r),e},b.prototype.focus=function(){this.fieldElement.find('input:first').focus(),this.select()},b.prototype.checkValue=function(){if(this.value instanceof Object||this.setValueSilent({}),this.div)for(var c in this.value)this.value.hasOwnProperty(c)&&('bold'==c?this.div.find('li[data-style="bold"]')[this.value[c]?'addClass':'removeClass']('selected'):'italic'==c?this.div.find('li[data-style="italic"]')[this.value[c]?'addClass':'removeClass']('selected'):'underline'==c?this.div.find('li[data-style="underline"]')[this.value[c]?'addClass':'removeClass']('selected'):'color'==c?(this.div.find('li.form-textstyle-colorli').children().css('color',this.value[c]),this.farb.setColor(this.value[c])):'bgcolor'==c?(this.div.find('li.form-textstyle-bgcolorli').children().css('background-color',this.value[c]),this.farb2.setColor(this.value[c])):'fontface'==c?this.div.find('select[data-style="fontface"]').attr('value',this.value[c]):'fontsize'==c?this.div.find('select[data-style="fontsize"]').attr('value',this.value[c]):void 0)},b.prototype.getOptions=function(){return this.combooptions||!1},b.prototype.setOptions=function(c){this.combooptions=c},b});
