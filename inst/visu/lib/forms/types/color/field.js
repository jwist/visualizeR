'use strict';define([require,'../../field','src/util/color','jquery-ui/ui/widgets/slider','components/farbtastic/src/farbtastic'],function(a,b,c){'use strict';var d=function(f){var g=this;this.name=f,this.domExpander=$('<div></div>'),$('<div></div>').addClass('form-colorpicker').css({float:'left'}).farbtastic(function(h){if(g.getElementExpanded()){var i=c.hex2rgb(h);g.getElementExpanded().value=[i[0],i[1],i[2],g.getElementExpanded().value[3]]}}).appendTo(this.domExpander),$('<div></div>').addClass('form-slider').css({height:'180px',marginLeft:'20px',float:'left'}).slider({orientation:'vertical',min:0,max:1,step:0.01,start:function(i){i.stopPropagation()},slide:function(i,j){g.getElementExpanded().value=[g.getElementExpanded().value[0],g.getElementExpanded().value[1],g.getElementExpanded().value[2],j.value],i.stopPropagation()},stop:function(i){i.preventDefault()}}).appendTo(this.domExpander),$('<div />').addClass('clear').appendTo(this.domExpander)};return d.prototype=new b,d.prototype.getOptions=function(e){return e.getOptions()||this.options.options},d.prototype.showExpander=function(e){this._showExpander(e);var f=e.value||[0,0,0,1];$.farbtastic(this.domExpander.children('.form-colorpicker')).setColor(c.rgb2hex(f[0],f[1],f[2])),this.domExpander.children('.form-slider').slider('value',f[3])},d});
