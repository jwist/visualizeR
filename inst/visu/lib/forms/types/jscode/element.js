'use strict';define(['require','jquery','src/util/util','ace/ace'],function(a,b,c,d){'use strict';var e=function(){};return e.prototype.__makeDom=function(){this._id=c.getNextUniqueId();var f=this,g=b('<div />'),h=b('<div />',{id:this._id,tabindex:1}).css({width:'100%',height:'100%',position:'relative',padding:20,margin:0}).addClass('field-list').appendTo(g);return this.fieldElement=h,this.input=h,g.addClass('ui-widget-content'),g.resizable({handles:'s',stop:function(){f.editor.resize()}}),g.css({height:'200px',width:'100%'}),this.dom=g,g},e.prototype.afterShow=function(){this.editor.resize()},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.inDom=function(){var f=this,g=d.edit(f._id),h=this.field.options.mode||'javascript';g.setTheme('./theme/monokai'),g.setPrintMarginColumn(!1),g.getSession().setOption('useWorker',!1),g.getSession().setMode('./mode/'+h),g.$blockScrolling=Infinity,g.getSession().on('change',function(){f.setValueSilent(g.getValue())}),this.editor=g,this.checkValue()},e.prototype.checkValue=function(){this.editor&&this.editor.setValue(this.value||'')},e});
