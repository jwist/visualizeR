"use strict";define(function(){"use strict";function b(j){var k=j+"",l=k.indexOf("."),n=5-(k.length-l),o="     ".substring(0,5-l)+k+"0000".substring(0,n);return o}function c(j,k,l){var m="";return m+=b(k),m+=b(l),m+="    0.0000 ",m+=d(j),m}function d(j){var k="",l=j.replace(/^([0-9]*)([^-+]+)(.*)/,"$1"),m=j.replace(/^([0-9]*)([^-+]+)(.*)/,"$2"),n=j.replace(/^([0-9]*)([^-+]+)(.*)/,"$3");if(k+=m+"   ".substring(m.length,3),l){var o=1*l-h[m]+"";k+="  ".substring(o.length,2)+o}else k+=" 0";return n?(n=n.match(/^\+*$/)?n.length:n.match(/^\-*$/)?-n.length:parseInt(n),1===n?k+="  3":2===n?k+="  2":3===n?k+="  1":-1===n?k+="  5":-2===n?k+="  6":-3===n?k+="  7":void 0):k+="  0",k+="  0  0  0  0  0  0  0  0  0  0",k}function e(j,k,l){var m="";return j+="",k+="",l=parseInt(l),m="   ".substring(j.length,3)+j+"   ".substring(k.length,3)+k,(m+=-1===l?"  1  1":-2===l?"  1  6":"  "+l+"  0",m)}function g(j,k,l){var m="";return 0!=k&&(m+=h[j]+k),m+=j,(1===l?m+="+3":2===l?m+="++":3===l?m+="+":5===l?m+="-":6===l?m+="--":7===l?m+="-3":void 0,m)}var h={Cs:133,Cu:64,Kr:84,Cl:35,Co:59,Cr:52,Li:7,Cd:112,Ce:140,La:139,Lu:175,Tm:169,Ti:48,Te:128,Dy:162,Ta:181,Mg:24,Tc:98,Tb:159,F:19,Fe:56,B:11,C:12,N:14,O:16,H:1,Eu:152,Mo:96,I:127,Mn:55,K:39,Er:167,W:184,V:51,Ni:59,P:31,S:32,Nd:144,Ne:20,Nb:93,Y:89,Na:23,Ge:73,Gd:157,Ga:70,Yb:173,Pt:195,Pr:141,Hf:178,He:4,Pd:106,Ho:165,Pm:145,Xe:131,Os:190,Se:79,Au:197,Sc:45,In:115,Ar:40,Si:28,As:75,Sn:119,Sm:150,Ba:137,Sr:88,Ir:192,Ru:101,Ag:108,Sb:122,Al:27,Rb:85,Re:186,Rh:103,Br:80,Ca:40,Be:9,Zn:65,Zr:91};return{toJme:function(j,k){var l=(j+"").split(/\n/),m=[],n=parseInt(l[3].substr(0,3)),o=parseInt(l[3].substr(3,3));m.push(n),m.push(o);for(var p=4;p<n+4;p++){var q=l[p],r=parseFloat(q.substr(0,10)).toFixed(2),s=parseFloat(q.substr(10,10)).toFixed(2),t=q.substr(31,3).trim(),u=parseInt(q.substr(34,2).trim()),v=parseInt(q.substr(36,3).trim()),w=parseInt(q.substr(48,3).trim()),z;z=Array.isArray(k)&&k[p-4]?k[p-4]:g(t,u,v),m.push(z,r,s)}for(var p=n+4;p<n+o+4;p++){var q=l[p],A=parseInt(q.substr(0,3)),B=parseInt(q.substr(3,3)),C=parseInt(q.substr(6,3)),D=parseInt(q.substr(9,3));1==D&&(C=-1),6==D&&(C=-2),m.push(A,B,C)}return m.join(" ")},toMolfile:function(j){for(var k=["line 1","","line 3"],l=j.split("|"),m=0,n=0,o=[],p=0;p<l.length;p++){var q=l[p],r=q.split(/[ \r\n\t]+/);if(2>r.length)return;m+=parseInt(r[0]),n+=parseInt(r[1]),o.push(r)}m+="",n+="",k.push("   ".substring(0,3-m.length)+m+"   ".substring(0,3-n.length)+n+"  0  0  0  0  0  0  0  0999 V2000");for(var s=0,t=[],u=[],p=0;p<l.length;p++){for(var r=o[p],m=parseInt(r[0]),n=parseInt(r[1]),v=2;0<m;){m--;var w=r[v++],z=r[v++],A=r[v++];t.push(c(w,z,A))}for(;0<n;){n--;var B=1*r[v++],C=1*r[v++],D=r[v++];u.push(e(B+s,C+s,D))}s+=parseInt(r[0])}return k=k.concat(t),k=k.concat(u),k.push("M  END"),k.join("\n")}}});
