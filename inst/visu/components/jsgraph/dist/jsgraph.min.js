/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.0.68, Date: 2017-12-05T22:30Z */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=133)}([function(t,e,i){var n=i(2),r=i(27),s=i(12),o=i(13),a=i(28),u="prototype",h=function(t,e,i){var l,c,f,p,d=t&h.F,g=t&h.G,y=t&h.S,v=t&h.P,m=t&h.B,x=g?n:y?n[e]||(n[e]={}):(n[e]||{})[u],b=g?r:r[e]||(r[e]={}),k=b[u]||(b[u]={});g&&(i=e);for(l in i)f=((c=!d&&x&&void 0!==x[l])?x:i)[l],p=m&&c?a(f,n):v&&"function"==typeof f?a(Function.call,f):f,x&&o(x,l,f,t&h.U),b[l]!=f&&s(b,l,p),v&&k[l]!=f&&(k[l]=f)};n.core=r,h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},function(t,e,i){var n=i(5);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n,r,s;!function(i,o){r=[e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t){"use strict";function e(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function i(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function n(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var n in t._savedAttributes)i[n]=t._savedAttributes[n];for(var n=0,r=t._savedAttributesIds.length;n<r;n++)for(var s in t._attributes[t._savedAttributesIds[n]])i[s]=t._attributes[t._savedAttributesIds[n]][s];for(var s in i)t.setAttribute(s,i[s])}}function r(){var t,e,i,n,o,a,l=arguments[0],c=1,f=arguments.length,p=!1;for("boolean"==typeof l?(p=l,l=arguments[1]||{},c=2):("object"!==(void 0===l?"undefined":s(l))&&"function"!=typeof l||null==l)&&(l={});c<f;++c)if(null!=(t=arguments[c]))for(e in t)i=l[e],l!==(n=t[e])&&(p&&n&&(h(n)||(o=u(n)))?(o?(o=!1,a=i&&u(i)?i:[]):a=i&&h(i)?i:{},l[e]=r(p,a,n)):void 0!==n&&(l[e]=n));return l}Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributeTo=function(t,e,i){var n;if(i)for(n in e)t.setAttributeNS(i,n,e[n]);else for(n in e)t.setAttribute(n,e[n])},t.mapEventEmission=function(t,e){e||(e=this);var i;for(var n in t)0==n.indexOf("on")&&"function"==typeof t[n]&&(i=(i=n.substring(2)).substring(0,1).toLowerCase()+i.substring(1),e.on&&function(n){e.on(i,function(){t[n].apply(e,arguments)})}(n))},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.throwError=function(t){console.error(t)},t.warn=function(t){console.warn(t)},t.isNumeric=function(t){return!Array.isArray(t)&&t-parseFloat(t)+1>=0},t.hue2rgb=e,t.hslToRgb=function(t,i,n){var r,s,o;if(0==i)r=s=o=n;else{var a=n<.5?n*(1+i):n+i-n*i,u=2*n-a;r=e(u,a,t+1/3),s=e(u,a,t),o=e(u,a,t-1/3)}return[Math.round(255*r),Math.round(255*s),Math.round(255*o)]},t.saveDomAttributes=function(t,e,i){if(t){t._savedAttributesIds=t._savedAttributesIds||[],t._savedAttributesIds.indexOf(i)>-1&&n(t,i),t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i);for(var r in e)t._savedAttributes[r]||(t._savedAttributes[r]=t.getAttribute(r)),t.setAttribute(r,e[r])}},t.hasSavedAttribute=i,t.overwriteDomAttribute=function(t,e,n){i(t,e)&&(t._savedAttributes[e]=n)},t.restoreDomAttributes=n,t.debounce=function(t,e,i){var n;return function(){var r=this,s=arguments,o=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||t.apply(r,s)},e),o&&t.apply(r,s)}},t.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},t.reverseArray=function(t){var e=null,i=null;for(e=0,i=t.length-1;e<i;e+=1,i-=1){var n=t[e];t[e]=t[i],t[i]=n}return t},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},t.setCSS=function(t,e){var i=t.style;for(var n in e)i[n]=e[n]},t.ajaxGet=function(t){return new Promise(function(e,i){var n=new XMLHttpRequest;n.open(t.type||"GET",t.url,!0),t.json&&n.setRequestHeader("Accept","application/json"),n.onload=function(){if(200===n.status){var r=n.responseText;t.json&&(r=JSON.parse(r)),e(r)}else i(new Error("Request error: "+n.status))},n.onerror=function(){i(new Error("Network error: "+n.status))},n.send()})},t.extend=r,t.mix=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},t.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)},h=function(t){if(!t||"[object Object]"!==a.call(t))return!1;var e=o.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!i)return!1;var n;for(n in t);return void 0===n||o.call(t,n)};t.default={},t.isArray=u,t.isPlainObject=h})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(57)("wks"),r=i(34),s=i(2).Symbol,o="function"==typeof s;(t.exports=function(t){return n[t]||(n[t]=o&&s[t]||(o?s:r)("Symbol."+t))}).store=n},function(t,e,i){t.exports=!i(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(1),r=i(99),s=i(22),o=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(n(t),e=s(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(33),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(20);t.exports=function(t){return Object(n(t))}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(8),r=i(31);t.exports=i(7)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(2),r=i(12),s=i(11),o=i(34)("src"),a="toString",u=Function[a],h=(""+u).split(a);i(27).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,i,a){var u="function"==typeof i;u&&(s(i,"name")||r(i,"name",e)),t[e]!==i&&(u&&(s(i,o)||r(i,o,t[e]?""+t[e]:h.join(String(e)))),t===n?t[e]=i:a?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||u.call(this)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(51),r=i(20);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(0),r=i(3),s=i(20),o=/"/g,a=function(t,e,i,n){var r=String(s(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(n).replace(o,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(a),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){var n=i(52),r=i(31),s=i(15),o=i(22),a=i(11),u=i(99),h=Object.getOwnPropertyDescriptor;e.f=i(7)?h:function(t,e){if(t=s(t),e=o(e,!0),u)try{return h(t,e)}catch(t){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(11),r=i(10),s=i(72)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(3);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(0),r=i(27),s=i(3);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*s(function(){i(1)}),"Object",o)}},function(t,e,i){var n=i(28),r=i(51),s=i(10),o=i(9),a=i(225);t.exports=function(t,e){var i=1==t,u=2==t,h=3==t,l=4==t,c=6==t,f=5==t||c,p=e||a;return function(e,a,d){for(var g,y,v=s(e),m=r(v),x=n(a,d,3),b=o(m.length),k=0,A=i?p(e,b):u?p(e,0):void 0;b>k;k++)if((f||k in m)&&(g=m[k],y=x(g,k,v),t))if(i)A[k]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:A.push(g)}else if(l)return!1;return c?-1:h||l?l:A}}},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(54),i(4),i(55)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),u=s(r),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),h(e,[{key:"init",value:function(t,e){var i=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),this.group.jsGraphIsShape=this,this.classes=[],this.transforms=[],this._data.masker){var n=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),n.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),n.appendChild(this.maskDomWrapper);var r=this._dom.cloneNode();n.appendChild(r),this.maskDom=r,this.graph.defs.appendChild(n)}return this.group&&(this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),this.group.addEventListener("mouseover",function(t){i.handleMouseOver(t)}),this.group.addEventListener("mouseout",function(t){i.handleMouseOut(t)}),this.group.addEventListener("mousedown",function(t){i.graph.focus(),i.handleMouseDown(t)}),this.group.addEventListener("click",function(t){i.handleClick(t)}),this.group.addEventListener("dblclick",function(t){i.handleDblClick(t)})),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(t){this._inDom&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden?this:(this.hidden=!0,this.isHTML()?this._dom.style.display="none":this.group.style.display="none",this)}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden?(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw(),this):this}},{key:"addClass",value:function(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}},{key:"removeClass",value:function(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}},{key:"setEventReceptacle",value:function(){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}},{key:"setSerie",value:function(t){if(t){if(this.serie=t,!t.getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){this.yAxis=t}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(t){return this.setProp("layer",t),this}},{key:"getLayer",value:function(){var t=this.getProp("layer");return void 0!==t?t:1}},{key:"draw",value:function(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms(),this):this)}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,n=this.properties.position.length;i<n;i++){var r=o.default.check(this.properties.position[i],function(t){return e.getRelativePosition(t)});this.properties.position[i]=r}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}},{key:"getProperties",value:function(t){return this.properties}},{key:"setProp",value:function(t,e,i){return this.properties=this.properties||{},this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e,this.emit("propertyChanged",t),this}},{key:"getProp",value:function(t,e){return(this.properties[t]||[])[e||0]}},{key:"getProps",value:function(t,e){return this.properties[t]||[]}},{key:"addProp",value:function(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}},{key:"resetProp",value:function(t){this.properties[t]=[]}},{key:"setDom",value:function(t,e,i){this._dom&&(i&&a.hasSavedAttribute(this._dom,t)||this._dom.setAttribute(t,e))}},{key:"setDomGroup",value:function(t,e){this.group&&this.group.setAttribute(t,e)}},{key:"setStrokeColor",value:function(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(t){return this.setProp("attributes",t),this}},{key:"overwriteSavedProp",value:function(t,e){a.overwriteDomAttribute(this._dom,t,e)}},{key:"addAttribute",value:function(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}},{key:"addTransform",value:function(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(t,e){return this.setProp("labelText",t,e||0),this}},{key:"setLabelData",value:function(t,e){return this.setProp("labelData",text,e||0),this}},{key:"getLabelText",value:function(t,e){return this.getProp("labelText",e||0)}},{key:"displayLabel",value:function(t){return this.setProp("labelVisible",!0,t||0),this}},{key:"hideLabel",value:function(t){return this.setProp("labelVisible",!1,t||0),this}},{key:"setLabelColor",value:function(t,e){return this.setProp("labelColor",t,e||0),this}},{key:"setLabelFontSize",value:function(t,e){return this.setProp("labelFontSize",t,e||0),this}},{key:"getLabelPosition",value:function(t){return this.getProp("labelPosition",t||0)}},{key:"setLabelPosition",value:function(t,e){var i=o.default.check(t,function(t){return(void 0).getRelativePosition(t)});return this.setProp("labelPosition",i,e||0),this}},{key:"setLabelAngle",value:function(t,e){return this.setProp("labelAngle",t,e||0),this}},{key:"setLabelBaseline",value:function(t,e){return this.setProp("labelBaseline",t,e||0),this}},{key:"setLabelAnchor",value:function(t,e){return this.setProp("labelAnchor",t,e||0),this}},{key:"setLabelSize",value:function(t,e){return this.setProp("labelSize",t,e||0),this}},{key:"setLabelStrokeColor",value:function(t,e){return this.setProp("labelStrokeColor",t,e||0),this}},{key:"setLabelStrokeWidth",value:function(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}},{key:"setLabelBackgroundColor",value:function(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}},{key:"setLabelBackgroundOpacity",value:function(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var n in t[e])this.setDom(n,"function"==typeof t[e][n]?t[e][n].call(this,n):t[e][n],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(t){var e;if(e=t instanceof o.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(t){var e=this.getProp("position",t||0);return this.setProp("position",e=o.default.check(e),t),e}},{key:"setPosition",value:function(t,e){var i=this,n=o.default.check(t,function(t){return i.getRelativePosition(t)});return this.setProp("position",n,e||0)}},{key:"sortPositions",value:function(t){return this.getProps("position").sort(t),this}},{key:"_applyTransforms",value:function(){var t=this.getProp("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){switch(e+=t[i].type+"(",t[i].type){case"translate":var n=t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());e+=n.x,e+=", ",e+=n.y;break;case"rotate":if(e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length){var r=this.computePosition(0);e+=r.x+", "+r.y}else e+=o.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=o.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px","")}e+=") "}return this.setDomGroup("transform",e),this}}},{key:"makeLabels",value:function(){var t=this;this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(e){t.group.removeChild(e)}),this._labelsBackground.map(function(e){t.group.removeChild(e)}),this._labels=[],this._labelsBackground[e]=[];for(var e=0;void 0!==this.getProp("labelText",e);)this._labels[e]||(this._labels[e]=document.createElementNS(this.graph.ns,"text"),this._labels[e].setAttribute("data-label-i",e),this._labels[e].jsGraphIsShape=this,this._labelsBackground[e]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[e].setAttribute("data-label-i",e),this._labelsBackground[e].jsGraphIsShape=this,this.group.appendChild(this._labelsBackground[e]),this.group.appendChild(this._labels[e]),this._labels[e].addEventListener("dblclick",function(e){e.stopPropagation(),t.labelDblClickListener(e)}),this._labelsBackground[e].addEventListener("dblclick",function(e){e.stopPropagation(),t.labelDblClickListener(e)})),e++;return this.updateLabels(),this}},{key:"isLabelEditable",value:function(t){return this.getProp("labelEditable",t||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}},{key:"_applyLabelData",value:function(t){t=t||0;if(!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(o.default.check(this.getProp("labelPosition",t)));if(!isNaN(e.x)&&!isNaN(e.y)&&!1!==e.y&&!1!==e.x){"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var n=this._labels[t].getAttribute("x"),r=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform","rotate("+i+" "+n+" "+r+")")}var s=this.getProp("labelHTMLData",t)||{};for(var a in s)this._labels[t].setAttribute(a,s[a]),this._labelsBackground[t].setAttribute(a,s[a]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this._labels[t].setAttribute("font-size",this.getProp("labelSize",t)+"px"||"12px"),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"0px"),this._labels[t].setAttribute("stroke-location","outside");var u=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",u.x),this._labelsBackground[t].setAttribute("y",u.y),this._labelsBackground[t].setAttribute("width",u.width),this._labelsBackground[t].setAttribute("height",u.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}},{key:"_getLabelAnchor",value:function(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";case"left":default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}},{key:"addHandles",value:function(){if(!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];a.saveDomAttributes(this._dom,e,"select")}}},{key:"_unselect",value:function(t){this._selectStatus=!1,a.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(t){return this.selectStyle=t,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(t){this.setProp("staticHandles",t)}},{key:"hasStaticHandles",value:function(t){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(t,e,i,n){var r=this;if(!(this.handles&&this.handles.length>0)){for(var s=1,o=t;s<=o;s++)(function(t){var s=r,o=document.createElementNS(s.graph.ns,e);if(o.jsGraphIsShape=!0,i)for(var a in i)o.setAttribute(a,i[a]);o.addEventListener("mousedown",function(e){s.isResizable()&&(e.preventDefault(),e.stopPropagation(),s.graph.emit("beforeShapeResize",s),r.emit("beforeShapeResize"),s.graph.prevent(!1)||(s.resizing=!0,s.handleSelected=t,s.handleMouseDown(e)))}),n&&n(s.handles[t]),s.handles[t]=o}).call(this,s);return this.handles}}},{key:"createHandles",value:function(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}},{key:"handleClick",value:function(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}},{key:"handleMouseMove",value:function(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),n=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);0==i&&0===n||(this.preventUnselect=!0),this._mouseCoords=e;return this.handleMouseMoveImpl(t,i,n,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}},{key:"handleMouseUp",value:function(t){return this.moving&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}},{key:"handleDblClick",value:function(t){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(t){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),a.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}},{key:"unHighlight",value:function(t){return t||(t="highlight"),a.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(t){return this._highlightAttributes=t,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(t){var e=t.getMaskingID();e?this._dom.setAttribute("mask","url(#"+e+")"):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){return}},{key:"labelDblClickListener",value:function(t){var e=parseInt(t.target.getAttribute("data-label-i")),i=this;if(!isNaN(e)&&this.isLabelEditable(e)){t.preventDefault(),t.stopPropagation();var n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",i.getProp("labelText",e)),i.graph.wrapper.prepend(n),n.select(),a.setCSS(n,{position:"absolute",marginTop:parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});var r=i.getLabelText(e),s=function t(){i.setLabelText(n.value,e),i._labels[e].textContent=n.value;var s=n.value;n.remove(),n.removeEventListener("blur",t),n=!1,i.changed("shapeLabelChanged",{previousValue:r,nextValue:s})};n.addEventListener("blur",s),n.addEventListener("keyup",function(t){13===t.keyCode&&s()}),n.addEventListener("keypress",function(t){t.stopPropagation()}),n.addEventListener("keydown",function(t){t.stopPropagation()}),n.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(t){return this._forcedParentDom=t,this}},{key:"isHTML",value:function(){return!1}}]),e}();l.prototype.computePosition=l.prototype.calculatePosition,l.prototype.showLabel=l.prototype.displayLabel,l.prototype.remove=l.prototype.kill,e.default=l,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(55)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.options=Object.assign({},e.default(),i.constructor.default(),t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,null,[{key:"default",value:function(){return{}}}]),r(e,[{key:"init",value:function(t){this.graph=t}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),e}();e.default=s,t.exports=e.default})},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(14);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){"use strict";if(i(7)){var n=i(35),r=i(2),s=i(3),o=i(0),a=i(66),u=i(95),h=i(28),l=i(41),c=i(31),f=i(12),p=i(42),d=i(33),g=i(9),y=i(37),v=i(22),m=i(11),x=i(105),b=i(53),k=i(5),A=i(10),M=i(87),w=i(38),S=i(18),_=i(39).f,P=i(89),C=i(34),O=i(6),L=i(24),E=i(58),T=i(92),X=i(91),D=i(47),j=i(62),I=i(40),N=i(90),Y=i(114),F=i(8),B=i(17),R=F.f,H=B.f,W=r.RangeError,z=r.TypeError,V=r.Uint8Array,U="ArrayBuffer",G="Shared"+U,Z="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=u.ArrayBuffer,Q=u.DataView,$=L(0),tt=L(2),et=L(3),it=L(4),nt=L(5),rt=L(6),st=E(!0),ot=E(!1),at=X.values,ut=X.keys,ht=X.entries,lt=K.lastIndexOf,ct=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,gt=K.slice,yt=K.toString,vt=K.toLocaleString,mt=O("iterator"),xt=O("toStringTag"),bt=C("typed_constructor"),kt=C("def_constructor"),At=a.CONSTR,Mt=a.TYPED,wt=a.VIEW,St="Wrong length!",_t=L(1,function(t,e){return Tt(T(t,t[kt]),e)}),Pt=s(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ct=!!V&&!!V[q].set&&s(function(){new V(1).set({})}),Ot=function(t,e){if(void 0===t)throw z(St);var i=+t,n=g(t);if(e&&!x(i,n))throw W(St);return n},Lt=function(t,e){var i=d(t);if(i<0||i%e)throw W("Wrong offset!");return i},Et=function(t){if(k(t)&&Mt in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,e){if(!(k(t)&&bt in t))throw z("It is not a typed array constructor!");return new t(e)},Xt=function(t,e){return Dt(T(t,t[kt]),e)},Dt=function(t,e){for(var i=0,n=e.length,r=Tt(t,n);n>i;)r[i]=e[i++];return r},jt=function(t,e,i){R(t,e,{get:function(){return this._d[i]}})},It=function(t){var e,i,n,r,s,o,a=A(t),u=arguments.length,l=u>1?arguments[1]:void 0,c=void 0!==l,f=P(a);if(void 0!=f&&!M(f)){for(o=f.call(a),n=[],e=0;!(s=o.next()).done;e++)n.push(s.value);a=n}for(c&&u>2&&(l=h(l,arguments[2],2)),e=0,i=g(a.length),r=Tt(this,i);i>e;e++)r[e]=c?l(a[e],e):a[e];return r},Nt=function(){for(var t=0,e=arguments.length,i=Tt(this,e);e>t;)i[t]=arguments[t++];return i},Yt=!!V&&s(function(){vt.call(new V(1))}),Ft=function(){return vt.apply(Yt?gt.call(Et(this)):Et(this),arguments)},Bt={copyWithin:function(t,e){return Y.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Et(this),arguments)},filter:function(t){return Xt(this,tt(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return st(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Et(this),arguments)},lastIndexOf:function(t){return lt.apply(Et(this),arguments)},map:function(t){return _t(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(Et(this),arguments)},reduceRight:function(t){return ft.apply(Et(this),arguments)},reverse:function(){for(var t,e=Et(this).length,i=Math.floor(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Et(this),t)},subarray:function(t,e){var i=Et(this),n=i.length,r=y(t,n);return new(T(i,i[kt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===e?n:y(e,n))-r))}},Rt=function(t,e){return Xt(this,gt.call(Et(this),t,e))},Ht=function(t){Et(this);var e=Lt(arguments[1],1),i=this.length,n=A(t),r=g(n.length),s=0;if(r+e>i)throw W(St);for(;s<r;)this[e+s]=n[s++]},Wt={entries:function(){return ht.call(Et(this))},keys:function(){return ut.call(Et(this))},values:function(){return at.call(Et(this))}},zt=function(t,e){return k(t)&&t[Mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return zt(t,e=v(e,!0))?c(2,t[e]):H(t,e)},Ut=function(t,e,i){return!(zt(t,e=v(e,!0))&&k(i)&&m(i,"value"))||m(i,"get")||m(i,"set")||i.configurable||m(i,"writable")&&!i.writable||m(i,"enumerable")&&!i.enumerable?R(t,e,i):(t[e]=i.value,t)};At||(B.f=Vt,F.f=Ut),o(o.S+o.F*!At,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Ut}),s(function(){yt.call({})})&&(yt=vt=function(){return pt.call(this)});var Gt=p({},Bt);p(Gt,Wt),f(Gt,mt,Wt.values),p(Gt,{slice:Rt,set:Ht,constructor:function(){},toString:yt,toLocaleString:Ft}),jt(Gt,"buffer","b"),jt(Gt,"byteOffset","o"),jt(Gt,"byteLength","l"),jt(Gt,"length","e"),R(Gt,xt,{get:function(){return this[Mt]}}),t.exports=function(t,e,i,u){var h=t+((u=!!u)?"Clamped":"")+"Array",c="Uint8Array"!=h,p="get"+t,d="set"+t,y=r[h],v=y||{},m=y&&S(y),x=!y||!a.ABV,A={},M=y&&y[q],P=function(t,i){R(t,i,{get:function(){return function(t,i){var n=t._d;return n.v[p](i*e+n.o,Pt)}(this,i)},set:function(t){return function(t,i,n){var r=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[d](i*e+r.o,n,Pt)}(this,i,t)},enumerable:!0})};x?(y=i(function(t,i,n,r){l(t,y,h,"_d");var s,o,a,u,c=0,p=0;if(k(i)){if(!(i instanceof J||(u=b(i))==U||u==G))return Mt in i?Dt(y,i):It.call(y,i);s=i,p=Lt(n,e);var d=i.byteLength;if(void 0===r){if(d%e)throw W(St);if((o=d-p)<0)throw W(St)}else if((o=g(r)*e)+p>d)throw W(St);a=o/e}else a=Ot(i,!0),s=new J(o=a*e);for(f(t,"_d",{b:s,o:p,l:o,e:a,v:new Q(s)});c<a;)P(t,c++)}),M=y[q]=w(Gt),f(M,"constructor",y)):j(function(t){new y(null),new y(t)},!0)||(y=i(function(t,i,n,r){l(t,y,h);var s;return k(i)?i instanceof J||(s=b(i))==U||s==G?void 0!==r?new v(i,Lt(n,e),r):void 0!==n?new v(i,Lt(n,e)):new v(i):Mt in i?Dt(y,i):It.call(y,i):new v(Ot(i,c))}),$(m!==Function.prototype?_(v).concat(_(m)):_(v),function(t){t in y||f(y,t,v[t])}),y[q]=M,n||(M.constructor=y));var C=M[mt],O=!!C&&("values"==C.name||void 0==C.name),L=Wt.values;f(y,bt,!0),f(M,Mt,h),f(M,wt,!0),f(M,kt,y),(u?new y(1)[xt]==h:xt in M)||R(M,xt,{get:function(){return h}}),A[h]=y,o(o.G+o.W+o.F*(y!=v),A),o(o.S,h,{BYTES_PER_ELEMENT:e,from:It,of:Nt}),Z in M||f(M,Z,e),o(o.P,h,Bt),I(h),o(o.P+o.F*Ct,h,{set:Ht}),o(o.P+o.F*!O,h,Wt),o(o.P+o.F*(M.toString!=yt),h,{toString:yt}),o(o.P+o.F*s(function(){new y(1).slice()}),h,{slice:Rt}),o(o.P+o.F*(s(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!s(function(){M.toLocaleString.call([1,2])})),h,{toLocaleString:Ft}),D[h]=O?C:L,n||O||f(M,mt,L)}}else t.exports=function(){}},function(t,e,i){var n=i(117),r=i(0),s=i(57)("metadata"),o=s.store||(s.store=new(i(120))),a=function(t,e,i){var r=o.get(t);if(!r){if(!i)return;o.set(t,r=new n)}var s=r.get(e);if(!s){if(!i)return;r.set(e,s=new n)}return s};t.exports={store:o,map:a,has:function(t,e,i){var n=a(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=a(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){a(i,n,!0).set(t,e)},keys:function(t,e){var i=a(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(34)("meta"),r=i(5),s=i(11),o=i(8).f,a=0,u=Object.isExtensible||function(){return!0},h=!i(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,n,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,n)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[n].i},getWeak:function(t,e){if(!s(t,n)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[n].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!s(t,n)&&l(t),t}}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var n=i(101),r=i(73);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(33),r=Math.max,s=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):s(t,e)}},function(t,e,i){var n=i(1),r=i(102),s=i(73),o=i(72)("IE_PROTO"),a=function(){},u=function(){var t,e=i(70)("iframe"),n=s.length;for(e.style.display="none",i(75).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[s[n]];return u()};t.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[o]=t):i=u(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(101),r=i(73).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";var n=i(2),r=i(8),s=i(7),o=i(6)("species");t.exports=function(t){var e=n[t];s&&e&&!e[o]&&r.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(13);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,i,n){var r,s,o;!function(e,a){s=[t,i,n(54),n(4),n(55),n(44)],void 0!==(o="function"==typeof(r=a)?r.apply(i,s):r)&&(t.exports=o)}(0,function(t,i,n,r,s,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){for(var i=0,n=e.length;i<n;i++){for(var r=!0,s=0,o=e[i].length;s<o;s++)t[0]<e[i][s][0]&&t[1]<e[i][s][0]||t[0]>e[i][s][1]&&t[1]>e[i][s][1]||(r=!1);if(r)return e[i].push(t),i}return e.push([t]),e.length-1}function h(t,i,n){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,n,[t,e]);!function(t,e,i,n){var r,s,o=t.options.keyActions;for(r=0,s=o.length;r<s;r++){if(o[r].plugin){if(t.forcedPlugin==o[r].plugin||t.isActionAllowed(e,o[r]))return o[r].options&&i.push(o[r].options),t.activePlugin=o[r].plugin,t._pluginExecute(o[r].plugin,n,i),e.preventDefault(),e.stopPropagation(),!0}else if(o[r].callback&&t.isActionAllowed(e,o[r]))return o[r].options&&i.push(o[r].options),e.preventDefault(),e.stopPropagation(),o[r].callback.apply(t,i),!0;o[r].removeSelectedShape&&t.isActionAllowed(e,o[r])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map(function(t){t.kill()}))}}(t,i,[t,i],n)}function l(){this.dom=document.createElementNS(_.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),v.setAttributeTo(this.dom,{xmlns:_.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{v.setAttributeTo(this.dom,{"data-jsgraph-version":"v2.0.68"})}catch(t){}this.defs=document.createElementNS(_.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(_.ns,"g"),this.rectEvent=document.createElementNS(_.ns,"rect"),v.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(_.ns,"text"),this.setTitle(this.options.title),v.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(_.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(_.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(_.ns,"g"),this.groupPrimaryGrids=document.createElementNS(_.ns,"g"),this.groupSecondaryGrids=document.createElementNS(_.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(_.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(_.ns,"clipPath"),this.clip.setAttribute("id","_clipplot"+this._creation),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(_.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow"+this._creation),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var t=document.createElementNS(_.ns,"path");t.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(t),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(_.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_"+this.getId()),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8");e=document.createElementNS(_.ns,"line");e.setAttribute("x1","0"),e.setAttribute("y1","8"),e.setAttribute("x2","6"),e.setAttribute("y2","0"),e.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(e),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(_.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_"+this.getId()),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6");var e;(e=document.createElementNS(_.ns,"line")).setAttribute("x1","0"),e.setAttribute("y1","0"),e.setAttribute("x2","8"),e.setAttribute("y2","6"),e.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(e),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(_.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline"+this._creation),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var i=document.createElementNS(_.ns,"path");i.setAttribute("d","M 0 -10 L 0 10"),i.setAttribute("stroke","black"),this.vertLineArrow.appendChild(i),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}function c(t){if(!t.wrapper)throw"No wrapper exists. Cannot register the events.";t.wrapper.addEventListener("keydown",function(e){h(t,e,"keydown")}),t.wrapper.addEventListener("keypress",function(e){h(t,e,"keypress")}),t.wrapper.addEventListener("keyup",function(e){h(t,e,"keyup")}),t.dom.addEventListener("mousemove",function(e){var i=t._getXY(e);!function(t,e,i,n){if(t.bypassHandleMouse)return void t.bypassHandleMouse.handleMouseMove(n);if(t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseMove",[t,e,i,n]))return;if(t._applyToAxes("handleMouseMove",[e-t.options.paddingLeft,n],!0,!1),t._applyToAxes("handleMouseMove",[i-t.options.paddingTop,n],!1,!0),!t.activePlugin){var r;if(t.options.trackingLine&&t.options.trackingLine.enable&&t.options.trackingLine.snapToSerie&&"common"==t.options.trackingLine.mode){var s=t.options.trackingLine.snapToSerie;if(r=s.handleMouseMove(!1,!0),this.trackingObject)if(r){t.trackingObject.show(),t.trackingObject.getPosition(0).x=r.xClosest,t.trackingObject.getPosition(1).x=r.xClosest,t.trackingObject.redraw();e=s.getXAxis().getPx(r.xClosest)+t.options.paddingLeft}else t.trackingObject.hide();var o=t.options.trackingLine.series;o||(o=t.getSeries().map(function(t){return{serie:t,withinPx:20,withinVal:-1}})),t._trackingLegend=P(t,o,e,i,t._trackingLegend,t.options.trackingLine.textMethod,r.xClosest)}}if(t.options.onMouseMoveData){for(var a={},u=0;u<t.series.length;u++)a[t.series[u].getName()]=t.series[u].handleMouseMove(!1,!0);t.options.onMouseMoveData.call(t,n,a)}f(t,n,[t,e,i,n],"onMouseMove")}(t,i.x,i.y,e)}),t.dom.addEventListener("mouseleave",function(e){!function(t){t.options.handleMouseLeave&&t.options.handleMouseLeave.call(t)}(t)}),t.groupEvent.addEventListener("mousedown",function(e){if(t.focus(),3!=e.which&&!e.ctrlKey){var i=t._getXY(e);!function(t,e,i,n){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,"onMouseDown",[t,e,i,n]);t.activePlugin&&(t.activePlugin=!1);f(t,n,[t,e,i,n],"onMouseDown")}(t,i.x,i.y,e)}}),t.dom.addEventListener("mouseup",function(e){t.emit("mouseUp",e);var i=t._getXY(e);!function(t,e,i,n){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(n),void(t.activePlugin=!1);t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,n]),t.activePlugin=!1}(t,i.x,i.y,e)}),t.wrapper.addEventListener("mouseup",function(t){t.stopPropagation()}),t.dom.addEventListener("dblclick",function(e){t.emit("dblClick",e);var i=t._getXY(e);!function(t,e,i,n){t.options.dblclick;f(t,n,[e,i,n],"onDblClick")}(t,i.x,i.y,e)}),t.groupEvent.addEventListener("click",function(e){if(3!=e.which&&!e.ctrlKey){var i=t._getXY(e);t.prevent(!1)||function(t,e,i,n){t.emit("click",[t,e,i,n]),f(t,n,[e,i,n],"onClick"),n.target.jsGraphIsShape||t.prevent(!1)||!t.options.shapesUnselectOnClick||t.unselectShapes()}(t,i.x,i.y,e)}}),t.groupEvent.addEventListener("mousewheel",function(e){var i=e.wheelDeltaY||e.wheelDelta||-e.deltaY,n=t._getXY(e);return g(t,i,n.x,n.y,e),!1}),t.groupEvent.addEventListener("wheel",function(e){var i=t._getXY(e),n=e.wheelDeltaY||e.wheelDelta||-e.deltaY;return g(t,n,i.x,i.y,e),!1})}function f(t,e,i,n){var r,s,o=t.options.mouseActions,a=!1;for(r=0,s=o.length;r<s;r++)if(o[r].plugin){if(t.forcedPlugin==o[r].plugin||t.isActionAllowed(e,o[r])){o[r].options&&i.push(o[r].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=o[r].plugin),t._pluginExecute(o[r].plugin,n,i),a=!0;continue}}else{if(o[r].callback&&t.isActionAllowed(e,o[r])){o[r].options&&i.push(o[r].options),o[r].callback.apply(t,i),a=!0;continue}if(o[r].series){var u;"all"===o[r].series&&(u=t.series),Array.isArray(o[r].series)||(u=[u]),o[r].options&&i.push(o[r].options);for(;0<u.length;r++)t._serieExecute(u[r],n,i);a=!0;continue}}return a}function p(t,e,i,n){var r,i=i||{},s={def:{x:t.getConstructor("graph.axis.x"),y:t.getConstructor("graph.axis.y")},time:{x:t.getConstructor("graph.axis.x.time")},bar:{x:t.getConstructor("graph.axis.x.bar")}};switch(i.type){case"time":o=s.time;break;case"bar":o=s.bar;break;case"broken":o=s.broken;break;default:var o=s.def}switch(n){case"top":case"bottom":r=o.x;break;case"left":case"right":r=o.y}return"object"==(void 0===(e=e||0)?"undefined":k(e))&&(i=e,e=0),t.axis[n][e]||(t.axis[n][e]=new r(t,n,i),t.axis[n][e].init(t,i)),t.axis[n][e]}function d(t,e,i,n,r,s){if(!1!==t.options.close){var o=0;t.axis[e].map(function(t){t.isDisplayed()&&!t.floating&&o++}),!0!==t.options.close&&!t.options.close[e]||0!=o?t.closingLines[e].setAttribute("display","none"):(t.closingLines[e].setAttribute("display","block"),t.closingLines[e].setAttribute("x1",i),t.closingLines[e].setAttribute("x2",n),t.closingLines[e].setAttribute("y1",r),t.closingLines[e].setAttribute("y2",s))}}function g(t,e,i,n,r){f(t,r,[e,r,i,n],"onMouseWheel")&&(r.preventDefault(),r.stopPropagation())}Object.defineProperty(i,"__esModule",{value:!0});var y=a(n),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r),m=a(s),x=a(o),b=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),M={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},w={shape:"circle",r:4},S=new Map,_=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));r._creation=v.guid(),r._drawn=!1,t!==Object(t)||t instanceof HTMLElement?"string"==typeof t?t=document.getElementById(t):"number"==typeof t.length&&(t=t[0]):(n=i,i=t,t=null),r.options=v.extend({},M,i),l.bind(r)(),t&&r.setWrapper(t),r.prevented=!1,r.axis={left:[],top:[],bottom:[],right:[]},r.shapes=[],r.shapesLocked=!1,r.plugins={};for(var s in r.options.pluginAction)r.options.pluginAction.plugin=s,r.options.mouseActions.push(r.options.pluginAction);if(r.selectedShapes=[],r.series=[],r._axesHaveChanged=!0,r.options.hasOwnProperty("padding")&&v.isNumeric(r.options.padding)&&(r.options.paddingTop=r.options.paddingBottom=r.options.paddingLeft=r.options.paddingRight=r.options.padding),r.currentAction=!1,r.ns=e.ns,r.nsxlink=e.nsxlink,n)for(var s in n)for(var o=0,a=n[s].length;o<a;o++)switch(s){case"top":r.getTopAxis(o,n[s][o]);break;case"bottom":r.getBottomAxis(o,n[s][o]);break;case"left":r.getLeftAxis(o,n[s][o]);break;case"right":r.getRightAxis(o,n[s][o])}return r._pluginsInit(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,m.default),A(e,[{key:"setWrapper",value:function(t){if(!t)throw"The wrapper DOM element was not found.";if(!t.appendChild)throw"The wrapper appears to be an invalid HTMLElement";if(t.style["-webkit-user-select"]="none",t.style["-moz-user-select"]="none",t.style["-o-user-select"]="none",t.style["-ms-user-select"]="none",t.style["user-select"]="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width),n=parseInt(e.height);this.setSize(i,n),this._resize()}t.appendChild(this.dom),c(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(t,e){return this.options[t]=e,this}},{key:"setTitle",value:function(t){this.options.title=t,this.domTitle.textContent=t}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(t,e){if(this.width&&this.height)return this.sizeSet?!t||e||function(t){var e=t._axesHaveChanged;return t._axesHaveChanged=!1,e}(this)||function(t){var e=t._sizeChanged;return t._sizeChanged=!1,e}(this)?(this.executeRedrawSlaves(),function(t){var e={top:[],bottom:[],left:[],right:[]},i={top:[],bottom:[],left:[],right:[]};t._painted=!0,t._applyToAxes(function(t,n){if(t.isShown()){if(t.showGroup(),!t.floating){var r=u(t.getSpan(),i[n]);t.setLevel(r),e[n][r]=Math.max(t.getAxisPosition(),e[n][r]||0)}}else t.hideGroup()},!1,!0,!1);var n=e.top.reduce(function(t,e){return t+e},0),r=e.bottom.reduce(function(t,e){return t+e},0);t.drawingSpaceHeight=t.getDrawingHeight()-n-r,[e.top,e.bottom].map(function(t){t.reduce(function(e,i,n){return t[n]=e+i,e+i},0)}),t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&t.setShift(e[i][t.getLevel()])},!1,!0,!1),t._applyToAxes(function(s,o){if(s.isShown()?s.showGroup():s.hideGroup(),s.setMinPx(n),s.setMaxPx(t.getDrawingHeight(!0)-r),!s.floating){var a=s.linkedToAxis?0:s.draw();if(s.isShown()){var h=u(s.getSpan(),i[o]);s.setLevel(h),e[o][h]=Math.max(a,e[o][h]||0)}}},!1,!1,!0);var s=v.extend(!0,{},e);t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&(s[i][t.getLevel()]=Math.max(e[i][t.getLevel()],t.equalizePosition(e[i][t.getLevel()])))},!1,!1,!0);var o=(e=s).left.reduce(function(t,e){return t+e},0),a=e.right.reduce(function(t,e){return t+e},0);t.drawingSpaceWidth=t.getDrawingWidth()-o-a,[e.left,e.right].map(function(t){t.reduce(function(e,i,n){return t[n]=e+i,e+i},0)}),t._applyToAxes(function(t,i){t.isShown()&&!t.floating&&t.setShift(e[i][t.getLevel()])},!1,!1,!0),t._applyToAxes(function(e,i){e.isShown(),e.setMinPx(o),e.setMaxPx(t.getDrawingWidth(!0)-a),e.floating||e.linkedToAxis||e.draw()},!1,!0,!1),t._applyToAxes(function(t){if(t.floating){var e=t.getFloatingAxis(),i=t.getFloatingValue(),n=e.getPx(i);t.setShift(n),t.linkedToAxis||t.draw()}},!1,!0,!0),d(t,"right",t.getDrawingWidth(!0),t.getDrawingWidth(!0),n,t.getDrawingHeight(!0)-r),d(t,"left",0,0,n,t.getDrawingHeight(!0)-r),d(t,"top",o,t.getDrawingWidth(!0)-a,0,0),d(t,"bottom",o,t.getDrawingWidth(!0)-a,t.getDrawingHeight(!0)-r,t.getDrawingHeight(!0)-r),t.clipRect.setAttribute("y",n),t.clipRect.setAttribute("x",o),t.clipRect.setAttribute("width",t.getDrawingWidth()-o-a),t.clipRect.setAttribute("height",t.getDrawingHeight()-n-r),t.rectEvent.setAttribute("y",n+t.getPaddingTop()),t.rectEvent.setAttribute("x",o+t.getPaddingLeft()),t.rectEvent.setAttribute("width",t.drawingSpaceWidth),t.rectEvent.setAttribute("height",t.drawingSpaceHeight),t.drawingSpaceMinX=o+t.getPaddingLeft(),t.drawingSpaceMinY=n+t.getPaddingTop(),t.drawingSpaceMaxX=t.getDrawingWidth()-a+t.getPaddingLeft(),t.drawingSpaceMaxY=t.getDrawingHeight()-r+t.getPaddingTop(),t._applyToAxes(function(t,e){t.isShown()&&t.drawLines()},!1,!0,!0),t.shift=e,t.redrawShapes()}(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(t){this._pluginsExecute("preDraw")}},{key:"draw",value:function(t){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(t,e){this.width=t,e||this._resize()}},{key:"setHeight",value:function(t,e){this.height=t,e||this._resize()}},{key:"resize",value:function(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}},{key:"setSize",value:function(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(t){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(t){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=v.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getXAxis",value:function(t,e){return this.axis.top.length>0&&0==this.axis.bottom.length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}},{key:"getYAxis",value:function(t,e){return this.axis.right.length>0&&0==this.axis.left.length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}},{key:"getTopAxis",value:function(t,e){return p(this,t,e,"top")}},{key:"getBottomAxis",value:function(t,e){return p(this,t,e,"bottom")}},{key:"getLeftAxis",value:function(t,e){return p(this,t,e,"left")}},{key:"getRightAxis",value:function(t,e){return p(this,t,e,"right")}},{key:"setXAxis",value:function(t,e){this.setBottomAxis(t,e)}},{key:"setYAxis",value:function(t,e){this.setLeftAxis(t,e)}},{key:"setLeftAxis",value:function(t,e){e=e||0,this.axis.left[e]&&this.axis.left[e].kill(),this.axis.left[e]=t}},{key:"setRightAxis",value:function(t,e){e=e||0,this.axis.right[e]&&this.axis.right[e].kill(),this.axis.right[e]=t}},{key:"setTopAxis",value:function(t,e){e=e||0,this.axis.top[e]&&this.axis.top[e].kill(),this.axis.top[e]=t}},{key:"setBottomAxis",value:function(t,e){e=e||0,this.axis.bottom[e]&&this.axis.bottom[e].kill(),this.axis.bottom[e]=t}},{key:"killAxis",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.isX()&&((e=this.axis.bottom.indexOf(t))>-1&&this.axis.bottom.splice(e,1),(e=this.axis.top.indexOf(t))>-1&&this.axis.top.splice(e,1),n||this.series.map(function(e){e.getXAxis()==t&&e.kill()})),t.isY()&&((e=this.axis.left.indexOf(t))>-1&&this.axis.left.splice(e,1),(e=this.axis.right.indexOf(t))>-1&&this.axis.right.splice(e,1),n||this.series.map(function(e){e.getYAxis()==t&&e.kill()})),this.axisGroup.removeChild(t.group),this.groupPrimaryGrids.removeChild(t.gridPrimary),this.groupSecondaryGrids.removeChild(t.gridSecondary),i||this.draw(!0)}},{key:"hasXAxis",value:function(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}},{key:"hasYAxis",value:function(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}},{key:"hasTopAxis",value:function(t){return this.hasAxis(t,this.axis.top)}},{key:"hasBottomAxis",value:function(t){return this.hasAxis(t,this.axis.bottom)}},{key:"hasLeftAxis",value:function(t){return this.hasAxis(t,this.axis.left)}},{key:"hasRightAxis",value:function(t){return this.hasAxis(t,this.axis.right)}},{key:"hasAxis",value:function(t,e){for(var i=0,n=e.length;i<n;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(t){return t?(t.setMinMaxToFitSeries(),this):this}},{key:"setBackgroundColor",value:function(t){return this.rectEvent.setAttribute("fill",t),this}},{key:"getAxisState",value:function(){var t={};for(var e in this.axis)t[e]=this.axis[e].map(function(t){return[t.getCurrentMin(),t.getCurrentMax()]});return t}},{key:"setAxisState",value:function(t){var e,i;for(var n in t)if(this.axis[n])for(e=0,i=t[n].length;e<i;e++)this.axis[n][e]&&(this.axis[n][e].setCurrentMin(t[n][e][0]),this.axis[n][e].setCurrentMax(t[n][e][1]));this.draw()}},{key:"saveAxisState",value:function(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}},{key:"recallAxisState",value:function(t){return this.savedAxisState[savedName]&&this.recallAxisState(this.savedAxisState[savedName]),this}},{key:"_applyToAxis",value:function(t){switch(t){case"string":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)this.axis[t][n][e].apply(this.axis[t][n],i)};case"function":return function(t,e,i){for(var n=0;n<this.axis[t].length;n++)e.call(this,this.axis[t][n],t,i)}}}},{key:"getBoundaryAxis",value:function(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}},{key:"getBoundaryAxisFromSeries",value:function(t,e,i){var n,r,s,o,a,u,h="min"==e,l=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[h?0:1],c=h?1/0:-1/0;for(n=c,a=0,u=(s=this.getSeriesFromAxis(t)).length;a<u;a++)(r=s[a]).isShown()&&(o=r[l](i),n=Math[e](isNaN(n)?c:n,isNaN(o)?c:o));return n}},{key:"getSeriesFromAxis",value:function(t){for(var e=[],i=this.series.length-1;i>=0;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}},{key:"updateDataMinMaxAxes",value:function(t){var e,i,n,r,s=["bottom","top","left","right"];for(i=0,n=s.length;i<n;i++)for(r=this.axis[s[i]].length-1;r>=0;r--){e=this.axis[s[i]][r],i<2?"x":"y",e.isShown();var o=this.getBoundaryAxis(this.axis[s[i]][r],"min",t),a=this.getBoundaryAxis(this.axis[s[i]][r],"max",t);isFinite(o)&&e.setMinValueData(o),isFinite(a)&&e.setMaxValueData(a)}}},{key:"_applyToAxes",value:function(t,e,i,n){var r,s=[],o=0;for((i||void 0==i)&&(s.push("top"),s.push("bottom")),(n||void 0==n)&&(s.push("left"),s.push("right")),r=s.length;o<r;o++)this._applyToAxis(void 0===t?"undefined":k(t)).call(this,s[o],t,e)}},{key:"findAxesLinkedTo",value:function(t){var e=[];return this._applyToAxes(function(i){i.linkedToAxis&&i.linkedToAxis.axis==t&&e.push(i)},{},t instanceof this.getConstructor("graph.axis.x"),t instanceof this.getConstructor("graph.axis.y")),e}},{key:"_axisHasChanged",value:function(t){this._axesHaveChanged=!0}},{key:"newSerie",value:function(t,i,n){var r=void 0;return"object"===(void 0===i?"undefined":k(i))||n||(n=i,i={}),n||(n=e.SERIE_LINE),(r=this.getSerie(t))?r:(r=function(t,e,i,n){var r=t.getConstructor(n,!0);if(r||"string"!=typeof n||(r=t.getConstructor("graph.serie."+n,!0)),!r)return v.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var s=new r(t,e,i);return t.appendSerieToDom(s),s}(this,t,i,n))?(this.series.push(r),this.emit("newSerie",r),r):void 0}},{key:"getSerie",value:function(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.series.filter(function(t){return e.include(t.getType())})}},{key:"drawSerie",value:function(t,e){if(!t.draw)throw"Serie has no method draw";t.draw(e)}},{key:"drawSeries",value:function(t){if(this.width&&this.height)for(var e=this.series.length-1;e>=0;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(t,e){"object"!=(void 0===t?"undefined":k(t))&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(t){t.unselect&&(t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t))}},{key:"getShapesOfSerie",value:function(t){for(var e=[],i=this.shapes.length-1;i>=0;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}},{key:"makeToolbar",value:function(t){var e=this.getConstructor("graph.toolbar");return e?this.toolbar=new e(this,t):v.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments[3];if(this.prevent(!1),!i&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;"object"==(void 0===t?"undefined":k(t))&&(i=e,t=(e=t).type),(e=e||{})._id=v.guid();var r;if(!(r="function"==typeof t?t:this.getConstructor("graph.shape."+t)))return v.throwError("No constructor for this shape");var s=new r(this,e);if(!s)return v.throwError("Failed to construct shape.");if(s.type=t,s.graph=this,s._data=e,void 0!==e.properties&&s.setProperties(e.properties),s.init(this,n),void 0!==e.props)for(var o in e.props)s.setProp(o,e.props[o]);if(e.position)for(var o=0,a=e.position.length;o<a;o++)s.setPosition(new y.default(e.position[o]),o);if(void 0!==e.fillColor&&s.setFillColor(e.fillColor),void 0!==e.fillOpacity&&s.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&s.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&s.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&s.setLayer(e.layer),1==e.locked&&s.lock(),1==e.movable&&s.movable(),1==e.selectable&&s.selectable(),1==e.resizable&&s.resizable(),void 0!==e.attributes&&s.setProp("attributes",e.attributes),void 0!==e.handles&&s.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&s.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&s.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach(function(t,e){var i=t.type,n=t.value;s.addTransform(i,n)}),void 0!==e.highlightOnMouseOver&&s.setProp("highlightOnMouseOver",!0),e.labelEditable&&s.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label){Array.isArray(e.label)||(e.label=[e.label]);for(var o=0,a=e.label.length;o<a;o++)s.showLabel(o),s.setLabelText(e.label[o].text,o),s.setLabelPosition(e.label[o].position,o),s.setLabelColor(e.label[o].color||"black",o),s.setLabelSize(e.label[o].size,o),s.setLabelAngle(e.label[o].angle||0,o),s.setLabelBaseline(e.label[o].baseline||"no-change",o),s.setLabelAnchor(e.label[o].anchor||"start",o),s.setLabelBackgroundColor(e.label[o].backgroundColor||"transparent",o),s.setLabelBackgroundOpacity(e.label[o].backgroundOpacity||1,o)}return e.serie&&s.setSerie(this.getSerie(e.serie)),s.createHandles(),s.applyStyle(),this.shapes.push(s),i||this.emit("newShape",s,e),s}},{key:"newPosition",value:function(t){return new(Function.prototype.bind.apply(y.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"redrawShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}},{key:"removeShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(t,e){if(t){if(this.selectedShapes.indexOf(t)>-1)return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(this.selectedShapes.length>0&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}},{key:"unselectShapes",value:function(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}},{key:"_removeShape",value:function(t){this.shapes.splice(this.shapes.indexOf(t),1)}},{key:"appendShapeToDom",value:function(t){t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.group)}},{key:"removeShapeFromDom",value:function(t){t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group)}},{key:"appendSerieToDom",value:function(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}},{key:"removeSerieFromDom",value:function(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}},{key:"getLayer",value:function(t,i){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(e.ns,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(e.ns,"g"),this.layers[t][2]=document.createElementNS(e.ns,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var n,r=1;!(n=this.layers[t-r])&&t-r>=0;)r++;n?n.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],n.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==i?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(t){this.bypassHandleMouse=t}},{key:"stopElementMoving",value:function(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var t=["top","bottom","left","right"],i=0;i<4;i++){var n=document.createElementNS(e.ns,"line");n.setAttribute("stroke",this.options.closeColor),n.setAttribute("shape-rendering","crispEdges"),n.setAttribute("stroke-linecap","square"),n.setAttribute("display","none"),this.closingLines[t[i]]=n,this.graphingZone.appendChild(n)}}},{key:"isActionAllowed",value:function(t,e){if((e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):actions.enabled))){if(e.key&&e.key!==t.keyCode){if({backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39}[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}},{key:"forcePlugin",value:function(t){this.forcedPlugin=t}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r in this.plugins)this.plugins[r]&&this.plugins[r][t]&&this.plugins[r][t].apply(this.plugins[r],i)}},{key:"_pluginExecute",value:function(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(t,e,i){"object"!==("undefined"==typeof serie?"undefined":k(serie))&&(serie=this.getSerie(serie)),"function"==typeof serie[e]&&serie.apply(serie,i)}},{key:"_pluginsInit",value:function(){var t,e,i;for(var n in this.options.plugins)e=n,i=this.options.plugins[n],(t=this.getConstructor("graph.plugin."+e))?(this.plugins[e]=new t(i),v.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):v.throwError('Plugin "'+e+'" has not been registered')}},{key:"getPlugin",value:function(t){var e=this.plugins[t];return e||v.throwError('Plugin "'+t+'" has not been loaded or properly registered')}},{key:"triggerEvent",value:function(){var t=arguments[0];Array.prototype.splice.apply(arguments,[0,1]);if("function"==typeof this.options[t])return this.options[t].apply(this,arguments)}},{key:"makeLegend",value:function(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):v.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(t),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(t){this.options.zAxis=v.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var t=this;this.zAxis||(this.zAxis={g:document.createElementNS(e.ns,"g"),l:document.createElementNS(e.ns,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var i=this.options.zAxis.xAxis,n=this.options.zAxis.yAxis,r=i.getMinPx(),s=n.getMinPx(),o=i.getZProj(this.options.zAxis.maxZ),a=n.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",r),this.zAxis.l.setAttribute("x2",r+o),this.zAxis.l.setAttribute("y1",s),this.zAxis.l.setAttribute("y2",s+a),this.updateDataMinMaxAxes(!0);var u=this.series.map(function(t){return[t.getZPos(),t]});u.sort(function(t,e){return e[0]-t[0]});var h=0;u.forEach(function(e){e[1].setLayer(h),t.appendSerieToDom(e[1]),h++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}},{key:"contextListen",value:function(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(t){var e=this.prevented;return-1!=t&&(this.prevented=void 0==t||t),e}},{key:"_getXY",value:function(t){var e=t.clientX,i=t.clientY,n=this.offsetCached||v.getOffset(this.wrapper);return e-=n.left,i-=n.top,{x:e,y:i}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){v.setAttributeTo(this.graphingZone,{transform:"translate("+this.options.paddingLeft+", "+this.options.paddingTop+")"}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var t=this;return function(){return t.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var t=this;return function(){return t.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var t=this;return function(){return t.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var t=this;return function(){return t.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var t=this;return function(){return t.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var t=this;return function(){return t.drawingSpaceMaxY}}},{key:"trackingLine",value:function(t){var e=this,i=this;if("boolean"!=typeof t){if(t&&(this.options.trackingLine=t),t.series=t.series||[],t.enable=void 0===t.enable||!!t.enable,"individual"==t.mode?t.series&&(Array.isArray(t.series)||("all"==t.series?t.series=this.series.map(function(t){}):t.series=[t.series]),t.series.forEach(function(t){if("object"!==k(t.serie)){if("object"!==(void 0===t?"undefined":k(t)))throw"Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }";t.serie=e.getSerie(t.serie)}t.serie&&i.addSerieToTrackingLine(t.serie,t)})):t.series.map(function(t){t.serie.disableTracking()}),!t.noLine)return this.trackingObject||(this.trackingObject=this.newShape("line",v.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},t.trackingLineShapeOptions))),this.trackingObject.draw(),this.trackingObject}else this.options.trackingLine&&(this.options.trackingLine.enable=t)}},{key:"addSerieToTrackingLine",value:function(t,e){var i=this;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.push(Object.assign({serie:t},e)),t.enableTracking(function(t,n,r,s){i.options.trackingLine.enable&&n&&(i.trackingObject&&(i.trackingObject.show(),i.trackingObject.getPosition(0).x=n.trueX,i.trackingObject.getPosition(1).x=n.trueX,i.trackingObject.redraw()),t._trackingLegend=P(i,{serie:t},r,s,t._trackingLegend,e.textMethod?e.textMethod:function(t){for(var e in t)return t[e].serie.serie.getName()+": "+t[e].serie.serie.getYAxis().valueToHtml(t[e].yValue)},n.trueX),t._trackingLegend&&(t._trackingLegend.style.display="block"))},function(t){i.trackingObject&&i.trackingObject.hide(),t.trackingShape&&t.trackingShape.hide(),t._trackingLegend&&(t._trackingLegend.style.display="none"),t._trackingLegend=P(i,{serie:t},!1,!1,t._trackingLegend,!1,!1)})}},{key:"setKatexRenderer",value:function(t){this._katexRenderer=t}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(t,i){if(this._katexRenderer){i?i.removeChild(i.firstChild):i=document.createElementNS(e.ns,"foreignObject");var n=document.createElement("div");return i.appendChild(n),this._katexRenderer(t,n),i}return!1}},{key:"exportToSchema",value:function(){var t=this,i={};i.title=this.options.title,i.width=this.getWidth(),i.height=this.getHeight();var n=[],r={x:[],y:[]};["top","bottom","left","right"].map(function(e){t.axis[e]&&(n=n.concat(t.axis[e].map(function(t){return{type:e,label:t.options.label,unit:t.options.unit,min:t.options.forcedMin,max:t.options.forcedMax,flip:t.options.flipped}})),"top"==e||"bottom"==e?r.x=r.x.concat(t.axis[e]):r.y=r.y.concat(t.axis[e]))}),i.axis=n;var s=function(t,i){var n=[];switch(t.getType()){case e.SERIE_LINE:for(var r=0;r<t.data.length;r++)for(s=0;s<t.data[r].length-1;s+=2)n.push(t.data[r][s+(i&&t.isFlipped()||!i&&!t.isFlipped()?1:0)]);break;case e.SERIE_SCATTER:for(var s=0;s<t.data.length-1;s+=2)n.push(t.data[r+(i&&t.isFlipped()||!i&&!t.isFlipped()?1:0)])}return n};return i.data=[].concat(this.series.map(function(t){style=[];var i=[];if(t.getType()==e.SERIE_LINE)for(var n in t.styles){i.push({styleName:n,color:t.styles[n].lineColor,lineWidth:t.styles[n].lineWidth,lineStyle:t.styles[n].lineStyle});var o={styleName:n,styles:[]};style.push(o),o.styles=o.styles.concat((t.styles[n].markers||[]).map(function(t){return{shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}}))}return{label:t.getLabel(),id:t.getName(),type:function(t){switch(t){case e.SERIE_LINE:return"line";case e.SERIE_BAR:return"bar";case e.SERIE_LINE_COLORED:return"color";case e.SERIE_SCATTER:return"scatter"}}(t.getType()),x:s(t,!0),y:s(t,!1),xAxis:r.x.indexOf(t.getXAxis()),yAxis:r.y.indexOf(t.getYAxis()),style:style,lineStyle:i}})),i}}],[{key:"fromJSON",value:function(t,i){var n=void 0,r={},s={left:[],top:[],right:[],bottom:[]},o=void 0;return t.title&&(r.title=t.title),t.axis&&t.axis.map(function(t){t.type||v.throwError("Axis type is required (top, bottom, left or right)");var e={};t.label&&(e.labelValue=t.label),void 0!==t.unit&&(e.unit=t.unit),void 0!==t.unitWrapperAfter&&(e.unitWrapperAfter=t.unitWrapperAfter),void 0!==t.unitWrapperBefore&&(e.unitWrapperBefore=t.unitWrapperBefore),void 0!==t.min&&(e.forcedMin=t.min),void 0!==t.max&&(e.forcedMax=t.max),void 0!==t.flip&&(e.flipped=t.flip),s[t.type].push(e),t._jsGraphIndex=s[t.type].length-1}),n=new e(i,r,s),t.width&&n.setWidth(t.width),t.height&&n.setHeight(t.width),n._resize(),t.data&&t.data.map(function(i){var r,s,a=i.type,u={},h=void 0;switch(i.type){case"bar":v.throwError("Bar charts not supported"),a=!1;break;case"color":a=e.SERIE_LINE_COLORED;break;case"scatter":a=e.SERIE_SCATTER;break;case"box":a=e.SERIE_BOX,"x"!=i.orientation&&"y"!=i.orientation||(u.orientation=i.orientation);break;default:a=e.SERIE_LINE}if(a!==e.SERIE_BOX&&(h=e.newWaveform()),a){r=n.newSerie(i.id||i.label||v.guid(),u,a),i.lineStyle&&(Array.isArray(lineStyle)&&(lineStyle={unselected:lineStyle}),Object.entries(lineStyle).forEach(function(t){var i=b(t,2),n=i[0],s=i[1],o={};switch(a){case e.SERIE_LINE:void 0!==s.lineWidth&&(o.lineWidth=s.lineWidth),void 0!==s.color&&(o.lineColor=s.color),s.lineStyle&&(o.lineStyle=s.lineStyle),r.setStyle(o,n)}}));var l={},c={};if(i.defaultStyle&&(l=i.defaultStyle),i.defaultStyles&&(c=i.defaultStyles),i.styles){var f=void 0;f=Array.isArray(i.styles)?{unselected:i.styles}:i.styles;new Set(Object.keys(c).concat(Object.keys(f))).forEach(function(t){var i=[],n=void 0;switch(f&&f[t]&&(i=f[t],Array.isArray(i)||(i=[i]),n=i.map(function(t){switch(a){case e.SERIE_LINE:return{type:t.shape,zoom:t.zoom,strokeWidth:t.lineWidth,strokeColor:t.lineColor,fillColor:t.color,points:t.points};case e.SERIE_BOX:case e.SERIE_SCATTER:return t}})),a){case e.SERIE_LINE:r.setMarkers(n,t);break;case e.SERIE_SCATTER:r.setStyle(Object.assign({},w,l,c[t]||{}),n,t);break;case e.SERIE_BOX:r.setStyle(n[0],t||"unselected")}})}if(i.color&&a==e.SERIE_LINE_COLORED&&r.setColors(i.color),a!==e.SERIE_BOX&&h.setData(i.y,i.x),r){var p=[],d=[],g=[],y=[],m=[],x=[],k=[],A=[];if(void 0!==h){if(i.errorX)for(var M=0,S=i.errorX.length;M<S;M++)Array.isArray(i.errorX[M])?(p.push(i.errorX[M][0]),d.push(i.errorX[M][1])):(p.push(i.errorX[M]),d.push(i.errorX[M]));else if(i.errorBarX||i.errorBoxX){if(i.errorBarX)for(var M=0,S=i.errorBarX.length;M<S;M++)Array.isArray(i.errorBarX[M])?(p.push(i.errorBarX[M][0]),d.push(i.errorBarX[M][1])):(p.push(i.errorBarX[M]),d.push(i.errorBarX[M]));if(i.errorBoxX)for(var M=0,S=i.errorBoxX.length;M<S;M++)Array.isArray(i.errorBoxX[M])?(m.push(i.errorBoxX[M][0]),x.push(i.errorBoxX[M][1])):(m.push(i.errorBoxX[M]),x.push(i.errorBoxX[M]))}if(i.errorY)for(var M=0,S=i.errorY.length;M<S;M++)Array.isArray(i.errorY[M])?(g.push(i.errorY[M][0]),y.push(i.errorY[M][1])):(g.push(i.errorY[M]),y.push(i.errorY[M]));else if(i.errorBarY||i.errorBoxY){if(i.errorBarY)for(var M=0,S=i.errorBarY.length;M<S;M++)Array.isArray(i.errorBarY[M])?(g.push(i.errorBarY[M][0]),y.push(i.errorBarY[M][1])):(g.push(i.errorBarY[M]),y.push(i.errorBarY[M]));if(i.errorBoxY)for(var M=0,S=i.errorBoxY.length;M<S;M++)Array.isArray(i.errorBoxY[M])?(k.push(i.errorBoxY[M][0]),A.push(i.errorBoxY[M][1])):(k.push(i.errorBoxY[M]),A.push(i.errorBoxY[M]))}o={},p.length>0&&(h.setErrorBarXAbove(e.newWaveform(p)),o.right={}),d.length>0&&(h.setErrorBarXAbove(e.newWaveform(p)),o.left={}),g.length>0&&(h.setErrorBarXAbove(e.newWaveform(g)),o.top={}),y.length>0&&(h.setErrorBarXAbove(e.newWaveform(g)),o.bottom={}),r.setErrorBarStyle(o),o={},m.length>0&&(h.setErrorBoxXAbove(e.newWaveform(m)),o.right={}),x.length>0&&(h.setErrorBoxXBelow(e.newWaveform(x)),o.left={}),k.length>0&&(h.setErrorBoxAbove(e.newWaveform(k)),o.top={}),A.length>0&&(h.setErrorBoxBelow(e.newWaveform(A)),o.bottom={}),r.setErrorBoxStyle(o)}switch(t.axis?(!(s=t.axis[i.xAxis])||"top"!==s.type&&"bottom"!==s.type?(v.warn("No x axis found. Setting automatically"),r.setXAxis(n.getXAxis(0))):"top"==s.type?r.setXAxis(n.getTopAxis(s._jsGraphIndex)):"bottom"==s.type&&r.setXAxis(n.getBottomAxis(s._jsGraphIndex)),!(s=t.axis[i.yAxis])||"left"!==s.type&&"right"!==s.type?(v.warn("No y axis found. Setting automatically"),r.setYAxis(n.getYAxis(0))):"left"==s.type?r.setYAxis(n.getLeftAxis(s._jsGraphIndex)):"right"==s.type&&r.setYAxis(n.getRightAxis(s._jsGraphIndex))):(v.warn("No axes found. Setting automatically"),r.autoAxis()),a){case e.SERIE_BOX:r.setData(i.boxes);break;default:case e.SERIE_SCATTER:case e.SERIE_LINE_COLORED:case e.SERIE_LINE:r.setWaveform(h)}}}else v.throwError("No valid serie type was found")}),n.autoscaleAxes(),n.draw(),n}},{key:"registerConstructor",value:function(t,e){if(S.has(t))return v.throwError("Constructor "+e+" already exists.");S.set(t,e)}},{key:"getConstructor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S.has(t)?S.get(t):!e&&v.throwError('Constructor "'+t+"\" doesn't exist")}},{key:"newWaveform",value:function(){return new(Function.prototype.bind.apply(x.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveform",value:function(){return new(Function.prototype.bind.apply(x.default,[null].concat(Array.prototype.slice.call(arguments))))}}]),e}();_.prototype.getConstructor=_.getConstructor;var P=function(t,e,i,n,r,s,o){var a=!1;Array.isArray(e)||(e=[e]);var u=[];if(!r&&t.options.trackingLine.legend&&(a=!0,r=function(t){var e=document.createElement("div");return e.setAttribute("class","trackingLegend"),e.style.position="absolute",e.style.borderRadius="4px",e.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",e.style.border="2px solid #333333",e.style.backgroundColor="rgba(255, 255, 255, 0.5 )",e.style.pointerEvents="none",e.style.paddingTop="5px",e.style.paddingBottom="5px",e.style.paddingLeft="10px",e.style.paddingRight="10px",t.getWrapper().insertBefore(e,t.getDom()),e}(t)),e.map(function(e){var n=e.serie.handleMouseMove(o,!1);if(!n||!s)return e.serie.trackingShape&&e.serie.trackingShape.hide(),r;if(e.withinPx>0&&Math.abs(i-t.options.paddingLeft-e.serie.getXAxis().getPx(n.xClosest))-e.withinPx>1e-14||e.withinVal>0&&Math.abs(e.serie.getXAxis().getVal(i-t.options.paddingLeft)-n.xClosest)-e.withinVal>e.serie.getXAxis().getVal(i-t.options.paddingLeft)/1e5)e.serie.trackingShape&&e.serie.trackingShape.hide();else{u[e.serie.getName()]={yValue:n.xClosest,xValue:n.yClosest,serie:e,index:n};var a=void 0;if(a=t.options.trackingLine&&t.options.trackingLine.serieShape?t.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:[3*e.serie.getLineWidth()+"px"],ry:[3*e.serie.getLineWidth()+"px"]}},e.serie.trackingShape||(e.serie.trackingShape=t.newShape(a.shape,{fillColor:e.serie.getLineColor(),strokeColor:"White",strokeWidth:e.serie.getLineWidth()},!0,a.properties).setSerie(e.serie).forceParentDom(e.serie.groupMain).draw(),a.onCreated&&a.onCreated(e.serie.trackingShape),e.serie.trackingShape.on("changed",function(){a.onChanged&&a.onChanged(e.serie.trackingShape)})),e.serie.trackingShape.show(),e.serie.trackingShape.getPosition(0).x=n.xClosest,a.magnet){var h=a.magnet,l=h.within,c=void 0;h.withinPx&&(l=e.serie.getXAxis().getRelVal(h.withinPx)),(c=e.serie.findLocalMinMax(n.xClosest,l,h.mode))&&(e.serie.trackingShape.getPosition(0).x=c)}e.serie.trackingShape.redraw()}}),t.options.trackingLine.legend){if(0!=Object.keys(u).length&&s){"none"==r.style.display||a?C(t,r,i,n,!0):O(t,r,i,n),r.style.display="block";var h=s(u,o,i,n);r.innerHTML=h}else r.style.display="none";return r}},C=function(t,e,i,n,r){function s(){var t=(Date.now()-o)/200;t>1&&(t=1),e.style.marginLeft=(i-u)*t+u+"px",e.style.marginTop=(n-h)*t+h+"px",t<1&&window.requestAnimationFrame(s)}var o=Date.now(),a=e.offsetHeight,u=parseInt(e.style.marginLeft.replace("px","")||0),h=parseInt(e.style.marginTop.replace("px","")||0);if(i=i>t.getWidth()/2?i-i%10-20-e.offsetWidth:i-i%10+30,n=n-n%10+a/2,r)return e.style.marginLeft=i+"px",void(e.style.marginTop=n+"px");window.requestAnimationFrame(s)},O=v.debounce(C,50);_.SERIE_LINE=Symbol(),_.SERIE_SCATTER=Symbol(),_.SERIE_CONTOUR=Symbol(),_.SERIE_BAR=Symbol(),_.SERIE_BOX=Symbol(),_.SERIE_ZONE=Symbol(),_.SERIE_LINE_COLORED=Symbol(),_.SERIE_ZONE=Symbol(),_.SERIE_DENSITYMAP=Symbol(),_.SERIE_LINE_3D=Symbol(),_.SERIE_ZONE_3D=Symbol(),_.TICKS_OUTSIDE=Symbol(),_.TICKS_INSIDE=Symbol(),_.TICKS_CENTERED=Symbol(),_.ns="http://www.w3.org/2000/svg",_.nsxlink="http://www.w3.org/1999/xlink",i.default=_,t.exports=i.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(127),i(319)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i,n,r){return(t-e)/(i-e)*(r-n)+n}function o(t,e,i){var n=0,r=e.length-1,s=void 0,o=0,a=1;if(e[n]==t)return n;if(e[r]==t)return r;for(;;){if(++o>100)throw"Error loop";for(s=Math.floor((n+r)/2);isNaN(e[s]);){if(s>=e.length-1)return e.length-1;if(s<=0)return 0;s+=a}if(s==n||e[s]==t||s==r)return s;if(e[s]<=t)i?r=s:n=s;else{if(!(e[s]>t))return!1;i?n=s:r=s}a*=-1}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(i),u=r(n),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.xOffset=i,this.xScale=n,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.setData(e),this.BELOW=t.BELOW,this.ABOVE=t.ABOVE,this.BOX=t.BOX,this.BAR=t.BAR}return h(t,[{key:"setData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(t[0])){var i=[],n=[];t.forEach(function(t){i.push(t[0]),n.push(t[1])}),this.setXWaveform(i),t=n}var r=this._makeArray(t.length),s=!1,o=this.isNaNAllowed();return t.map(function(t,e){o||t[0]==t[0]&&t[1]==t[1]||(s=!0),r[e]=t}),s&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(r),e&&this.setXWaveform(e),this}},{key:"getY",value:function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this.data[t]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(e){if(!(e instanceof t)){if(!Array.isArray(e))throw"Cannot set X waveform. Data is not a valid array.";e=new t(e)}return this.xdata=e,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var e=new t,i=[],n=0;n<this.getLength();n+=1)i.push(this.getX(n));return e.setData(i),this.xdata=e,e}},{key:"rescaleX",value:function(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn("NaN values are not allowed by the new constructor ("+t.name+") while it was allowed by the previous one ("+this._typedArrayClass.name+")"),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this.data&&this._setData(t.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}},{key:"isNaNAllowed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Array||t==Float32Array||t==Float64Array}},{key:"isUnsigned",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}},{key:"prepend",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.prepend(null,t):null!==t?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,t)):this.xOffset-=this.xScale,this.data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"append",value:function(t,e){return this.data||(this.data=[]),"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.append(null,t):null!==t&&(this.xdata=this.getXWaveform(),this.xdata.append(null,t)),this.monotoneous&&(e>=this.data[this.data.y]&&!1===this.getMonotoneousAscending()?this.monotoneous=!1:e<=this.data[this.data.y]&&!0===this.getMonotoneousAscending()&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,e==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this.data[0]),this.data.push(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"_makeArray",value:function(t){var e=this.getTypedArrayClass();return e?new e(t):new Array(t)}},{key:"_setData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,e=t.length,i=1,n=t[1]>t[0],r=t[0],s=t[0];for(this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&n!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(r=Math.min(t[i],r),s=Math.max(t[i],s));if(this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this.hasErrorBars()){for(i=0;i<e;i++)t[i]==t[i]&&(r=Math.min(r,t[i]-this.getMaxError(i,"below")),s=Math.max(s,t[i]+this.getMaxError(i,"above")));this.minY=r,this.maxY=s}else this.minY=r,this.maxY=s;this.data=t,this.computeXMinMax()}},{key:"computeXMinMax",value:function(){if(this.data&&!this.xdata){var t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,n=void 0;n=e&&this.dataInUse?this.dataInUse.y:this.data;var r=void 0;return r=this.getIndexFromData(t,n,this.data.getMonotoneousAscending(),i),e&&this.dataInUse&&"aggregateY"==this.dataInUseType?r-r%4:r}},{key:"getIndexFromX",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.round,n=void 0;e&&this.dataInUse?n=this.dataInUse.x:this.xdata&&(n=this.xdata.data);var r=void 0;return r=this.hasXWaveform()?this.xdata.getIndexFromData(t,n,this.xdata.getMonotoneousAscending(),i):Math.max(0,Math.min(this.getLength()-1,i((t-this.xOffset)/this.xScale))),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?r-r%4:r}},{key:"getIndexFromXY",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.round,r=arguments[4],s=arguments[5],o=void 0,a=void 0;i&&this.dataInUse?(o=this.dataInUse.x,a=this.dataInUse.y):this.xdata&&(o=this.xdata.data,a=this.data);var u=void 0;if(this.isXMonotoneous())u=this.hasXWaveform()?this.xdata.getIndexFromData(t,o,this.xdata.getMonotoneousAscending(),n):Math.max(0,Math.min(this.getLength()-1,n((t-this.xOffset)/this.xScale)));else{if(isNaN(e))return;u=this.getIndexFromDataXY(t,o,e,a,r,s)}return i&&this.dataInUse&&"aggregateX"==this.dataInUseType?u-u%4:u}},{key:"getIndexFromData",value:function(t,e,i,n){if(t-=this.getShift(),t/=this.getScale(),!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return o(t,e,!i)}},{key:"getIndexFromDataXY",value:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),i/=this.getScale(),function(t,e,i,n){for(var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=Number.MAX_VALUE,a=void 0,u=-1,h=0,l=i.length;h<l;h++)(a=Math.pow((t-i[h])*r,2)+Math.pow((e-n[h])*s,2))<o&&(u=h,o=a);return u}(t,i,e,n,r,s)}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.xdata?this.xdata.getMin():this.minX}},{key:"getXMax",value:function(){return this.xdata?this.xdata.getMax():this.maxX}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.getXMin()}},{key:"getMaxX",value:function(){return this.getXMax()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(t){return t&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.shift=t,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.scale=t}},{key:"setXShift",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform()?(this.getXWaveform().setShift(t),this):this}},{key:"getXShift",value:function(t){return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform?(this.getXWaveform().setScale(t),this):this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data?this.data.length:0}},{key:"getDataToUseFlat",value:function(){var t=void 0,e=0,i=void 0;if(this.dataInUse){t=this.dataInUse.x.length,i=new Array(2*t).fill(0);for(n=0;n<t;n+=1)i[e]=this.dataInUse.x[n],i[e+1]=this.dataInUse.y[n],e+=2}else{t=this.getLength(),i=new Array(2*t).fill(0);for(var n=0;n<t;n+=1)i[e+1]=this.data[n],i[e]=this.getX(n),e+=2}return i}},{key:"fit",value:function(e){var i=this;return new Promise(function(n,r){var s=new a.default(Object.assign({},{dataY:i,dataX:i.getXWaveform(),done:function(t){n(t)},waveform:new t},e));s.init(),s.fit()})}},{key:"getX",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}},{key:"getXRaw",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]:this.xdata?this.xdata.data[t]:t}},{key:"_integrateP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if(t=Math.round(t),e=Math.round(e),t>e){var i=t;t=e,e=i}for(var n=e-t+1,r=0,s=0,o=void 0,a=this.getData();t<=e;t++)a.length-1>t&&(s+=o=this.getX(t+1)-this.getX(t),r+=a[t]*o);return[r,n,s]}},{key:"integrateP",value:function(t,e){return this._integrateP(t,e)[0]}},{key:"integrate",value:function(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}},{key:"average",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(t,e)}},{key:"mean",value:function(){return this.average()}},{key:"getAverageP",value:function(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}},{key:"getAverageX",value:function(t,e){var i=this._integrateX(t,e);return i[0]/i[2]}},{key:"checkMonotonicity",value:function(){for(var t=1,e=this.getData(),i=this.data.length,n=e[1]>e[0];t<i;t++)if(e[t]!==e[t-1]&&n!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(t){var e=dataY||this.data;return e.reverse(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),e}},{key:"resampleForDisplay",value:function(t){var e=0;this.requireXMonotonicity();var i=!1,n=this.getDataY(),r={x:[],y:[]},s=[],o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0,f=void 0,p=!1,d=0,g=void 0,y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){var v=t.minX;t.minX=t.maxX,t.maxX=v}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(i=!0,e=y);i?e>0:e<y;i?e--:e++)if(g=this.getX(e),t.minX>g)d=e;else if(f=t.xPosition(g),p)if(Math.abs(f-c)>t.resampleToPx||e==y||0==e||isNaN(n[e])){var m=(l+g)/2;if(r.x.push(m),r.y.push(o/h),s.push(m,a,u),void 0!==t.maxX&&g>t.maxX)break;p=!1}else o+=n[e],h++,a=Math.min(a,n[e]),u=Math.max(u,n[e]);else{for(d?(r.x.push(g),r.y.push(n[d])):d=e;isNaN(n[e]);)i?e--:e++;o=a=u=n[d],h=1,c=f,l=g,d=0,p=!0}return this.dataInUseType="resampled",this.dataInUse=r,s}},{key:"interpolate",value:function(t){var e=void 0,i=this.getDataY();if(t=(t-this.getXShift())/this.getXScale(),this.xdata){var n=this.xdata.getData(),r=o(t,n,!this.xdata.getMonotoneousAscending());return n[r]==t?i[r]:(t-n[r])/(n[r+1]-n[r])*(i[r+1]-i[r])+i[r]}e=(t-this.xOffset)/this.xScale;var s=Math.floor(e);return(e-s)*(i[s+1]-i[s])+i[s]}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():this.xScale>0}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(t){return this._arithmetic(t,d)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(t){return this._arithmetic(t,c)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function(t){var e=Math.log(t);this.data.map(function(t){return Math.log(t)/e})}},{key:"add",value:function(t){return this._arithmetic(t,f)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(t){return this._arithmetic(t,p)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(t){for(var e=0;e<this.getLength();e++)this.data[e]=t(this.getY(e),this.getX(e));return this._setData(this.data),this}},{key:"_arithmetic",value:function(e,i){return e instanceof t?this._waveArithmetic(e,i):"number"==typeof e?this._numberArithmetic(e,i):void 0}},{key:"_numberArithmetic",value:function(t,e){var i=0,n=this.getLength();if(e==c){for(;i<n;i++)this.data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==d){for(;i<n;i++)this.data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==f){for(;i<n;i++)this.data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==p){for(;i<n;i++)this.data[i]-=t;this.minY-=t,this.maxY-=t}return this}},{key:"_waveArithmetic",value:function(t,e){var i=this.getDataY(),n=0,r=this.getLength();if(this.requireXMonotonicity(),t.requireXMonotonicity(),e==c)for(;n<r;n++)i[n]*=t.interpolate(this.getX(n));else if(e==d)for(;n<r;n++)i[n]/=t.interpolate(this.getX(n));else if(e==f)for(;n<r;n++)i[n]+=t.interpolate(this.getX(n));else if(e==p)for(;n<r;n++)i[n]-=t.interpolate(this.getX(n));return this._setData(i),this}},{key:"aggregate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=e.toUpperCase();var i=function(t){for(var e=1;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=(0,u.default)({minX:this.getMinX(),maxX:this.getMaxX(),minY:this.getMinY(),maxY:this.getMaxY(),data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:i,direction:e}).then(function(e){t._dataAggregated=e.aggregates,console.log(t._dataAggregated),t._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(t){if(t<2)return!1;var e=function(t){t--;for(var e=2;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType="aggregate"+this._dataAggregationDirection,void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(e){var i=new t;return i._setData(this.getDataY().slice()),i.rescaleX(this.xOffset,this.xShift),i.setShift(this.getShift()),i.setScale(this.getScale()),this.xdata?(e?i.setXWaveform(this.xdata.duplicate()):i.setXWaveform(this.xdata),i.setXShift(this.getXShift()),i.setXScale(this.getXScale())):(i.xOffset=this.xOffset,i.xScale=this.xScale),i}},{key:"subrangeX",value:function(e,i){if(this.xdata){for(var n=new t,r=0,s=this.data.length;r<s;r++)this.data[r]>=e&&this.data[r]<i&&n.append(this.dataX[r],this.data[r]);return n}var o=this.getIndexFromX(e),a=this.getIndexFromX(a);return(new t).setData(this.data.slice(o,a)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(t,e,i){this.getIndexFromX(t);var n=this.getIndexFromX(t+e),r=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(r,n,i)}},{key:"findLocalMinMaxIndex",value:function(t,e,i){var n=void 0;e<t&&(n=e,e=t,t=n);var r=void 0,s=void 0;if("max"==i){r=Number.NEGATIVE_INFINITY;for(o=t;o<=e;o++)this.getY(o)>r&&(r=this.getY(o),s=o)}else{r=Number.POSITIVE_INFINITY;for(var o=t;o<=e;o++)this.getY(o)<r&&(r=this.getY(o),s=o)}return s!=t&&s!=e&&this.getX(s)}},{key:"warn",value:function(t){console&&console.warn(t)}},{key:"setUnit",value:function(t){return this.unit=t,this}},{key:"setXUnit",value:function(t){return this.hasXWaveform()&&this.xdata.setUnit(t),this.xunit=t,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return this.getXUnit().length>0}},{key:"hasUnit",value:function(){return this.getUnit().length>0}},{key:"findLevels",value:function(t,e){for(var i,n=(e=Object.assign({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],r=[],s=0;i=this.findLevel(t,Object.assign({},e,{rangeP:[n,e.rangeP[1]]}));)if(r.push(i),n=Math.ceil(i),++s>1e3)return;return r}},{key:"findLevel",value:function(t,e){(e=Object.assign({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var i,n,r,o,a,u,h=e.box;for(h%2==0&&h++,"descending"==e.direction?(r=e.rangeP[1],a=e.rangeP[0],u=-1):(r=e.rangeP[0],a=e.rangeP[1],u=1);;r+=u){if("descending"==e.direction){if(r<a)break}else if(r>a)break;if(!(r<e.rangeP[0]+(h-1)/2)){if(r>e.rangeP[1]-(h-1)/2)break;if(i=this.getAverageP(r-(h-1)/2,r+(h-1)/2),void 0!==n){if(i>=t&&n){if(n=!1,"ascending"==e.edge||"both"==e.edge)for(o=r+(h-1)/2;o>=r-(h-1)/2;o--)if(this.data[o]>=t&&this.data[o-1]<t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return s(t,this.data[o],this.data[o-1],o,o-1)}}else if(i<=t&&!n&&(n=!0,"descending"==e.edge||"both"==e.edge))for(o=r+(h-1)/2;o>=r-(h-1)/2;o--)if(this.data[o]<=t&&this.data[o-1]>t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return s(t,this.data[o],this.data[o-1],o,o-1)}}else n=i<t}}}},{key:"normalize",value:function(t){var e=void 0,i=void 0,n=void 0,r=void 0,s=void 0,o=void 0;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),r=this.data[0],o=1;o<this.getLength();o++)this.data[o]>r&&(r=this.data[o]);for(o=0;o<this.getLength();o++)this.data[o]/=r/e}else if("sum1"==t){for(i=0,o=0;o<this.getLength();o++)i+=this.data[o];for(o=0;o<this.getLength();o++)this.data[o]/=i}else if("max1min0"==t){for(r=this.data[0],n=this.data[0],o=1;o<this.getLength();o++)this.data[o]>r?r=this.data[o]:this.data[o]<n&&(n=this.data[o]);for(s=1/(r-n),o=0;o<this.getLength();o++)this.data[o]=(this.data[o]-n)*s}this.setData(this.data)}},{key:"setErrorBarX",value:function(e){Array.isArray(e)&&(e=new t(e));return this.getXWaveform().setErrorBar(e),this}},{key:"setErrorBarXBelow",value:function(e){Array.isArray(e)&&(e=new t(e));return this.getXWaveform().setErrorBarBelow(e),this}},{key:"setErrorBarXAbove",value:function(e){Array.isArray(e)&&(e=new t(e));return this.getXWaveform().setErrorBarAbove(e),this}},{key:"setErrorBoxX",value:function(e){Array.isArray(e)&&(e=new t(e));var i=this.getXWaveform();return i.setErrorBoxAbove(e),i.setErrorBoxBelow(e),this}},{key:"setErrorBoxXBelow",value:function(e){Array.isArray(e)&&(e=new t(e));return this.getXWaveform().setErrorBoxBelow(e),this}},{key:"setErrorBoxXAbove",value:function(e){Array.isArray(e)&&(e=new t(e));return this.getXWaveform().setErrorBoxAbove(e),this}},{key:"setErrorBar",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.nb++,this.errors.bars.bottom=e,this.errors.bars.top=e,i&&this._setData()}},{key:"setErrorBarBelow",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.bars.below=e,i&&this._setData()}},{key:"setErrorBarAbove",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.bars.above=e,i&&this._setData()}},{key:"setErrorBox",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=e,this.errors.boxes.below=e,i&&this._setData()}},{key:"setErrorBoxBelow",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.nb++,this.errors.boxes.below=e,i&&this._setData()}},{key:"setErrorBoxAbove",value:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Array.isArray(e)&&(e=new t(e)),this.errors.boxes.above=e,i&&this._setData()}},{key:"getMaxError",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE;return Math.max(this.getMaxErrorType(e,i,t.BOX),this.getMaxErrorType(e,i,t.BAR))}},{key:"getMaxErrorType",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BOX,r=void 0;if(n==t.BOX)r=this.errors.boxes;else{if(n!=t.BAR)throw"Unknown type of error";r=this.errors.bars}var s=void 0;return(s=r[i])||(i==t.ABOVE?r[i]==t.BELOW&&(s=r.below):r[i]==t.ABOVE&&(s=r.above)),s?s.getY(e):0}},{key:"getErrorBarXBelow",value:function(e){return this.getErrorX(e,t.BELOW,t.BAR)}},{key:"getErrorBarXAbove",value:function(e){return this.getErrorX(e,t.ABOVE,t.BAR)}},{key:"getErrorBoxXBelow",value:function(e){return this.getErrorX(e,t.BELOW,t.BOX)}},{key:"getErrorBoxXAbove",value:function(e){return this.getErrorX(e,t.ABOVE,t.BOX)}},{key:"getErrorBarYBelow",value:function(e){return this.getError(e,t.BELOW,t.BAR)}},{key:"getErrorBarYAbove",value:function(e){return this.getError(e,t.ABOVE,t.BAR)}},{key:"getErrorBoxYBelow",value:function(e){return this.getError(e,t.BELOW,t.BOX)}},{key:"getErrorBoxYAbove",value:function(e){return this.getError(e,t.ABOVE,t.BOX)}},{key:"getErrorX",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BAR;return!!this.hasXWaveform()&&this.xdata.getError(e,i,n)}},{key:"getError",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ABOVE,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.BAR)==t.BAR?this.errors.bars:this.errors.boxes;if(!n)return!1;var r=void 0;return(r=i==t.ABOVE?n.above:n.below)?(r==t.ABOVE&&i==t.BELOW?r=n.above:r==t.BELOW&&i==t.ABOVE&&(r=n.below),!!r&&r.getY(e)):void 0}},{key:"hasErrorBars",value:function(){return this.errors.nb>0||this.hasXWaveform()&&this.xdata.errors.nb>0}}]),t}();l.BELOW=Symbol(),l.ABOVE=Symbol(),l.BOX=Symbol(),l.BAR=Symbol();var c=Symbol(),f=Symbol(),p=Symbol(),d=Symbol();e.default=l,t.exports=e.default})},function(t,e,i){var n=i(8).f,r=i(11),s=i(6)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},function(t,e,i){var n=i(0),r=i(20),s=i(3),o=i(77),a="["+o+"]",u=RegExp("^"+a+a+"*"),h=RegExp(a+a+"*$"),l=function(t,e,i){var r={},a=s(function(){return!!o[t]()||"​"!="​"[t]()}),u=r[t]=a?e(c):o[t];i&&(r[i]=u),n(n.P+n.F*a,"String",r)},c=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,i){var n=i(6)("unscopables"),r=Array.prototype;void 0==r[n]&&i(12)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){var n=i(28),r=i(112),s=i(87),o=i(1),a=i(9),u=i(89),h={},l={};(e=t.exports=function(t,e,i,c,f){var p,d,g,y,v=f?function(){return t}:u(t),m=n(i,c,e?2:1),x=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(s(v)){for(p=a(t.length);p>x;x++)if((y=e?m(o(d=t[x])[0],d[1]):m(t[x]))===h||y===l)return y}else for(g=v.call(t);!(d=g.next()).done;)if((y=r(g,m,d.value,e))===h||y===l)return y}).BREAK=h,e.RETURN=l},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(56),i(4),i(69),i(44)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});a(i);var u=a(n),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r),l=a(s),c=a(o),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),g=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.selectionType="unselected",r.markerFamilies={},h.mapEventEmission(r.options,r),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth,markers:r.options.markers},r.styles.selected={lineWidth:3},r.extendStyles(),r.markersDom=new Map,r.shown=!0,r.data=[],r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupLines=document.createElementNS(r.graph.ns,"g"),r.domMarker=document.createElementNS(r.graph.ns,"path"),r.domMarker.style.cursor="pointer",r.groupMain=document.createElementNS(r.graph.ns,"g"),r.additionalData={},r.marker=document.createElementNS(r.graph.ns,"circle"),r.marker.setAttribute("fill","black"),r.marker.setAttribute("r",3),r.marker.setAttribute("display","none"),r.markerLabel=document.createElementNS(r.graph.ns,"text"),r.markerLabelSquare=document.createElementNS(r.graph.ns,"rect"),r.markerLabelSquare.setAttribute("fill","white"),r.domMarkerHover={},r.domMarkerSelect={},r.markerHovered=0,r.groupMarkerSelected=document.createElementNS(r.graph.ns,"g"),r.markerPoints={},r.lines=[],r.groupMain.appendChild(r.groupLines),r.groupMain.appendChild(r.marker),r.groupMain.appendChild(r.groupMarkerSelected),r.groupMain.appendChild(r.markerLabelSquare),r.groupMain.appendChild(r.markerLabel),r.groupMarkers=document.createElementNS(r.graph.ns,"g"),r.groupMain.appendChild(r.groupMarkers),r.independantMarkers=[],r.initExtended1&&r.initExtended1(),r.groupLines.addEventListener("click",function(t){r.options.selectableOnClick&&(r.isSelected()?r.graph.unselectSerie(r):r.graph.selectSerie(r))}),r.options.markers&&r.setMarkers(r.options.markers,"unselected"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),d(e,null,[{key:"default",value:function(){return{lineColor:"black",lineStyle:1,flip:!1,label:"",lineWidth:1,markers:!1,trackMouse:!1,trackMouseLabel:!1,trackMouseLabelRouding:1,lineToZero:!1,selectableOnClick:!1,markersIndependant:!1,overflowX:!1,overflowY:!1}}}]),d(e,[{key:"setWaveform",value:function(t){if(!(t instanceof c.default))throw"Cannot assign waveform to serie. Waveform is not of the proper Waveform instance";return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setOptions",value:function(t){return this.options=h.extend(!0,{},e.prototype.defaults,t||{}),this.styles.unselected={lineColor:this.options.lineColor,lineStyle:this.options.lineStyle,markers:this.options.markers},this.applyLineStyles(),this}},{key:"onMouseOverMarker",value:function(t,e){this.toggleMarker(e,!0,!0);this.options.onMouseOverMarker&&this.options.onMouseOverMarker(e,!!this.infos&&(this.infos[e]||!1),[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"onMouseOutMarker",value:function(t,e){this.markersOffHover(),this.options.onMouseOutMarker&&this.options.onMouseOutMarker(e,!!this.infos&&(this.infos[e]||!1),[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"toggleMarker",value:function(t,e,i){var n,r=t;void 0===e&&(n=i?!this.domMarkerHover[t]:!this.domMarkerSelect[t]);var s=this["domMarker"+(i?"Hover":"Select")];if(n||!0===e){if(s[t])o=s[t];else{var o=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(o,this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(r)]),this["domMarker"+(i?"Hover":"Select")][t]=o,this.groupMarkerSelected.appendChild(o)}var a=this.getX(this.waveform.getX(r)),u=this.getY(this.waveform.getY(r));o.setAttribute("d","M "+a+" "+u+" "+this.getMarkerPath(this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(r)],1)),i&&this.markerHovered++}else if((!n||!1===e)&&(i&&this.domMarkerHover[t]&&!this.domMarkerSelect[t]||this.domMarkerSelect[t])){if(!s[t])return;this.groupMarkerSelected.removeChild(s[t]),delete s[t],i&&this.markerHovered--}return n}},{key:"markersOffHover",value:function(){for(var t in this.domMarkerHover)this.toggleMarker(t.split(","),!1,!0);return this}},{key:"markersOffSelect",value:function(){for(var t in this.domMarkerSelect)this.toggleMarker(t.split(","),!1,!1);return this}},{key:"onClickOnMarker",value:function(t,e){var i=this.toggleMarker(e);i&&this.options.onSelectMarker&&this.options.onSelectMarker(e,!!this.infos&&(this.infos[e[0]]||!1)),!i&&this.options.onUnselectMarker&&this.options.onUnselectMarker(e,!!this.infos&&(this.infos[e[0]]||!1)),this.options.onToggleMarker&&this.options.onToggleMarker(e,!!this.infos&&(this.infos[e[0]]||!1),i)}},{key:"_getMarkerIndexFromEvent",value:function(t){var e=this.graph._getXY(t);return this.searchIndexByPxXY(e.x-this.graph.getPaddingLeft(),e.y-this.graph.getPaddingTop())}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}},{key:"select",value:function(t){return t=t||"selected",this.selected="unselected"!==t,this.areMarkersShown()||this.areMarkersShown(t)?(this.selectionType=t,this.draw(!0),this.applyLineStyles()):(this.selectionType=t,this.applyLineStyles()),this.applyLineStyle(this.getSymbolForLegend()),this}},{key:"unselect",value:function(){return this.selected=!1,this.select("unselected")}},{key:"degrade",value:function(t){return this.degradationPx=t,this}},{key:"drawInit",value:function(t){var e=this;try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var i=this.getXAxis(),n=this.graph.getDrawingWidth()*(i.getDataMax()-i.getDataMin())/(i.getCurrentMax()-i.getCurrentMin()),r=this.waveform.selectAggregatedData(n);if(r instanceof Promise)return r.then(function(){e.draw(t)}),!1;if(!1===r)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(t){if(p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments),!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.eraseMarkers(),this.lookForMaxima=!0,this.lookForMinima=!1,this.markerFamily=this.markerFamilies[this.selectionType||"unselected"],this.pos0=this.getYAxis().getPos(0),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertMarkers(),this.insertLinesGroup()}for(var i in this.domMarkerHover)this.toggleMarker(i.split(","),!1,!0);for(var i in this.domMarkerSelect)this.toggleMarker(i.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var t=this,e=this.waveform,i=void 0,n=void 0,r=void 0,s=!1,o=!1,a=void 0,u=void 0,h=void 0,l=void 0,c=this.getXAxis(),f=this.getYAxis(),p=c.getCurrentMin(),d=f.getCurrentMin(),g=c.getCurrentMax(),y=f.getCurrentMax();if(e){i=e.getData(!0);var v=void 0,m=void 0,x=void 0,b=void 0,k=void 0,A=void 0,M=void 0,w=void 0,S=e.getShift(),_=e.getScale(),P=!1,C=!1,O=void 0,L=this.isMonotoneous(),E=this.markersShown(),T=0,X=e.getLength();for(this.currentLine="",e.isXMonotoneous()&&(e.isXMonotoneousAscending()?(T=e.getIndexFromX(p,!0)||0,!1===(X=e.getIndexFromX(g,!0))&&(X=e.getLength())):(T=e.getIndexFromX(g,!0)||0,!1===(X=e.getIndexFromX(p,!0))&&(X=e.getLength())),(X+=2)>i.length&&(X=i.length));T<X;T+=1)if(n=e.getX(T,!0),r=i[T]*_+S,n==n&&r==r){if(!this.options.overflowX&&n<p&&s<p||!this.options.overflowX&&n>g&&s>g||(!this.options.overflowY&&r<d&&o<d||!this.options.overflowY&&r>y&&o>y)&&!this.options.lineToZero)s=n,o=r,C=!0;else if(this.counter2=T,E&&this.getMarkerCurrentFamily(this.counter2),h=this.getX(n),l=this.getY(r),h!=a||l!=u)if(h==h&&l==l){if(P=L?!this.options.overflowY&&(r<d||r>y):!this.options.overflowX&&(n<p||n>g)||!this.options.overflowY&&(r<d||r>y),this.options.lineToZero){if(P=n<p||n>g)continue}else if(P||C){!1!==s&&!1!==o||C?(O=[],m=r-(v=(n-p)/(n-s))*(r-o),b=r-(x=(n-g)/(n-s))*(r-o),A=n-(k=(r-d)/(r-o))*(n-s),w=n-(M=(r-y)/(r-o))*(n-s),v<1&&v>0&&!1!==m&&m<y&&m>d&&O.push([p,m]),x<1&&x>0&&!1!==b&&b<y&&b>d&&O.push([g,b]),k<1&&k>0&&!1!==A&&A<g&&A>p&&O.push([A,d]),M<1&&M>0&&!1!==w&&w<g&&w>p&&O.push([w,y]),O.length>0?P?C?2==O.length&&(this._createLine(),this._addPoint(this.getX(O[0][0]),this.getY(O[0][1]),O[0][0],O[0][1],!1,!1,!1),this._addPoint(this.getX(O[1][0]),this.getY(O[1][1]),O[0][0],O[0][1],!1,!1,!1)):(O.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(O,w,A,b,m,r,d,y,o)),this._addPoint(this.getX(O[0][0]),this.getY(O[0][1]),O[0][0],O[0][1],!1,!1,!1)):(O.length>1&&(console.error("Programmation error. Please e-mail me."),console.log(O,w,A,b,m,r,d,y,o)),this._createLine(),this._addPoint(this.getX(O[0][0]),this.getY(O[0][1]),O[0][0],O[0][1],!1,!1,!1),this._addPoint(h,l,s,o,!1,!1,!0)):P||this._addPoint(h,l,s,o,T,!1,!1)):(a=h,u=l,s=n,o=r),a=h,u=l,s=n,o=r,C=P;continue}this._addPoint(h,l,n,r,T,!1,!0),a=h,u=l,s=n,o=r}else this.counter>0&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var D=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(D),T=0,X=D.children.length;T<X;T++)D.children[T].setAttribute("stroke","transparent"),D.children[T].setAttribute("stroke-width","25px"),D.children[T].setAttribute("pointer-events","stroke");this._trackerDom=D,this.groupMain.addEventListener("mousemove",function(e){var i=t.graph._getXY(e),n=t.handleMouseMove(!1,!1);t._trackingCallback(t,n,i.x,i.y)}),this.groupMain.addEventListener("mouseleave",function(e){t._trackingOutCallback(t)})}return this}}},{key:"kill",value:function(){p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"kill",this).call(this)}},{key:"getMarkerCurrentFamily",value:function(t){if(this.markerPoints&&this.markerPoints[this.selectionType]){for(var e,i=0;i<this.markerPoints[this.selectionType].length&&this.markerPoints[this.selectionType][i][0]<=t;i++)this.markerPoints[this.selectionType][i][1]>=t&&(this.markerCurrentFamily=this.markerPoints[this.selectionType][i][2],e=this.markerFamilies[this.selectionType][this.markerCurrentFamily]);return!!e&&(this.getMarkerDom(e),this.markerCurrentFamily)}}},{key:"setMarkerStyleTo",value:function(t,e){if(!t||!e)throw console.trace(),"Cannot set marker style. DOM does not exist.";t.setAttribute("fill",e.fillColor||"transparent"),t.setAttribute("stroke",e.strokeColor||this.getLineColor()),t.setAttribute("stroke-width",e.strokeWidth||1)}},{key:"hideTrackingMarker",value:function(){this.marker.setAttribute("display","none"),this.markerLabel.setAttribute("display","none"),this.markerLabelSquare.setAttribute("display","none")}},{key:"_addPoint",value:function(t,e,i,n,r,s,o){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||s?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(r,i,n,t,e),this.markerPoints?(this.markersShown()&&!1!==o&&this.markerFamily&&function(t,e,i,n,r){if(e){if(t.options.markersIndependant){var s=t.getMarkerDomIndependent(t.counter2,e),o="M "+i+" "+n+" ";o+=e.markerPath+" ",s.setAttribute("d",o)}r.path=r.path||"",r.path+="M "+i+" "+n+" ",r.path+=e.markerPath+" "}}(this,this.markerFamily[this.markerCurrentFamily],t,e,this.markersDom.get(this.markerFamily[this.markerCurrentFamily])),this.counter++):this.counter++)}},{key:"_createLine",value:function(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}},{key:"applyLineStyles",value:function(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(t,e){var i=t.zoom||1,e=e||0,n=[];switch(t.type){case 2:n=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:n=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:n=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:n=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return n.join(" ");if(n){for(var r=0,s=n.length;r<s;r++)"number"==f(n[r])&&(n[r]*=i+e);return n.join(" ")}}},{key:"getMarkerDom",value:function(t){var e=this;if(!this.markersDom.has(t)){var i=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(i,t),this.markersDom.set(t,{dom:i,path:""}),i.addEventListener("mouseover",function(t){var i=e._getMarkerIndexFromEvent(t);e.onMouseOverMarker(t,i)}),i.addEventListener("mouseout",function(t){var i=e._getMarkerIndexFromEvent(t);e.onMouseOutMarker(t,i)}),i.addEventListener("click",function(t){var i=e._getMarkerIndexFromEvent(t);e.onClickOnMarker(t,i)})}return t.dom}},{key:"getMarkerDomIndependent",value:function(t,e){var i=this;if(!this.independantMarkers[t]){var n=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(n,e),n.addEventListener("mouseover",function(e){i.onMouseOverMarker(e,t)}),n.addEventListener("mouseout",function(e){i.onMouseOutMarker(e,t)}),n.addEventListener("click",function(e){i.onClickOnMarker(e,t)}),this.independantMarkers[t]=n}return this.groupMarkers.appendChild(this.independantMarkers[t]),this.independantMarkers[t]}},{key:"searchIndexByPxXY",value:function(t,e){for(var i,n,r,s=!1,o=!1,a=(this._xDataToUse,0),u=this.waveform.getLength();a<u;a+=1)n=this.waveform.getX(a),r=this.waveform.getY(a),i=Math.pow(this.getX(n)-t,2)+Math.pow(this.getY(r)-e,2),(!s||i<s)&&(s=i,o=a);return o}},{key:"searchClosestValue",value:function(t,e){if(this.waveform){var i=this.waveform.getIndexFromXY(t,e,void 0,void 0,this.getXAxis().getRelPx(1),this.getYAxis().getRelPx(1)),n={},r=void 0;return r=t>this.waveform.getX(i)?0:1,Object.assign(n,{indexMin:i+r,indexMax:i+r+1,indexClosest:i,xMin:this.waveform.getX(i+r),xMax:this.waveform.getX(i+r+1),yMin:this.waveform.getY(i+r),yMax:this.waveform.getY(i+r+1),xClosest:this.waveform.getX(i),yClosest:this.waveform.getY(i),xExact:t}),n}}},{key:"handleMouseMove",value:function(t,e,i){var n=t||this.getXAxis().getMouseVal(),r=i||this.getYAxis().getMouseVal(),s=this.searchClosestValue(n,r);if(s){var o;if(s.xMax==s.xMin&&(o=s.yMin),e&&this.options.trackMouse){if(void 0==s.xMin)return!1;if(!this.marker)return;var a=this.getX(this.getFlip()?s.yClosest:s.xClosest),u=this.getY(this.getFlip()?s.xClosest:s.yClosest);if(isNaN(a)||isNaN(u))return;switch(this.marker.setAttribute("display","block"),this.marker.setAttribute("cx",a),this.marker.setAttribute("cy",u),this.markerLabel.setAttribute("display","block"),this.markerLabelSquare.setAttribute("display","block"),this.options.trackMouseLabel){case!1:break;default:this.markerLabel.textContent=this.options.trackMouseLabel.replace("<x>",n.toFixed(this.options.trackMouseLabelRouding)).replace("<y>",o.toFixed(this.options.trackMouseLabelRouding))}this.markerLabel.setAttribute("x",a+5),this.markerLabel.setAttribute("y",u-5),this.markerLabelSquare.setAttribute("x",a+5),this.markerLabelSquare.setAttribute("y",u-5-this.graph.options.fontSize),this.markerLabelSquare.setAttribute("width",this.markerLabel.getComputedTextLength()+2),this.markerLabelSquare.setAttribute("height",this.graph.options.fontSize+2)}return{xBefore:s.xMin,xAfter:s.xMax,yBefore:s.yMin,yAfter:s.yMax,trueX:s.xExact,indexClosest:s.indexClosest,interpolatedY:o,xClosest:s.xClosest,yClosest:s.yClosest}}}},{key:"getMax",value:function(t,e){var i,n,r,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=-1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return-1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,n=r;n<=s;n+=2)l=Math.max(l,this.data[i][n+1]);return l}},{key:"getMin",value:function(t,e){var i,n,r,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return 1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(r=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,n=r;n<=s;n+=2)l=Math.min(l,this.data[i][n+1]);return l}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"setLineStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected",i=arguments[2];return this.styles[e]=this.styles[e]||{},this.styles[e].lineStyle=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineStyle",value:function(t){return this.getStyle(t).lineStyle}},{key:"getLineDashArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(t).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[t].lineStyle}this.styleHasChanged(t)}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[t]}},{key:"extendStyles",value:function(){for(var t in this.styles){var e=this.styles[t];e&&(this.styles[t]=h.extend(!0,{},this.styles.unselected,e))}}},{key:"extendStyle",value:function(t,e){var i=this.styles[t];this.styles[t]=h.extend(!0,{},this.styles[e||"unselected"],i||{}),this.styles[t].markers.map(function(t){t.dom&&(t.dom="")}),this._recalculateMarkerPoints(t,this.styles[t].markers),this.styleHasChanged(t)}},{key:"setLineWidth",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineWidth=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineWidth",value:function(t){return this.getStyle(t).lineWidth||1}},{key:"setLineColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineColor=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineColor",value:function(t){return this.getStyle(t).lineColor||"black"}},{key:"showMarkers",value:function(t,e){return t=t||"unselected",this.styles[t]=this.styles[t]||{},this.styles[t].showMarkers=!0,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"hideMarkers",value:function(t,e){return t=t||"unselected",this.styles[t].showMarkers=!1,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"markersShown",value:function(t){return!1!==this.getStyle(t).showMarkers}},{key:"areMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"isMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"setMarkers",value:function(t,e,i){return this.styles[e||"unselected"]=this.styles[e||"unselected"]||{},this.showMarkers(e,!1),Array.isArray(t)||"object"!=(void 0===t?"undefined":f(t))?t||(t=[{type:1,zoom:1,points:"all"}]):t=[t],this.styles[e||"unselected"].markers=t,i&&(this.styles.selected.markers=h.extend(!0,{},t)),this._recalculateMarkerPoints(e,t),this.styleHasChanged(e),this.dataHasChanged(!0),this}},{key:"setMarkersPoints",value:function(t,e,i){this._extendMarkers("points",t,e,i,!0)}},{key:"setMarkersColor",value:function(t,e,i){this._extendMarkers("color",t,e,i)}},{key:"setMarkersType",value:function(t,e,i){this._extendMarkers("type",t,e,i)}},{key:"setMarkersZoom",value:function(t,e,i){this._extendMarkers("zoom",t,e,i)}},{key:"setMarkersStrokeColor",value:function(t,e,i){this._extendMarkers("strokeColor",t,e,i)}},{key:"setMarkersStrokeWidth",value:function(t,e,i){this._extendMarkers("strokeWidth",t,e,i)}},{key:"setMarkersFillColor",value:function(t,e,i){this._extendMarkers("fillColor",t,e,i)}},{key:"_extendMarkers",value:function(t,e,i,n,r){i=i||0,n=n||"unselected",this.styles[n]&&this.styles[n].markers&&(this.styles[n].markers[i][t]=e,r&&this._recalculateMarkerPoints(n,this.styles[n].markers),this.markersDom[this.styles[n].markers[i]]&&this.setMarkerStyleTo(this.markersDom[this.styles[n].markers[i]].dom,this.styles[n].markers[i]))}},{key:"_recalculateMarkerPoints",value:function(t,e){var i=[];i.push([0,1/0,null]);for(var n=0,r=e.length;n<r;n++){e[n].markerPath=this.getMarkerPath(e[n]),e[n].points||(e[n].points="all"),Array.isArray(e[n].points)||(e[n].points=[e[n].points]);for(var s=0,o=e[n].points.length;s<o;s++)"all"==e[n].points[s]?i.push([0,1/0,n]):Array.isArray(e[n].points[s])?i.push([e[n].points[s][0],e[n].points[s][1],n]):i.push([e[n].points[s],e[n].points[s],n])}this.markerFamilies[t||"unselected"]=e,i.sort(function(t,e){return t[0]-e[0]||(null==t[2]?-1:1)}),this.markerPoints[t||"unselected"]=i}},{key:"insertMarkers",value:function(t){if(this.markerFamilies&&this.markerFamilies[t||this.selectionType]&&!this.options.markersIndependant)for(var e=0,i=this.markerFamilies[t||this.selectionType].length;e<i;e++)if(this.markersDom.has(this.markerFamilies[t||this.selectionType][e])){var n=this.markersDom.get(this.markerFamilies[t||this.selectionType][e]);n.dom.setAttribute("d",n.path),this.groupMarkers.appendChild(n.dom),this.currentMarkersSelectionType=this.selectionType}}},{key:"getMarkerForLegend",value:function(){if(this.markerPoints&&this.markerPoints[this.selectionType]){if(!this.markerForLegend){var t=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(t,this.markerFamilies[this.selectionType][0]),t.setAttribute("d","M 14 0 "+this.getMarkerPath(this.markerFamilies[this.selectionType][0])),this.markerForLegend=t}return this.markerForLegend}}},{key:"eraseMarkers",value:function(){var t=this;if(this.options.markersIndependant){for(var e in this.independantMarkers)t.groupMarkers.removeChild(this.independantMarkers[e]);this.independantMarkers={}}else this.currentMarkersSelectionType&&(this.markersDom.forEach(function(e){e.dom&&e.dom.parentNode===t.groupMarkers&&(t.groupMarkers.removeChild(e.dom),e.path="")}),this.currentMarkersSelectionType=!1)}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}}]),e}();h.mix(g,l.default),e.default=g,t.exports=e.default})},function(t,e,i){var n=i(19);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(19),r=i(6)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:s?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,i){var n,r,s;!function(i,o){r=[t,e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e){"use strict";function i(t){return!!(t&&t.indexOf&&t.indexOf("px")>-1)&&parseInt(t.replace("px",""))}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"==(void 0===e?"undefined":n(e))?(this.x=e.x,this.y=e.y,this.dx=e.dx,this.dy=e.dy):(this.x=e,this.y=i,this.dx=r,this.dy=s)}return r(t,[{key:"duplicate",value:function(){return new t(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(t,e,i,n){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,n)}},{key:"_compute",value:function(t,e,n,r){var s=this._relativeTo;if(s)var o=s._compute(t,e,n,r);var a,u={x:!1,y:!1};e||(e=t.getXAxis()),n||(n=t.getYAxis());for(var h in u){var l="x"==h?e:n,c=this[h],f=this["d"+h];if(void 0===c&&(void 0!==f&&void 0===s||void 0===s)){if("x"==h){if(void 0===f)continue;u[h]=s?s[h]:0}else if(void 0!==this.x&&r)if(!1!==i(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),u[h]=0;else{(d=r.searchClosestValue(this.x))?u[h]=r.getY(d.yMin):(console.warn("Could not find y position for x = "+this.x+' on serie "'+r.getName()+'". Returning 0 for y.'),u[h]=0)}}else void 0!==c&&(u[h]=this.getPx(c,l));if(void 0!==f){var p=void 0!==c||void 0==o||void 0==o[h]?u[h]:o[h];if("y"==h&&o&&void 0!==o.x&&void 0==o.y){if(!r)throw"Error. No serie exists. Cannot find y value";var d=r.searchClosestValue(s.x);d&&(p=r.getY(d.yMin))}p||(p=0),!1!==(a=i(f))?u[h]=p+a:!1!==(a=this._parsePercent(f))?u[h]=p+this._getPositionPx(a,!0,l,t):l&&(u[h]=p+l.getRelPx(f))}}return u}},{key:"_getPositionPx",value:function(t,e,n,r){var s;return!1!==(s=i(t))?s:!1!==(s=this._parsePercent(t))?s/100*(e?r.getDrawingWidth():r.getDrawingHeight()):n?n.getPos(t):void 0}},{key:"_parsePercent",value:function(t){return!!(t&&t.indexOf&&t.indexOf("%")>-1)&&t}},{key:"getDeltaPx",value:function(t,e){var n;return!1!==(n=i(t))?n+"px":e.getRelPx(t)+"px"}},{key:"deltaPosition",value:function(t,e,n){var r,s,o=this[t="y"==t?"y":"x"],a=this["d"+t];if(void 0!==o)!1!==(r=i(o))?!1!==(s=i(e))?this[t]=r+s+"px":this[t]=r+n.getRelPx(e)+"px":(o=this.getValPosition(o,n),!1!==(s=i(e))?this[t]=o+n.getRelVal(s):this[t]=o+e);else if(void 0!==a){if("y"==t&&void 0===o&&!this._relativeTo)return;!1!==(r=i(a))?!1!==(s=i(e))?this["d"+t]=r+s+"px":this["d"+t]=r+n.getRelPx(e)+"px":(a=this.getValPosition(a,n),!1!==(s=i(e))?this["d"+t]=a+n.getRelVal(s):this["d"+t]=a+e)}}},{key:"getValPosition",value:function(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}},{key:"getPx",value:function(t,e,n){var r;if("function"==typeof t)return t(e,n);if(!1!==(r=i(t)))return r;if(!1!==(r=this._parsePercent(t)))return r;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(n)return e.getRelPx(t);if(function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t))return e.getPos(t)}}},{key:"getPxRel",value:function(t,e){return this.getPx(t,e,!0)}},{key:"relativeTo",value:function(e){return this._relativeTo=t.check(e),this}}],[{key:"check",value:function(e,i){if(e instanceof t)return e;var n=new t(e);if(e&&e.relativeTo){var r=i(e.relativeTo);r&&n.relativeTo(r)}return n}}]),t}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(i,o){r=[t,e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e){"use strict";function i(){}function n(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function r(t){return function(){return this[t].apply(this,arguments)}}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i.prototype;o.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},o.addListener=function(t,e){var i,r=this.getListenersAsObject(t),o="object"===(void 0===e?"undefined":s(e));for(i in r)r.hasOwnProperty(i)&&-1===n(r[i],e)&&r[i].push(o?e:{listener:e,once:!1});return this},o.on=r("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=r("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,e){var i,r,s=this.getListenersAsObject(t);for(r in s)s.hasOwnProperty(r)&&-1!==(i=n(s[r],e))&&s[r].splice(i,1);return this},o.off=r("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var n,r,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":s(e))||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(r=e[n])&&("function"==typeof r?o.call(this,n,r):a.call(this,n,r));return this},o.removeEvent=function(t){var e,i=void 0===t?"undefined":s(t),n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},o.removeAllListeners=r("removeEvent"),o.emitEvent=function(t,e){var i,n,r,s=this.getListenersAsObject(t);for(r in s)if(s.hasOwnProperty(r))for(n=s[r].length;n--;)!0===(i=s[r][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=r("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},e.default=i,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(55),i(4),i(44)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(n),s(r)),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.graph=t,r.name=i,r.options=Object.assign({},e.default(),r.constructor.default(),n),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),u(e,null,[{key:"default",value:function(){return{redrawShapesAfterDraw:!1}}}]),u(e,[{key:"draw",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(t){t.redraw()}),this.emit("draw")}},{key:"setData",value:function(t,e,i){if(t instanceof a.default)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(t,e){return[]}},{key:"clearData",value:function(){return this.setData(new a.default),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(t){this.options=t||{}}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"kill",value:function(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"show",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),n=0,r=i.length;n<r;n++)i[n].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(t){return(t=this.getXAxis().getPx(t))-t%.2}},{key:"getY",value:function(t){return(t=this.getYAxis().getPx(t))-t%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}},{key:"_checkY",value:function(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(t){if(!(t instanceof a.default))throw"Cannot assign waveform to serie. Waveform is not of the proper Waveform instance";return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1",5),t.setAttribute("x2",25),t.setAttribute("y1",0),t.setAttribute("y2",0),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(t){return this.options.flip=t,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(t){var e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"styleHasChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(t){return this._changedStyles=this._changedStyles||{},this._changedStyles[t||"unselected"]}},{key:"dataHasChanged",value:function(t){return this._dataHasChanged=void 0===t||t,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}},{key:"getInfo",value:function(t,e){return(this.infos||{})[t]}},{key:"setAdditionalData",value:function(t){return this.additionalData=t,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(){return this.selected=!0,this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(t,e){return this._tracker=!0,this._trackingCallback=t,this._trackingOutCallback=e,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this._trackingCallback=null,this}},{key:"allowTrackingLine",value:function(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"setDataIndices",value:function(t,e){this.categoryIndices=t,this.nbCategories=e}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}},{key:"excludedFromLegend",set:function(t){this._excludedFromLegend=t},get:function(){return!!this._excludedFromLegend}}]),e}();e.default=h,t.exports=e.default})},function(t,e,i){var n=i(2),r="__core-js_shared__",s=n[r]||(n[r]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e,i){var n=i(15),r=i(9),s=i(37);t.exports=function(t){return function(e,i,o){var a,u=n(e),h=r(u.length),l=s(o,h);if(t&&i!=i){for(;h>l;)if((a=u[l++])!=a)return!0}else for(;h>l;l++)if((t||l in u)&&u[l]===i)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(5),r=i(19),s=i(6)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(6)("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},t(s)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(1);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var n=i(12),r=i(13),s=i(3),o=i(20),a=i(6);t.exports=function(t,e,i){var u=a(t),h=i(o,u,""[t]),l=h[0],c=h[1];s(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,l),n(RegExp.prototype,u,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},function(t,e,i){"use strict";var n=i(2),r=i(0),s=i(13),o=i(42),a=i(32),u=i(49),h=i(41),l=i(5),c=i(3),f=i(62),p=i(45),d=i(78);t.exports=function(t,e,i,g,y,v){var m=n[t],x=m,b=y?"set":"add",k=x&&x.prototype,A={},M=function(t){var e=k[t];s(k,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof x&&(v||k.forEach&&!c(function(){(new x).entries().next()}))){var w=new x,S=w[b](v?{}:-0,1)!=w,_=c(function(){w.has(1)}),P=f(function(t){new x(t)}),C=!v&&c(function(){for(var t=new x,e=5;e--;)t[b](e,e);return!t.has(-0)});P||((x=e(function(e,i){h(e,x,t);var n=d(new m,e,x);return void 0!=i&&u(i,y,n[b],n),n})).prototype=k,k.constructor=x),(_||C)&&(M("delete"),M("has"),y&&M("get")),(C||S)&&M(b),v&&k.clear&&delete k.clear}else x=g.getConstructor(e,t,y,b),o(x.prototype,i),a.NEED=!0;return p(x,t),A[t]=x,r(r.G+r.W+r.F*(x!=m),A),v||g.setStrong(x,t,y),x}},function(t,e,i){for(var n,r=i(2),s=i(12),o=i(34),a=o("typed_array"),u=o("view"),h=!(!r.ArrayBuffer||!r.DataView),l=h,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(n=r[f[c++]])?(s(n.prototype,a,!0),s(n.prototype,u,!0)):l=!1;t.exports={ABV:h,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,i){t.exports=i(35)||!i(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(2)[t]})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(55),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=s(n),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(r),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l={lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridColor:"#f0f0f0",secondaryGridColor:"#f0f0f0",primaryGridWidth:1,secondaryGridWidth:1,hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),h(e,[{key:"init",value:function(t,e,i){var n=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=t,this.options=u.extend(!0,{},l,i,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.labelValue,this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(t){t.preventDefault();var e=n.graph._getXY(t);n.handleMouseMoveLocal(e.x,e.y,t);for(var i=0,r=n.series.length;i<r;i++)n.series[i].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(t){t.preventDefault();var e=n.graph._getXY(t);n.addLabel(n.getVal(e.x-n.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.gridSecondary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.graph._axisHasChanged(this)}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(t){return this.options.display=!!t,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(t,e){return t||e.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(t,e){this.graph.killAxis(this,t,e)}},{key:"setLineAt",value:function(t){return this.options.lineAt=t,this}},{key:"adaptTo",value:function(t,e,i,n){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:n},this.adapt(),this):(this.options.adaptTo=!1,this)}},{key:"adapt",value:function(){if(this.options.adaptTo){if(!t);var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.currentAxisMin&&void 0!==t.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.currentAxisMin=this.options.forcedMin:this.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())),this.currentAxisMin==e&&(this.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());n=!1!==this.options.forcedMin?this.options.forcedMin:this.currentAxisMin;this.currentAxisMax=(e-n)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+n}else{!1!==this.options.forcedMax?this.currentAxisMax=this.options.forcedMax:this.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.currentAxisMax==e&&(this.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());var n=!1!==this.options.forcedMax?this.options.forcedMax:this.currentAxisMax;this.currentAxisMin=(e-n)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+n}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(t){this.options.axisDataSpacing.min=t}},{key:"setAxisDataSpacingMax",value:function(t){this.options.axisDataSpacing.max=t}},{key:"setMinPx",value:function(t){this.minPx=t,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(t){this.maxPx=t,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(t){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return!1!==this.options.forcedMin?this.options.forcedMin:this.dataMin}},{key:"getMaxValue",value:function(){return!1!==this.options.forcedMax?this.options.forcedMax:this.dataMax}},{key:"setMinValueData",value:function(t){this.dataMin=t,isNaN(this.getCurrentMin())&&(this.setCurrentMin(this.getMinValue()),this.cache())}},{key:"setMaxValueData",value:function(t){this.dataMax=t,isNaN(this.getCurrentMax())&&(this.setCurrentMax(this.getMaxValue()),this.cache())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"forceMin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"forceMax",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(t){this.options.nbTicksPrimary=t}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(t){return this.options.nbTicksSecondary=t,this}},{key:"handleMouseMove",value:function(t,e){this.mouseVal=this.getVal(t)}},{key:"handleMouseWheel",value:function(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i),this.graph.draw()}},{key:"zoom",value:function(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}},{key:"_doZoomVal",value:function(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}},{key:"_doZoom",value:function(t,e,i,n,r){var i=void 0!==i?i:this.getVal(t),n=void 0!==n?n:this.getVal(e);return this.setCurrentMin(Math.min(i,n)),this.setCurrentMax(Math.max(i,n)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,r||this.emit("zoom",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(t,e,i){var n=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":var r=this.getModifiedValue(this.getMaxValue());r<3600?0:r<86400?1:2;for(var s=!1,o=0,a=this.unitModificationTimeTicks.length;o<a;o++){for(var u=0,h=this.unitModificationTimeTicks[o][1].length;u<h;u++)if(n<this.unitModificationTimeTicks[o][0]*this.unitModificationTimeTicks[o][1][u]){s=!0;break}if(s)break}d=o!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[o][0]*this.unitModificationTimeTicks[o][1][u]:1;break;default:var l=Math.floor(Math.log(n)/Math.log(10)),c=n*Math.pow(10,-l);this.decimals=-l;for(var f=[1,2,5,10],p=!1,o=f.length-1;o>=0;o--)(!p||Math.abs(f[o]-c)<Math.abs(p-c))&&(p=f[o]);var d=p*Math.pow(10,l)}var g=i/d;return[d,g,t/e]}},{key:"setMinMaxToFitSeries",value:function(t){var e=this.getInterval();return this.options.logScale?(this.currentAxisMin=Math.max(1e-50,.9*this.getMinValue()),this.currentAxisMax=Math.max(1e-50,1.1*this.getMaxValue())):(this.currentAxisMin=this.getMinValue(),this.currentAxisMax=this.getMaxValue(),!1===this.getForcedMin()&&(this.currentAxisMin-=this.options.axisDataSpacing.min*e),!1===this.getForcedMax()&&(this.currentAxisMax+=this.options.axisDataSpacing.max*e)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.currentAxisMin==this.currentAxisMax?this.options.logScale?this.currentAxisMin/10:this.currentAxisMin-1:this.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.currentAxisMax==this.currentAxisMin?this.options.logScale?10*this.currentAxisMax:this.currentAxisMax+1:this.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||void 0===t))&&(t=this.getMinValue()),this.currentAxisMin=t,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||void 0===t))&&(t=this.getMaxValue()),this.currentAxisMax=t,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var t=this;void 0!==this.currentAxisMin&&void 0!==this.currentAxisMax||this.setMinMaxToFitSeries(!0);var e=Math.abs(this.getMaxPx()-this.getMinPx()),i=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="";var n=void 0;if(this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var r=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?(r+=n,this.preunitTspan.innerHTML=n,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),r+=" "+n+" "+this.options.unit):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),r+=" \\cdot 10^"+this.scientificExponent+" "+this.options.unit),this.katexElement=this.graph.renderWithKatex(r,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=n,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)s=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;s=this.drawLinkedToAxisTicksWrapper(e,i)}else if(this.options.logScale)s=this.drawLogTicks();else var s=this.drawLinearTicksWrapper(e,i);this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary);return this.graph.findAxesLinkedTo(this).map(function(e){e.linkedToAxis&&(e.setMinPx(t.getMinPx()),e.setMaxPx(t.getMaxPx()),e.draw())}),s}},{key:"drawLines",value:function(){var t=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(e,i){!isNaN(e)&&t.getCurrentMin()<=e&&t.getCurrentMax()>=e?t._lines[i]=t._drawLine(e,t._lines[i]):t._hideLine(t._lines[i])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none"),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f"}}},{key:"drawLinearTicksWrapper",value:function(t,e){var i=void 0;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this.drawTicks(i,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(t){this.options.primaryTickUnit=t}},{key:"forcePrimaryTickUnitMax",value:function(t){this.options.maxPrimaryTickUnit=t}},{key:"forcePrimaryTickUnitMin",value:function(t){this.options.minPrimaryTickUnit=t}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(t){this.options.ticklabelratio=t}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}},{key:"drawTicks",value:function(t,e){var i,n,r,s=t,o=this.getCurrentMin(),a=this.getCurrentMax(),u=0;for(e&&(i=s/e),n=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-o)/s)*s:Math.floor(o/s)*s,this.incrTick=t;n<=a&&!(++u>200);){if(e){r=n+i,this.subIncrTick=r;for(var h=0;r<n+s&&!(++h>100);)r<o||r>a?r+=i:(this.drawTickWrapper(r,!1,Math.abs(r-n-s/2)<1e-4?2:3),r+=i)}n<o||n>a?n+=t:(this.drawTickWrapper(n,!0,1),n+=t)}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}var i=this.ticks[t][this.currentTick[t]];return this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}},{key:"nextTickLabel",value:function(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}var e=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}},{key:"removeUselessTicks",value:function(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}},{key:"removeUselessTickLabels",value:function(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(t,e,i,n,r){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+="M "+e+" "+n+" L "+i+" "+r)}},{key:"setGridLineStyle",value:function(t,e){t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity());var i;(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e),e=Math.max(t,e);i<1e-50&&(i=1e-50),Math.log(i)-Math.log(e)>20&&(e=Math.pow(10,20*Math.log(i)));var n={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);for(var r,s=0==i?0:Math.floor(Math.log(i)/Math.log(10)),i=1;(r=i*Math.pow(10,s))<e;)1==i&&r>t&&this.drawTickWrapper(r,!0,1,n),10==i?(i=1,s++):(1!=i&&r>t&&this.drawTickWrapper(r,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(t,e,i,n){this.drawTick(t,i,n)}},{key:"linkToAxis",value:function(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(t,e){var i,n,r,s,o=this.linkedToAxis,a=0;o.deltaPx||(o.deltaPx=10);do{if(i=o.scalingFunction(o.axis.getVal(a+this.getMinPx())),o.decimals&&(this.decimals=o.decimals),!(n=this.drawTick(i,1,{},a+this.getMinPx())))throw console.log(i,a,this.getMinPx()),"Unable to draw tick. Please report the test-case";if(r=8*String(n[1].textContent).length,(s=5*Math.round(r/5))>o.deltaPx)return o.deltaPx=s,void this.drawLinkedToAxisTicksWrapper(t,e);0,a+=o.deltaPx}while(a<t)}},{key:"getPos",value:function(t){return this.getPx(t)}},{key:"getPx",value:function(t){if(this.options.logScale){if(t<0)return;return t=(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(t){return Math.round(10*this.getPx(t))/10}},{key:"getVal",value:function(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(t){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return t=this.modifyUnit(t,this.options.unitModification);var e=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=e>0?t.toFixed(e):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=" "+this.options.unit),t)}},{key:"valueToHtml",value:function(t,e,i){var n,r=this.valueToText(t);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(n=this.getExponentGreekLetter(this.scientificExponent))?r+=n:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(r+="x10",r+="<sup>"+this.scientificExponent+"</sup>"),this.options.unit&&!i&&(r+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),r}},{key:"getModifiedValue",value:function(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}},{key:"modifyUnit",value:function(t,e){var i="",n=this.incrTick;switch(e){case"time":var r,s=this.getModifiedValue(this.getMaxValue()),o=[[60,"min"],[3600,"h"],[86400,"d"]];if(s<3600?r=0:s<86400?r=1:s<2592e3&&(r=2),!o[r])return!1;t/=o[r][0];for(i=(a=Math.floor(t))+o[r][1],r--;n<1*o[r+1][0]&&r>-1;)!1,t=(t-a)*o[r+1][0]/o[r][0],i+=" "+(a=Math.round(t))+o[r][1],r--;break;case"time:min.sec":t/=60;var a=Math.floor(t),u=Math.round(60*(t-a))+"";i=a+"."+(u=1==u.length?"0"+u:u)}return i}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(t){this.options.exponentialFactor=t}},{key:"setExponentialLabelFactor",value:function(t){this.options.exponentialLabelFactor=t}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setLabel",value:function(t){return this.options.labelValue=t,this}},{key:"setLabelFont",value:function(t){return this.options.labelFont=t,this}},{key:"getLabel",value:function(){return this.options.labelValue}},{key:"setSpan",value:function(t,e){return this.options.span=[t,e],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(t){return this._level=t,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(t){this.shift=t}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(t){switch(t){case 3:case"outside":case o.default.TICKS_OUTSIDE:t=3;break;case 2:case"centered":case o.default.TICKS_CENTERED:t=2;break;default:case 1:case"inside":case o.default.TICKS_INSIDE:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}},{key:"setPrimaryGrid",value:function(t){return this.options.primaryGrid=t,this}},{key:"setSecondaryGrid",value:function(t){return this.options.secondaryGrid=t,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setAxisColor",value:function(t){return this.options.axisColor=t,this}},{key:"getAxisColor",value:function(t){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(t){return this.options.tickLabelOffset=t,this}},{key:"setPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor=t,this}},{key:"getPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor=t,this}},{key:"getSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(t){return this.options.ticksLabelColor=t,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(e){e.setAttribute("fill",t)}),this}},{key:"getTicksLabelColor",value:function(t){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(t){return this.options.primaryGridOpacity=t,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(t){return this.options.secondaryGridOpacity=t,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(t){return this.options.primaryGridDasharray=t,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(t){return this.options.secondaryGridDasharray=t,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(t){return this.options.labelColor=t,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e);else{var n=Math.round(Math.log(e)/Math.log(10)),r=Math.floor(e*Math.pow(10,-n));t.textContent=1!=r?r+"x10":"10";var s=document.createElementNS(this.graph.ns,"tspan");s.textContent=n,s.setAttribute("font-size","0.7em"),s.setAttribute("dy",-5),t.appendChild(s)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(t){return this.options.unit=t,this}},{key:"setUnitInTicks",value:function(t){return this.options.unitInTicks=t,this}},{key:"setUnitWrapper",value:function(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}},{key:"setUnitDecade",value:function(t){return this.options.unitDecade=t,this}},{key:"setScientific",value:function(t){return this.options.scientificScale=t,this}},{key:"setScientificScaleExponent",value:function(t){return this.options.scientificScaleExponent=t,this}},{key:"setEngineering",value:function(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}},{key:"getEngineeringExponent",value:function(t){return t-=t>0?t%3:(3- -t%3)%3}},{key:"setLogScale",value:function(t){return this.options.logScale=t,this}},{key:"isZoomed",value:function(){return!(this.currentAxisMin==this.getMinValue()||this.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=t,this}},{key:"zoomLock",set:function(t){this._zoomLocked=t},get:function(){return this._zoomLocked||!1}}]),e}();c.prototype.getValue=c.prototype.getVal,c.prototype.getDeltaPx=c.prototype.getRelPx,e.default=c,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i),r={makeBarY:function(t,e,i){if(t&&void 0!==i){var r=n.isNumeric(i.width)?i.width:10;return" V "+t+" m -"+r/2+" 0 h "+r+" m -"+r/2+" 0 V "+e+" "}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return" m 5 0 V "+t+" h -10 V "+e+" m 5 0 "},makeBarX:function(t,e,i){if(t&&void 0!==i){var r=n.isNumeric(i.width)?i.width:10;return" H "+t+" m 0 -"+r/2+" v "+r+" m 0 -"+r/2+" H "+e+" "}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return" v 5 H "+t+" v -10 H "+e+" v 5 "},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=[],r=[["y","top","bottom"],["x","left","right"]],s=function(e){e.dom=document.createElementNS(t.graph.ns,"path"),e.dom.setAttribute("fill",e.fillColor||"none"),e.dom.setAttribute("stroke",e.strokeColor||"black"),e.dom.setAttribute("stroke-opacity",e.strokeOpacity||1),e.dom.setAttribute("fill-opacity",e.fillOpacity||1),e.dom.setAttribute("stroke-width",e.strokeWidth||1),t.groupMain.appendChild(e.dom)},i={};"string"==typeof e&&(e={});for(var o=0,a=r.length;o<a;o++){e.all&&(e[r[o][1]]=n.extend(!0,{},e.all),e[r[o][2]]=n.extend(!0,{},e.all)),e[r[o][0]]&&(e[r[o][1]]=n.extend(!0,{},e[r[o][0]]),e[r[o][2]]=n.extend(!0,{},e[r[o][0]]));for(var u=1;u<=2;u++)e[r[o][u]]&&(i[r[o][u]]=e[r[o][u]],s(i[r[o][u]]))}return i},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,n,r){var s=void 0;(s=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=" M "+n+" "+r,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-s),n,this.errorbarStyle.left)),(s=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=" M "+n+" "+r,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+s),n,this.errorbarStyle.right)),(s=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=" M "+n+" "+r,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-s),r,this.errorbarStyle.bottom)),(s=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=" M "+n+" "+r,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+s),r,this.errorbarStyle.top)),(s=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=" M "+n+" "+r,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-s),n,this.errorboxStyle.left)),(s=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=" M "+n+" "+r,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+s),n,this.errorboxStyle.right)),(s=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=" M "+n+" "+r,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-s),r,this.errorboxStyle.bottom)),(s=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=" M "+n+" "+r,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+s),r,this.errorboxStyle.top))},errorAddPointBarChart:function(t,e,i,n){var r;this.error&&(r=this.error[t])&&this.doErrorDraw("y",r,e,n,i,n)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};e.default=r,t.exports=e.default})},function(t,e,i){var n=i(5),r=i(2).document,s=n(r)&&n(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,i){var n=i(2),r=i(27),s=i(35),o=i(100),a=i(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var n=i(57)("keys"),r=i(34);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(19);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){t.exports=i(2).document&&document.documentElement},function(t,e,i){var n=i(5),r=i(1),s=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(28)(Function.call,i(17).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return s(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:s}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var n=i(5),r=i(76).set;t.exports=function(t,e,i){var s,o=e.constructor;return o!==i&&"function"==typeof o&&(s=o.prototype)!==i.prototype&&n(s)&&r&&r(t,s),t}},function(t,e,i){"use strict";var n=i(33),r=i(20);t.exports=function(t){var e=String(r(this)),i="",s=n(t);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var n=i(33),r=i(20);t.exports=function(t){return function(e,i){var s,o,a=String(r(e)),u=n(i),h=a.length;return u<0||u>=h?t?"":void 0:(s=a.charCodeAt(u))<55296||s>56319||u+1===h||(o=a.charCodeAt(u+1))<56320||o>57343?t?a.charAt(u):s:t?a.slice(u,u+2):o-56320+(s-55296<<10)+65536}}},function(t,e,i){"use strict";var n=i(35),r=i(0),s=i(13),o=i(12),a=i(11),u=i(47),h=i(84),l=i(45),c=i(18),f=i(6)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,g,y,v,m){h(i,e,g);var x,b,k,A=function(t){if(!p&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},M=e+" Iterator",w="values"==y,S=!1,_=t.prototype,P=_[f]||_["@@iterator"]||y&&_[y],C=P||A(y),O=y?w?A("entries"):C:void 0,L="Array"==e?_.entries||P:P;if(L&&(k=c(L.call(new t)))!==Object.prototype&&(l(k,M,!0),n||a(k,f)||o(k,f,d)),w&&P&&"values"!==P.name&&(S=!0,C=function(){return P.call(this)}),n&&!m||!p&&!S&&_[f]||o(_,f,C),u[e]=C,u[M]=d,y)if(x={values:w?C:A("values"),keys:v?C:A("keys"),entries:O},m)for(b in x)b in _||s(_,b,x[b]);else r(r.P+r.F*(p||S),e,x);return x}},function(t,e,i){"use strict";var n=i(38),r=i(31),s=i(45),o={};i(12)(o,i(6)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:r(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var n=i(61),r=i(20);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var n=i(47),r=i(6)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||s[r]===t)}},function(t,e,i){"use strict";var n=i(8),r=i(31);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(53),r=i(6)("iterator"),s=i(47);t.exports=i(27).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||s[n(t)]}},function(t,e,i){"use strict";var n=i(10),r=i(37),s=i(9);t.exports=function(t){for(var e=n(this),i=s(e.length),o=arguments.length,a=r(o>1?arguments[1]:void 0,i),u=o>2?arguments[2]:void 0,h=void 0===u?i:r(u,i);h>a;)e[a++]=t;return e}},function(t,e,i){"use strict";var n=i(48),r=i(115),s=i(47),o=i(15);t.exports=i(83)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(t,e,i){var n=i(1),r=i(14),s=i(6)("species");t.exports=function(t,e){var i,o=n(t).constructor;return void 0===o||void 0==(i=n(o)[s])?e:r(i)}},function(t,e,i){var n,r,s,o=i(28),a=i(60),u=i(75),h=i(70),l=i(2),c=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=0,y={},v="onreadystatechange",m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},x=function(t){m.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return y[++g]=function(){a("function"==typeof t?t:Function(t),e)},n(g),g},p=function(t){delete y[t]},"process"==i(19)(c)?n=function(t){c.nextTick(o(m,t,1))}:d?(s=(r=new d).port2,r.port1.onmessage=x,n=o(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):n=v in h("script")?function(t){u.appendChild(h("script"))[v]=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(o(m,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){var n=i(2),r=i(93).set,s=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,u="process"==i(19)(o);t.exports=function(){var t,e,i,h=function(){var n,r;for(u&&(n=o.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(u)i=function(){o.nextTick(h)};else if(s){var l=!0,c=document.createTextNode("");new s(h).observe(c,{characterData:!0}),i=function(){c.data=l=!l}}else if(a&&a.resolve){var f=a.resolve();i=function(){f.then(h)}}else i=function(){r.call(n,h)};return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){"use strict";var n=i(2),r=i(7),s=i(35),o=i(66),a=i(12),u=i(42),h=i(3),l=i(41),c=i(33),f=i(9),p=i(39).f,d=i(8).f,g=i(90),y=i(45),v="ArrayBuffer",m="DataView",x="prototype",b=n[v],k=n[m],A=n.Math,M=n.RangeError,w=n.Infinity,S=b,_=A.abs,P=A.pow,C=A.floor,O=A.log,L=A.LN2,E="byteLength",T=r?"_b":"buffer",X=r?"_l":E,D=r?"_o":"byteOffset",j=function(t,e,i){var n,r,s,o=Array(i),a=8*i-e-1,u=(1<<a)-1,h=u>>1,l=23===e?P(2,-24)-P(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=_(t))!=t||t===w?(r=t!=t?1:0,n=u):(n=C(O(t)/L),t*(s=P(2,-n))<1&&(n--,s*=2),(t+=n+h>=1?l/s:l*P(2,1-h))*s>=2&&(n++,s/=2),n+h>=u?(r=0,n=u):n+h>=1?(r=(t*s-1)*P(2,e),n+=h):(r=t*P(2,h-1)*P(2,e),n=0));e>=8;o[c++]=255&r,r/=256,e-=8);for(n=n<<e|r,a+=e;a>0;o[c++]=255&n,n/=256,a-=8);return o[--c]|=128*f,o},I=function(t,e,i){var n,r=8*i-e-1,s=(1<<r)-1,o=s>>1,a=r-7,u=i-1,h=t[u--],l=127&h;for(h>>=7;a>0;l=256*l+t[u],u--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;a>0;n=256*n+t[u],u--,a-=8);if(0===l)l=1-o;else{if(l===s)return n?NaN:h?-w:w;n+=P(2,e),l-=o}return(h?-1:1)*n*P(2,l-e)},N=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Y=function(t){return[255&t]},F=function(t){return[255&t,t>>8&255]},B=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},R=function(t){return j(t,52,8)},H=function(t){return j(t,23,4)},W=function(t,e,i){d(t[x],e,{get:function(){return this[i]}})},z=function(t,e,i,n){var r=+i,s=c(r);if(r!=s||s<0||s+e>t[X])throw M("Wrong index!");var o=t[T]._b,a=s+t[D],u=o.slice(a,a+e);return n?u:u.reverse()},V=function(t,e,i,n,r,s){var o=+i,a=c(o);if(o!=a||a<0||a+e>t[X])throw M("Wrong index!");for(var u=t[T]._b,h=a+t[D],l=n(+r),f=0;f<e;f++)u[h+f]=l[s?f:e-f-1]},U=function(t,e){l(t,b,v);var i=+e,n=f(i);if(i!=n)throw M("Wrong length!");return n};if(o.ABV){if(!h(function(){new b})||!h(function(){new b(.5)})){for(var G,Z=(b=function(t){return new S(U(this,t))})[x]=S[x],q=p(S),K=0;q.length>K;)(G=q[K++])in b||a(b,G,S[G]);s||(Z.constructor=b)}var J=new k(new b(2)),Q=k[x].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||u(k[x],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else b=function(t){var e=U(this,t);this._b=g.call(Array(e),0),this[X]=e},k=function(t,e,i){l(this,k,m),l(t,b,m);var n=t[X],r=c(e);if(r<0||r>n)throw M("Wrong offset!");if(i=void 0===i?n-r:f(i),r+i>n)throw M("Wrong length!");this[T]=t,this[D]=r,this[X]=i},r&&(W(b,E,"_l"),W(k,"buffer","_b"),W(k,E,"_l"),W(k,"byteOffset","_o")),u(k[x],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(z(this,4,t,arguments[1]))},getUint32:function(t){return N(z(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return I(z(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return I(z(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,Y,e)},setUint8:function(t,e){V(this,1,t,Y,e)},setInt16:function(t,e){V(this,2,t,F,e,arguments[2])},setUint16:function(t,e){V(this,2,t,F,e,arguments[2])},setInt32:function(t,e){V(this,4,t,B,e,arguments[2])},setUint32:function(t,e){V(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,H,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,R,e,arguments[2])}});y(b,v),y(k,m),a(k[x],o.VIEW,!0),e[v]=b,e[m]=k},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(68)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return r.top="top"==i,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"getAxisPosition",value:function(){if(!this.options.display)return 0;var t=void 0;return 0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=1*this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"setShift",value:function(t){this.shift=t,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 "+(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(this.options.tickPosition,10)}},{key:"drawTick",value:function(t,e,i,n){var r,s=this,o=this;if(void 0!=(r=n||this.getPos(t))&&!isNaN(r)){var a=this.nextTick(e,function(t){t.setAttribute("y1",(o.top?1:-1)*o.tickPx1*o.tickScaling[e]),t.setAttribute("y2",(o.top?1:-1)*o.tickPx2*o.tickScaling[e]),1==e?t.setAttribute("stroke",o.getPrimaryTicksColor()):t.setAttribute("stroke",o.getSecondaryTicksColor())});if(a.setAttribute("x1",r),a.setAttribute("x2",r),this.nextGridLine(1==e,r,r,0,this.graph.getDrawingHeight()),1==e){var u=this.nextTickLabel(function(t){t.setAttribute("y",(o.top?-1:1)*((1==o.options.tickPosition?8:20)+(o.top?10:0))+s.options.tickLabelOffset),t.setAttribute("text-anchor","middle"),"black"!==o.getTicksLabelColor()&&t.setAttribute("fill",o.getTicksLabelColor()),t.style.dominantBaseline="hanging"});u.setAttribute("x",r),this.setTickContent(u,t,i)}return[a,u]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var t=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),t}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#horionzalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#horionzalsplit_"+this.graph.getId()+")":"")}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e,i){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftX}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.setStrokeColor("black"),this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||s.deltaPosition("y",i,this.getYAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),o.y&&o.deltaPosition("y",i,this.getYAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis()),a.y&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var u=this._data.forcedCoords;void 0!==u.y&&("function"==typeof u.y?a.y=o.y=u.y(this):(a.y=u.y,o.y=u.y)),void 0!==u.x&&("function"==typeof u.x?a.x=o.x=u.x(this):(a.x=u.x,o.x=u.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),this.rectEvent.jsGraphIsShape=this,this.group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}]),e}();e.default=s,t.exports=e.default})},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){t.exports=!i(7)&&!i(3)(function(){return 7!=Object.defineProperty(i(70)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(6)},function(t,e,i){var n=i(11),r=i(15),s=i(58)(!1),o=i(72)("IE_PROTO");t.exports=function(t,e){var i,a=r(t),u=0,h=[];for(i in a)i!=o&&n(a,i)&&h.push(i);for(;e.length>u;)n(a,i=e[u++])&&(~s(h,i)||h.push(i));return h}},function(t,e,i){var n=i(8),r=i(1),s=i(36);t.exports=i(7)?Object.defineProperties:function(t,e){r(t);for(var i,o=s(e),a=o.length,u=0;a>u;)n.f(t,i=o[u++],e[i]);return t}},function(t,e,i){var n=i(15),r=i(39).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(n(t))}},function(t,e,i){"use strict";var n=i(36),r=i(59),s=i(52),o=i(10),a=i(51),u=Object.assign;t.exports=!u||i(3)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var i=o(t),u=arguments.length,h=1,l=r.f,c=s.f;u>h;)for(var f,p=a(arguments[h++]),d=l?n(p).concat(l(p)):n(p),g=d.length,y=0;g>y;)c.call(p,f=d[y++])&&(i[f]=p[f]);return i}:u},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var n=i(14),r=i(5),s=i(60),o=[].slice,a={};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),u=function(){var n=i.concat(o.call(arguments));return this instanceof u?function(t,e,i){if(!(e in a)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,i)}(e,n.length,n):s(e,n,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e,i){var n=i(2).parseInt,r=i(46).trim,s=i(77),o=/^[\-+]?0[xX]/;t.exports=8!==n(s+"08")||22!==n(s+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(o.test(i)?16:10))}:n},function(t,e,i){var n=i(2).parseFloat,r=i(46).trim;t.exports=1/n(i(77)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(19);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(5),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(1);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var s=t.return;throw void 0!==s&&n(s.call(t)),e}}},function(t,e,i){var n=i(14),r=i(10),s=i(51),o=i(9);t.exports=function(t,e,i,a,u){n(e);var h=r(t),l=s(h),c=o(h.length),f=u?c-1:0,p=u?-1:1;if(i<2)for(;;){if(f in l){a=l[f],f+=p;break}if(f+=p,u?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:c>f;f+=p)f in l&&(a=e(a,l[f],f,h));return a}},function(t,e,i){"use strict";var n=i(10),r=i(37),s=i(9);t.exports=[].copyWithin||function(t,e){var i=n(this),o=s(i.length),a=r(t,o),u=r(e,o),h=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===h?o:r(h,o))-u,o-a),c=1;for(u<a&&a<u+l&&(c=-1,u+=l-1,a+=l-1);l-- >0;)u in i?i[a]=i[u]:delete i[a],a+=c,u+=c;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(7)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(63)})},function(t,e,i){"use strict";var n=i(118);t.exports=i(65)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(8).f,r=i(38),s=i(42),o=i(28),a=i(41),u=i(20),h=i(49),l=i(83),c=i(115),f=i(40),p=i(7),d=i(32).fastKey,g=p?"_s":"size",y=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var c=t(function(t,n){a(t,c,e,"_i"),t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&h(n,i,t[l],t)});return s(c.prototype,{clear:function(){for(var t=this._i,e=this._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete t[e.i];this._f=this._l=void 0,this[g]=0},delete:function(t){var e=y(this,t);if(e){var i=e.n,n=e.p;delete this._i[e.i],e.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==e&&(this._f=i),this._l==e&&(this._l=n),this[g]--}return!!e},forEach:function(t){a(this,c,"forEach");for(var e,i=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(this,t)}}),p&&n(c.prototype,"size",{get:function(){return u(this[g])}}),c},def:function(t,e,i){var n,r,s=y(t,e);return s?s.v=i:(t._l=s={i:r=d(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=s),n&&(n.n=s),t[g]++,"F"!==r&&(t._i[r]=s)),t},getEntry:y,setStrong:function(t,e,i){l(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?"keys"==t?c(0,e.k):"values"==t?c(0,e.v):c(0,[e.k,e.v]):(this._t=void 0,c(1))},i?"entries":"values",!i,!0),f(e)}}},function(t,e,i){"use strict";var n=i(118);t.exports=i(65)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,r=i(24)(0),s=i(13),o=i(32),a=i(104),u=i(121),h=i(5),l=o.getWeak,c=Object.isExtensible,f=u.ufstore,p={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(h(t)){var e=l(t);return!0===e?f(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(this,t,e)}},y=t.exports=i(65)("WeakMap",d,g,u,!0,!0);7!=(new y).set((Object.freeze||Object)(p),7).get(p)&&(a((n=u.getConstructor(d)).prototype,g),o.NEED=!0,r(["delete","has","get","set"],function(t){var e=y.prototype,i=e[t];s(e,t,function(e,r){if(h(e)&&!c(e)){this._f||(this._f=new n);var s=this._f[t](e,r);return"set"==t?this:s}return i.call(this,e,r)})}))},function(t,e,i){"use strict";var n=i(42),r=i(32).getWeak,s=i(1),o=i(5),a=i(41),u=i(49),h=i(24),l=i(11),c=h(5),f=h(6),p=0,d=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},y=function(t,e){return c(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var i=y(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,s){var h=t(function(t,n){a(t,h,e,"_i"),t._i=p++,t._l=void 0,void 0!=n&&u(n,i,t[s],t)});return n(h.prototype,{delete:function(t){if(!o(t))return!1;var e=r(t);return!0===e?d(this).delete(t):e&&l(e,this._i)&&delete e[this._i]},has:function(t){if(!o(t))return!1;var e=r(t);return!0===e?d(this).has(t):e&&l(e,this._i)}}),h},def:function(t,e,i){var n=r(s(e),!0);return!0===n?d(t).set(e,i):n[t._i]=i,t},ufstore:d}},function(t,e,i){var n=i(39),r=i(59),s=i(1),o=i(2).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(s(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(9),r=i(79),s=i(20);t.exports=function(t,e,i,o){var a=String(s(t)),u=a.length,h=void 0===i?" ":String(i),l=n(e);if(l<=u||""==h)return a;var c=l-u,f=r.call(h,Math.ceil(c/h.length));return f.length>c&&(f=f.slice(0,c)),o?f+a:a+f}},function(t,e,i){var n=i(36),r=i(15),s=i(52).f;t.exports=function(t){return function(e){for(var i,o=r(e),a=n(o),u=a.length,h=0,l=[];u>h;)s.call(o,i=a[h++])&&l.push(t?[i,o[i]]:o[i]);return l}}},function(t,e,i){var n=i(53),r=i(126);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(49);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){var n,r,s;!function(i,o){r=[t,e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(e.dataY),this.setXData(e.dataX),this.setWeight(e.weight),this.setInitialParams(e.params),e.subsetIndex&&this.setSubset.apply(this,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e.subsetIndex)),this.setFunction(e.function),e.progress&&this.hookIteration(e.progress),this.options=e}return n(t,[{key:"setYData",value:function(t){this.data=t}},{key:"setXData",value:function(t){this.dataX=t}},{key:"setWeight",value:function(t){this.weight=t}},{key:"setInitialParams",value:function(t){var e=this;this.parms=t,this.parms=this.parms.map(function(t){return"function"==typeof t?t(e.data,e.dataX):t}),this.NPARMS=t.length}},{key:"setSubset",value:function(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}},{key:"hookIteration",value:function(t){var e=this;this._hookIteration=function(i){var n=e.buildFit(i,200);t(n)}}},{key:"setFunction",value:function(t){this._func=t}},{key:"init",value:function(){var t=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(e){return new Array(t.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {"+this.parms.join()+"};"),new s(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {"+this.parms.join()+"};"),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(t,e){return this._func(t,e)}},{key:"computeResiduals",value:function(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}},{key:"log",value:function(t){this.options.log&&console.log(t)}},{key:"nudge",value:function(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(n=0;n<this.NPTS;n++)this.jac[n][i]=this.getResidualElement(n);for(r=0;r<this.NPARMS;r++)t[r]=r==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(n=0;n<this.NPTS;n++)this.jac[n][i]-=this.getResidualElement(n);for(var n=0;n<this.NPTS;n++)this.jac[n][i]*=e;for(var r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(t){return this.resid[t]}},{key:"getJacobianElement",value:function(t,e){return this.jac[t][e]}},{key:"buildFit",value:function(t,e){var i=void 0;if(e){var n=this.dataX.getMin(this._from,this._to),r=this.dataX.getMax(this._from,this._to);i=new Array(e).fill(0).map(function(t,i){return i*(r-n)/(e-1)+n})}else i=this.arrX;for(var s=new Array(i.length),o=0,a=i.length;o<a;o++)s[o]=this.func(i[o],this.parms);var u=this.options.waveform;return u.setData(s,i),u}}]),t}(),s=function(){function t(e,n,r,s){var o=this;i(this,t),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=e,this.nadj=n,this.npts=r,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(o.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(o.nadj)}),this.lambda=this.LAMBDAZERO;var a=0,u=!1;do{u=this.bLMiter(),s&&s(this.myH.params),a++}while(!u&&a<this.LMITER)}return n(t,[{key:"bLMiter",value:function(){for(i=0;i<this.nadj;i++)this.delta[i]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= "+this.sos),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(i=0;i<this.nadj;i++){this.beta[i]=0;for(t=0;t<this.npts;t++)this.beta[i]-=this.myH.getResidualElement(t)*this.myH.getJacobianElement(t,i)}for(i=0;i<this.nadj;i++)for(n=0;n<this.nadj;n++){this.alpha[n][i]=0;for(var t=0;t<this.npts;t++)this.alpha[n][i]+=this.myH.getJacobianElement(t,n)*this.myH.getJacobianElement(t,i)}var e=0;do{for(i=0;i<this.nadj;i++)for(n=0;n<this.nadj;n++)this.amatrix[n][i]=this.alpha[n][i]+(n==i?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(var i=0;i<this.nadj;i++){this.delta[i]=0;for(var n=0;n<this.nadj;n++)this.delta[i]+=this.amatrix[n][i]*this.beta[n]}if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((e=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var r=0;r<this.nadj;r++)this.delta[r]*=-1;if(this.myH.nudge(this.delta),e<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return e>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(t,e){var i,n,r,s,o,a,u=1,h=new Array(100),l=new Array(100);for(o=0;o<e;o++){for(i=0,r=o;r<e;r++)for(s=o;s<e;s++)Math.abs(i)<=Math.abs(t[r][s])&&(i=t[r][s],h[o]=r,l[o]=s);if(0==i)return 0;if((r=h[o])>o)for(s=0;s<e;s++)n=t[o][s],t[o][s]=t[r][s],t[r][s]=-n;if((s=l[o])>o)for(r=0;r<e;r++)n=t[r][o],t[r][o]=t[r][s],t[r][s]=-n;for(r=0;r<e;r++)r!=o&&(t[r][o]=-t[r][o]/i);for(r=0;r<e;r++)for(s=0;s<e;s++)r!=o&&s!=o&&(t[r][s]+=t[r][o]*t[o][s]);for(s=0;s<e;s++)s!=o&&(t[o][s]/=i);t[o][o]=1/i,u*=i}for(a=0;a<e;a++){if(o=e-a-1,(s=h[o])>o)for(r=0;r<e;r++)n=t[r][o],t[r][o]=-t[r][s],t[r][s]=n;if((r=l[o])>o)for(s=0;s<e;s++)n=t[o][s],t[o][s]=-t[r][s],t[r][s]=n}return u}}]),t}();e.default=r,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(68)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return r.leftright=i,r.left="left"==i,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"setAxisPosition",value:function(t){this.shiftPosition=t}},{key:"getAxisPosition",value:function(t){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t,t}},{key:"equalizePosition",value:function(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}},{key:"drawTick",value:function(t,e,i,n){var r,s=this;this.groupTicks;if(void 0!=(r=n||this.getPos(t))&&!isNaN(r)){var o=this.nextTick(e,function(t){t.setAttribute("x1",(s.left?1:-1)*s.tickPx1*s.tickScaling[e]),t.setAttribute("x2",(s.left?1:-1)*s.tickPx2*s.tickScaling[e]),1==e?t.setAttribute("stroke",s.getPrimaryTicksColor()):t.setAttribute("stroke",s.getSecondaryTicksColor())});if(o.setAttribute("y1",r),o.setAttribute("y2",r),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),r,r),1==e){var a;(a=this.nextTickLabel(function(t){t.setAttribute("x",s.tickMargin+s.options.tickLabelOffset),"black"!==s.getTicksLabelColor()&&t.setAttribute("fill",s.getTicksLabelColor()),s.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})).setAttribute("y",r),this.setTickContent(a,t,i),String(a.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=a,this.longestTick[1]=String(a.textContent).length)}}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(t){this.label.setAttribute("transform","translate("+t+", "+Math.abs(this.getMaxPx()+this.getMinPx())/2+") rotate(-90)")}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#verticalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#verticalsplit_"+this.graph.getId()+")":"")}},{key:"setShift",value:function(t){if(this.shift=t,this.shift&&this.graph.getWidth()){var e=this.shift;e=this.floating?e:this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform","translate( "+e+" 0 )"),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e,i){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}},{key:"scaleToFitAxis",value:function(t,e,i,n,r,s){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(n)&&(n=t.getCurrentMax()),void 0===r&&(r=!0),void 0===s&&(s=!0),"number"==typeof e&&(n=i,i=e,e=!1);for(var o=-1/0,a=1/0,u=0,h=0,l=this.graph.series.length;h<l;h++)this.graph.series[h].isShown()&&this.graph.series[h]!=e&&this.graph.series[h].getXAxis()==t&&this.graph.series[h].getYAxis()===this&&(u++,o=s?Math.max(o,this.graph.series[h].getMax(i,n)):0,a=r?Math.min(a,this.graph.series[h].getMin(i,n)):0);if(0==u)this.setMinMaxToFitSeries();else{a=r?a:this.getCurrentMin();var c=(o=s?o:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,o+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,o)}return this}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftY}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(i,o){r=[t,e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e){"use strict";function i(t,e,i){var n=void 0,r=void 0,s=void 0,o=void 0,a=void 0,u=t.getWaveforms(),h=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;for(n=0,r=d.getLength(),s=d.getData();n<r;n+=1)o=e?t.getXAxis().getVal(t.getX(d.getX(n,!0))):t.getYAxis().getVal(t.getY(s[n])),a=0==n?o:i?Math.min(a,o):Math.max(a,o)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}return a}Object.defineProperty(e,"__esModule",{value:!0});var n={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?i(this,!0,!0):this.minX},getMaxX:function(t){return t?i(this,!0,!1):this.maxX},getMinY:function(t){return t?i(this,!1,!0):this.minY},getMaxY:function(t){return t?i(this,!1,!1):this.maxY}};e.default=n,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(56),i(4),i(69)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),u=s(r),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c="scatter",f=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.id=Math.random()+Date.now(),r.shapes=[],r.shown=!0,r.data=[],r.shapesDetails=[],r.shapes=[],r._type=c,a.mapEventEmission(r.options,r),r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupPoints=document.createElementNS(r.graph.ns,"g"),r.groupMain=document.createElementNS(r.graph.ns,"g"),r.additionalData={},r.selectedStyleGeneral={},r.selectedStyleModifiers={},r.groupPoints.addEventListener("mouseover",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));r.emit("mouseover",e,r.waveform.getX(e),r.waveform.getY(e))}),r.groupPoints.addEventListener("mouseout",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));r.emit("mouseout",e,r.waveform.getX(e),r.waveform.getY(e))}),r.minX=Number.MAX_VALUE,r.minY=Number.MAX_VALUE,r.maxX=Number.MIN_VALUE,r.maxY=Number.MIN_VALUE,r.groupMain.appendChild(r.groupPoints),r.currentAction=!1,r.initExtended1&&r.initExtended1(),r.styles={},r.styles.unselected={},r.styles.selected={},r.styles.unselected.default={shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"},r.styles.selected.default={shape:"circle",cx:0,cy:0,r:4,stroke:"transparent",fill:"black"},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),l(e,[{key:"setDataCategory",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=t[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;this._checkY(o.y.getMaxY()),this._checkY(o.y.getMinY())}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupPoints.firstChild;)this.groupPoints.removeChild(this.groupPoints.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.symbol)return this.symbol;var t=document.createElementNS(this.graph.ns,"g");t.setAttribute("data-shapeid",-1);var e=this.doShape(t,this.styles.unselected.default),i=this.getStyle("unselected",-1,!0);for(var n in i[-1])"shape"!=n&&e.setAttribute(n,i[-1][n]);return t}},{key:"setStyle",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof e&&(i=e,e=!1),this.styles[i]=this.styles[i]||{},this.styles[i].all=t,this.styles[i].modifiers=e,this.styleHasChanged(i),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()||this.hasStyleChanged("unselected")){var e,i,n=0,r="category"==this.getXAxis().getType();this._drawn=!0,this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupPoints);var s=[];if(n=0,0,this.hasErrors()&&this.errorDrawInit(),r){for(var o=0;n<this.data.length;n++)if(this.categoryIndices.hasOwnProperty(this.data[n].x)){this.error;for(var a=0,u=this.data[n].y.getLength();a<u;a++)i=this.getY(this.data[n].y.getY(a)),e=this.getX(a/(u-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[n].x]+.1/this.nbCategories),a++,this.shapesDetails[o]=this.shapesDetails[o]||[],this.shapesDetails[o][0]=e,this.shapesDetails[o][1]=i,s.push(o),o++}}else for(;n<this.waveform.getLength();n++)this.waveform.getX(n)<this.getXAxis().getCurrentMin()||this.waveform.getX(n)>this.getXAxis().getCurrentMax()||this.waveform.getY(n)<this.getYAxis().getCurrentMin()||this.waveform.getY(n)>this.getYAxis().getCurrentMax()?this.shapes[n]&&this.shapes[n].setAttribute("display","none"):(this.shapes[n]&&this.shapes[n].setAttribute("display","initial"),e=this.getX(this.waveform.getX(n)),i=this.getY(this.waveform.getY(n)),this.hasErrors()&&this.errorAddPoint(n,this.waveform.getX(n),this.waveform.getY(n),e,i),this.shapesDetails[n]=this.shapesDetails[n]||[],this.shapesDetails[n][0]=e,this.shapesDetails[n][1]=i,s.push(n));this.hasErrors()&&this.errorDraw(),this.applyStyle("unselected",s),this.groupMain.appendChild(this.groupPoints)}}},{key:"_addPoint",value:function(t,e,i){var n=document.createElementNS(this.graph.ns,"g");n.setAttribute("transform","translate("+t+", "+e+")"),n.setAttribute("data-shapeid",i),this.extraStyle&&this.extraStyle[i]?shape=this.doShape(n,this.extraStyle[i]):this.stdStylePerso?shape=this.doShape(n,this.stdStylePerso):shape=this.doShape(n,this.stdStyle),this.shapes[i]=shape,this.groupPoints.appendChild(n)}},{key:"doShape",value:function(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}},{key:"getStyle",value:function(t,e,i){var n,t=t||"unselected",r={};"number"==typeof e?n=[e]:Array.isArray(e)&&(n=e);var s,o,a,u;void 0!==this.styles[t].all&&("function"==typeof(u=this.styles[t].all)?u=u():!1===u&&(u={}));for(var h=0,l=n.length;h<l;h++){if(e=n[h],s=this.shapes[e],(o=this.styles[t].modifiers)&&("function"==typeof o||o[e])?("function"==typeof o?a=o(e,s):o[e]&&(a=o[e]),r[e]=Object.assign({},u,a)):r[e]=void 0!==u?u:this.styles[t].default,r[e]||(r[e]=u),!s){if(!r[e].shape)throw console.error(a),"No shape was defined with this style.";var c=document.createElementNS(this.graph.ns,"g");c.setAttribute("data-shapeid",e),this.shapes[e]=this.doShape(c,r[e]),this.groupPoints.appendChild(c),s=this.shapes[e]}i||s.parentNode.setAttribute("transform","translate("+this.shapesDetails[e][0]+", "+this.shapesDetails[e][1]+")")}return r}},{key:"applyStyle",value:function(t,e,i){var n,r,s=this.getStyle(t,e,i);for(n in s)for(r in s[n])"shape"!==r&&(s[n][r]?this.shapes[n].setAttribute(r,s[n][r]):this.shapes[n].removeAttribute(r))}},{key:"unselectPoint",value:function(t){this.selectPoint(t,!1)}},{key:"selectPoint",value:function(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectPoints(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyStyle(i,t,!0);else{var n=this.shapesDetails[t][2];this.shapesDetails[t][2]=!1;var r=this.getStyle(n,t,!0);for(var s in r[t])this.shapes[t].removeAttribute(s);this.applyStyle("unselected",t,!0)}}}},{key:"getUsedCategories",value:function(){return"object"==h(this.data[0])?this.data.map(function(t){return t.x}):[]}}]),e}();a.mix(f,u.default),e.default=f,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(56),i(44),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=s(n),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.selectionType="unselected",s.id=(0,r.guid)(),s.groupZones=document.createElementNS(s.graph.ns,"g"),s.groupMain=document.createElementNS(s.graph.ns,"g"),s.lineZone=document.createElementNS(s.graph.ns,"path"),s.lineZone.setAttribute("stroke","black"),s.lineZone.setAttribute("stroke-width","1px"),s.groupMain.appendChild(s.groupZones),s.groupZones.appendChild(s.lineZone),s.applyLineStyle(s.lineZone),s.styleHasChanged(),s.clip=document.createElementNS(s.graph.ns,"clipPath"),s.clipId=(0,r.guid)(),s.clip.setAttribute("id",s.clipId),s.graph.defs.appendChild(s.clip),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),u(e,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),u(e,[{key:"setWaveform",value:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.waveforms=i,this.waveforms=this.waveforms.map(function(t){return t instanceof a.default?t:new a.default(t)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(e){t.minX=Math.min(e.getXMin(),t.minX),t.maxX=Math.max(e.getXMin(),t.maxX),t.minY=Math.min(e.getMin(),t.minY),t.maxY=Math.max(e.getMax(),t.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(t,e){return this.waveforms=[t,e.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;var e=0,i=0,n=0,r=0,s=0,o="",a=void 0,u=!1,h=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),l=this.getXAxis().getCurrentMax(),c=this.getYAxis().getCurrentMin(),f=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var p=!0,d=!1,g=void 0;try{for(var y,v=this.waveforms[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;for(s=0;s<m.getLength();s+=1)if(e=m.getX(s,!0),(i=m.getY(s,!0))[s]<c?r=this.getY(c):i[s]>f&&(r=this.getY(f)),e==e)if(i==i)r=this.getY(i),n=this.getX(e),e<h||e>l?a=[e,i[s],n,r]:(u&&(o+=" M "+n+", "+this.getY(m.getMinY())+" ",u=!1),o.length>0&&(o+=" L "),a?(o+=a[2]+","+a[3]+" ",a=!1):o+=n+","+r+" ");else{if(0==o.length)continue;o+="L "+n+", "+this.getY(m.getMinY()),u=!0}}}catch(t){d=!0,g=t}finally{try{!p&&v.return&&v.return()}finally{if(d)throw g}}""!==o?this.lineZone.setAttribute("d","M "+o+" z"):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(t){return this.options.lineWidth=t,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(t){return this.options.lineColor=t,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(t){return this.options.fillColor=t,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),e}();e.default=h,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),a(e,[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=(void 0===t?"undefined":o(t))&&(t={}),t.type||(t.type="corners"),t.type){case"sides":s.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});n=0;for(var i in t.sides)t.sides[i]&&n++;this._createHandles(n,"g").map(function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)});var n=1;for(var i in t.sides)t.sides[i]&&(this.handles[i]=this["handle"+n],this.sides[n]=i,n++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createHandles",this).call(this),this}}},{key:"applyPosition",value:function(){var t,e,i,n,r=this.computePosition(0),s=this.computePosition(1);return r.x<s.x?(t=r.x,i=s.x-r.x):(t=s.x,i=r.x-s.x),r.y<s.y?(e=r.y,n=s.y-r.y):(e=s.y,n=r.y-s.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=n,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",n),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){var s=this.getProp("handles");if(this.moving||this.handleSelected){var o=this.getPosition(0),a=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),o.x,o.y,a.x,a.y;if(this.moving)o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(s.type){case"seamlessX":switch(this.handleSelected){case 1:o.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":o.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":o.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(o.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform","translate(-10) translate("+t.x+")"),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform","translate(-10)  translate("+e.x+")"),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate("+this.currentX+" "+(this.currentY+this.currentH/2)+")"),this.handles.right&&this.handles.right.setAttribute("transform","translate( "+(this.currentX+this.currentW)+" "+(this.currentY+this.currentH/2)+")"),this.handles.top&&this.handles.top.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+this.currentY+")"),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+(this.currentY+this.currentH)+")");break;case"corners":default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}]),e}();e.default=u,t.exports=e.default})},function(t,e,i){i(134),t.exports=i(318)},function(t,e,i){"use strict";(function(t){function e(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}if(i(135),i(313),i(315),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,i(98))},function(t,e,i){i(136),i(139),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147),i(148),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161),i(162),i(163),i(164),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(227),i(228),i(229),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(91),i(240),i(241),i(116),i(242),i(243),i(244),i(245),i(246),i(117),i(119),i(120),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(311),i(312),t.exports=i(27)},function(t,e,i){"use strict";var n=i(2),r=i(11),s=i(7),o=i(0),a=i(13),u=i(32).KEY,h=i(3),l=i(57),c=i(45),f=i(34),p=i(6),d=i(100),g=i(71),y=i(137),v=i(138),m=i(74),x=i(1),b=i(15),k=i(22),A=i(31),M=i(38),w=i(103),S=i(17),_=i(8),P=i(36),C=S.f,O=_.f,L=w.f,E=n.Symbol,T=n.JSON,X=T&&T.stringify,D="prototype",j=p("_hidden"),I=p("toPrimitive"),N={}.propertyIsEnumerable,Y=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),R=Object[D],H="function"==typeof E,W=n.QObject,z=!W||!W[D]||!W[D].findChild,V=s&&h(function(){return 7!=M(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=C(R,e);n&&delete R[e],O(t,e,i),n&&t!==R&&O(R,e,n)}:O,U=function(t){var e=F[t]=M(E[D]);return e._k=t,e},G=H&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Z=function(t,e,i){return t===R&&Z(B,e,i),x(t),e=k(e,!0),x(i),r(F,e)?(i.enumerable?(r(t,j)&&t[j][e]&&(t[j][e]=!1),i=M(i,{enumerable:A(0,!1)})):(r(t,j)||O(t,j,A(1,{})),t[j][e]=!0),V(t,e,i)):O(t,e,i)},q=function(t,e){x(t);for(var i,n=v(e=b(e)),r=0,s=n.length;s>r;)Z(t,i=n[r++],e[i]);return t},K=function(t){var e=N.call(this,t=k(t,!0));return!(this===R&&r(F,t)&&!r(B,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,j)&&this[j][t])||e)},J=function(t,e){if(t=b(t),e=k(e,!0),t!==R||!r(F,e)||r(B,e)){var i=C(t,e);return!i||!r(F,e)||r(t,j)&&t[j][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=L(b(t)),n=[],s=0;i.length>s;)r(F,e=i[s++])||e==j||e==u||n.push(e);return n},$=function(t){for(var e,i=t===R,n=L(i?B:b(t)),s=[],o=0;n.length>o;)!r(F,e=n[o++])||i&&!r(R,e)||s.push(F[e]);return s};H||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===R&&e.call(B,i),r(this,j)&&r(this[j],t)&&(this[j][t]=!1),V(this,t,A(1,i))};return s&&z&&V(R,t,{configurable:!0,set:e}),U(t)})[D],"toString",function(){return this._k}),S.f=J,_.f=Z,i(39).f=w.f=Q,i(52).f=K,i(59).f=$,s&&!i(35)&&a(R,"propertyIsEnumerable",K,!0),d.f=function(t){return U(p(t))}),o(o.G+o.W+o.F*!H,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var tt=P(p.store),et=0;tt.length>et;)g(tt[et++]);o(o.S+o.F*!H,"Symbol",{for:function(t){return r(Y,t+="")?Y[t]:Y[t]=E(t)},keyFor:function(t){if(G(t))return y(Y,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!H,"Object",{create:function(t,e){return void 0===e?M(t):q(M(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),T&&o(o.S+o.F*(!H||h(function(){var t=E();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!G(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(e=n[1])&&(i=e),!i&&m(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!G(e))return e}),n[1]=e,X.apply(T,n)}}}),E[D][I]||i(12)(E[D],I,E[D].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,i){var n=i(36),r=i(15);t.exports=function(t,e){for(var i,s=r(t),o=n(s),a=o.length,u=0;a>u;)if(s[i=o[u++]]===e)return i}},function(t,e,i){var n=i(36),r=i(59),s=i(52);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var o,a=i(t),u=s.f,h=0;a.length>h;)u.call(t,o=a[h++])&&e.push(o);return e}},function(t,e,i){var n=i(0);n(n.S,"Object",{create:i(38)})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(7),"Object",{defineProperty:i(8).f})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(7),"Object",{defineProperties:i(102)})},function(t,e,i){var n=i(15),r=i(17).f;i(23)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){var n=i(10),r=i(18);i(23)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(10),r=i(36);i(23)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){i(23)("getOwnPropertyNames",function(){return i(103).f})},function(t,e,i){var n=i(5),r=i(32).onFreeze;i(23)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(5),r=i(32).onFreeze;i(23)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(5),r=i(32).onFreeze;i(23)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(5);i(23)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(5);i(23)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(5);i(23)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(104)})},function(t,e,i){var n=i(0);n(n.S,"Object",{is:i(105)})},function(t,e,i){var n=i(0);n(n.S,"Object",{setPrototypeOf:i(76).set})},function(t,e,i){"use strict";var n=i(53),r={};r[i(6)("toStringTag")]="z",r+""!="[object z]"&&i(13)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(0);n(n.P,"Function",{bind:i(106)})},function(t,e,i){var n=i(8).f,r=i(31),s=i(11),o=Function.prototype,a=/^\s*function ([^ (]*)/,u=Object.isExtensible||function(){return!0};"name"in o||i(7)&&n(o,"name",{configurable:!0,get:function(){try{var t=(""+this).match(a)[1];return s(this,"name")||!u(this)||n(this,"name",r(5,t)),t}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(5),r=i(18),s=i(6)("hasInstance"),o=Function.prototype;s in o||i(8).f(o,s,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(0),r=i(107);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(0),r=i(108);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(2),r=i(11),s=i(19),o=i(78),a=i(22),u=i(3),h=i(39).f,l=i(17).f,c=i(8).f,f=i(46).trim,p=n.Number,d=p,g=p.prototype,y="Number"==s(i(38)(g)),v="trim"in String.prototype,m=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var i,n,r,s=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var o,u=e.slice(2),h=0,l=u.length;h<l;h++)if((o=u.charCodeAt(h))<48||o>r)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(y?u(function(){g.valueOf.call(i)}):"Number"!=s(i))?o(new d(m(e)),i,p):m(e)};for(var x,b=i(7)?h(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;b.length>k;k++)r(d,x=b[k])&&!r(p,x)&&c(p,x,l(d,x));p.prototype=g,g.constructor=p,i(13)(n,"Number",p)}},function(t,e,i){"use strict";var n=i(0),r=i(33),s=i(109),o=i(79),a=1..toFixed,u=Math.floor,h=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",c=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*h[i],h[i]=n%1e7,n=u(n/1e7)},f=function(t){for(var e=6,i=0;--e>=0;)i+=h[e],h[e]=u(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e},d=function(t,e,i){return 0===e?i:e%2==1?d(t,e-1,i*t):d(t*t,e/2,i)};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(3)(function(){a.call({})})),"Number",{toFixed:function(t){var e,i,n,a,u=s(this,l),h=r(t),g="",y="0";if(h<0||h>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(u*d(2,69,1))-69,i=e<0?u*d(2,-e,1):u/d(2,e,1),i*=4503599627370496,(e=52-e)>0){for(c(0,i),n=h;n>=7;)c(1e7,0),n-=7;for(c(d(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),c(1,1),f(2),y=p()}else c(0,i),c(1<<-e,0),y=p()+o.call("0",h);return y=h>0?g+((a=y.length)<=h?"0."+o.call("0",h-a)+y:y.slice(0,a-h)+"."+y.slice(a-h)):g+y}})},function(t,e,i){"use strict";var n=i(0),r=i(3),s=i(109),o=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(t){var e=s(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(0),r=i(2).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isInteger:i(110)})},function(t,e,i){var n=i(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(0),r=i(110),s=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&s(t)<=9007199254740991}})},function(t,e,i){var n=i(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(0),r=i(108);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(0),r=i(107);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(0),r=i(111),s=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+s(t-1)*s(t+1))}})},function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=i(0),s=Math.asinh;r(r.S+r.F*!(s&&1/s(0)>0),"Math",{asinh:n})},function(t,e,i){var n=i(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(0),r=i(80);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(0),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(0),r=i(81);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(0),r=i(80),s=Math.pow,o=s(2,-52),a=s(2,-23),u=s(2,127)*(2-a),h=s(2,-126);n(n.S,"Math",{fround:function(t){var e,i,n=Math.abs(t),s=r(t);return n<h?s*function(t){return t+1/o-1/o}(n/h/a)*h*a:(e=(1+a/o)*n,(i=e-(e-n))>u||i!=i?s*(1/0):s*i)}})},function(t,e,i){var n=i(0),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,s=0,o=0,a=arguments.length,u=0;o<a;)u<(i=r(arguments[o++]))?(s=s*(n=u/i)*n+1,u=i):s+=i>0?(n=i/u)*n:i;return u===1/0?1/0:u*Math.sqrt(s)}})},function(t,e,i){var n=i(0),r=Math.imul;n(n.S+n.F*i(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n;return 0|r*s+((65535&i>>>16)*s+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log1p:i(111)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{sign:i(80)})},function(t,e,i){var n=i(0),r=i(81),s=Math.exp;n(n.S+n.F*i(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(0),r=i(81),s=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(s(t)+s(-t))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(0),r=i(37),s=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(0),r=i(15),s=i(9);n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=s(e.length),n=arguments.length,o=[],a=0;i>a;)o.push(String(e[a++])),a<n&&o.push(String(arguments[a]));return o.join("")}})},function(t,e,i){"use strict";i(46)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(82)(!0);i(83)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(0),r=i(82)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(9),s=i(85),o="".endsWith;n(n.P+n.F*i(86)("endsWith"),"String",{endsWith:function(t){var e=s(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),a=void 0===i?n:Math.min(r(i),n),u=String(t);return o?o.call(e,u,a):e.slice(a-u.length,a)===u}})},function(t,e,i){"use strict";var n=i(0),r=i(85);n(n.P+n.F*i(86)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(0);n(n.P,"String",{repeat:i(79)})},function(t,e,i){"use strict";var n=i(0),r=i(9),s=i(85),o="startsWith",a=""[o];n(n.P+n.F*i(86)(o),"String",{startsWith:function(t){var e=s(this,t,o),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(16)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(16)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(16)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(16)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var n=i(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(22);n(n.P+n.F*i(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=s(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){"use strict";var n=i(0),r=i(3),s=Date.prototype.getTime,o=function(t){return t>9?t:"0"+t};n(n.P+n.F*(r(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!r(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"."+(e>99?e:"0"+o(e))+"Z"}})},function(t,e,i){var n=Date.prototype,r=n.toString,s=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(13)(n,"toString",function(){var t=s.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,i){var n=i(6)("toPrimitive"),r=Date.prototype;n in r||i(12)(r,n,i(217))},function(t,e,i){"use strict";var n=i(1),r=i(22);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(0);n(n.S,"Array",{isArray:i(74)})},function(t,e,i){"use strict";var n=i(28),r=i(0),s=i(10),o=i(112),a=i(87),u=i(9),h=i(88),l=i(89);r(r.S+r.F*!i(62)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,c,f=s(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,v=0,m=l(f);if(y&&(g=n(g,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&a(m))for(i=new p(e=u(f.length));e>v;v++)h(i,v,y?g(f[v],v):f[v]);else for(c=m.call(f),i=new p;!(r=c.next()).done;v++)h(i,v,y?o(c,g,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(0),r=i(88);n(n.S+n.F*i(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(0),r=i(15),s=[].join;n(n.P+n.F*(i(51)!=Object||!i(21)(s)),"Array",{join:function(t){return s.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(0),r=i(75),s=i(19),o=i(37),a=i(9),u=[].slice;n(n.P+n.F*i(3)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var i=a(this.length),n=s(this);if(e=void 0===e?i:e,"Array"==n)return u.call(this,t,e);for(var r=o(t,i),h=o(e,i),l=a(h-r),c=Array(l),f=0;f<l;f++)c[f]="String"==n?this.charAt(r+f):this[r+f];return c}})},function(t,e,i){"use strict";var n=i(0),r=i(14),s=i(10),o=i(3),a=[].sort,u=[1,2,3];n(n.P+n.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!i(21)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),r(t))}})},function(t,e,i){"use strict";var n=i(0),r=i(24)(0),s=i(21)([].forEach,!0);n(n.P+n.F*!s,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(226);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(5),r=i(74),s=i(6)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(0),r=i(24)(1);n(n.P+n.F*!i(21)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(24)(2);n(n.P+n.F*!i(21)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(24)(3);n(n.P+n.F*!i(21)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(24)(4);n(n.P+n.F*!i(21)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(113);n(n.P+n.F*!i(21)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(113);n(n.P+n.F*!i(21)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(58)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(21)(s)),"Array",{indexOf:function(t){return o?s.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(15),s=i(33),o=i(9),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(21)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=r(this),i=o(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,s(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(0);n(n.P,"Array",{copyWithin:i(114)}),i(48)("copyWithin")},function(t,e,i){var n=i(0);n(n.P,"Array",{fill:i(90)}),i(48)("fill")},function(t,e,i){"use strict";var n=i(0),r=i(24)(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(48)("find")},function(t,e,i){"use strict";var n=i(0),r=i(24)(6),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(48)("findIndex")},function(t,e,i){i(40)("Array")},function(t,e,i){var n=i(2),r=i(78),s=i(8).f,o=i(39).f,a=i(61),u=i(63),h=n.RegExp,l=h,c=h.prototype,f=/a/g,p=/a/g,d=new h(f)!==f;if(i(7)&&(!d||i(3)(function(){return p[i(6)("match")]=!1,h(f)!=f||h(p)==p||"/a/i"!=h(f,"i")}))){h=function(t,e){var i=this instanceof h,n=a(t),s=void 0===e;return!i&&n&&t.constructor===h&&s?t:r(d?new l(n&&!s?t.source:t,e):l((n=t instanceof h)?t.source:t,n&&s?u.call(t):e),i?this:c,h)};for(var g=function(t){t in h||s(h,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},y=o(l),v=0;y.length>v;)g(y[v++]);c.constructor=h,h.prototype=c,i(13)(n,"RegExp",h)}i(40)("RegExp")},function(t,e,i){"use strict";i(116);var n=i(1),r=i(63),s=i(7),o=/./.toString,a=function(t){i(13)(RegExp.prototype,"toString",t,!0)};i(3)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},function(t,e,i){i(64)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(64)("replace",2,function(t,e,i){return[function(n,r){"use strict";var s=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,s,r):i.call(String(s),n,r)},i]})},function(t,e,i){i(64)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(64)("split",2,function(t,e,n){"use strict";var r=i(61),s=n,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return s.call(i,t,e);var n,u,h,l,c,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,p+"g");for(a||(n=new RegExp("^"+y.source+"$(?!\\s)",p));(u=y.exec(i))&&!((h=u.index+u[0].length)>d&&(f.push(i.slice(d,u.index)),!a&&u.length>1&&u[0].replace(n,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(u[c]=void 0)}),u.length>1&&u.index<i.length&&o.apply(f,u.slice(1)),l=u[0].length,d=h,f.length>=g));)y.lastIndex===u.index&&y.lastIndex++;return d===i.length?!l&&y.test("")||f.push(""):f.push(i.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function(i,r){var s=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,s,r):n.call(String(s),i,r)},n]})},function(t,e,i){"use strict";var n,r,s,o=i(35),a=i(2),u=i(28),h=i(53),l=i(0),c=i(5),f=i(14),p=i(41),d=i(49),g=i(92),y=i(93).set,v=i(94)(),m="Promise",x=a.TypeError,b=a.process,k=a[m],A="process"==h(b=a.process),M=function(){},w=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[i(6)("species")]=function(t){t(M,M)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e}catch(t){}}(),S=function(t,e){return t===e||t===k&&e===s},_=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},P=function(t){return S(k,t)?new C(t):new r(t)},C=r=function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw x("Bad Promise constructor");e=t,i=n}),this.resolve=f(e),this.reject=f(i)},O=function(t){try{t()}catch(t){return{error:t}}},L=function(t,e){if(!t._n){t._n=!0;var i=t._c;v(function(){for(var n=t._v,r=1==t._s,s=0,o=function(e){var i,s,o=r?e.ok:e.fail,a=e.resolve,u=e.reject,h=e.domain;try{o?(r||(2==t._h&&X(t),t._h=1),!0===o?i=n:(h&&h.enter(),i=o(n),h&&h.exit()),i===e.promise?u(x("Promise-chain cycle")):(s=_(i))?s.call(i,a,u):a(i)):u(n)}catch(t){u(t)}};i.length>s;)o(i[s++]);t._c=[],t._n=!1,e&&!t._h&&E(t)})}},E=function(t){y.call(a,function(){var e,i,n,r=t._v;if(T(t)&&(e=O(function(){A?b.emit("unhandledRejection",r,t):(i=a.onunhandledrejection)?i({promise:t,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=A||T(t)?2:1),t._a=void 0,e)throw e.error})},T=function(t){if(1==t._h)return!1;for(var e,i=t._a||t._c,n=0;i.length>n;)if((e=i[n++]).fail||!T(e.promise))return!1;return!0},X=function(t){y.call(a,function(){var e;A?b.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},j=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw x("Promise can't be resolved itself");(e=_(t))?v(function(){var n={_w:i,_d:!1};try{e.call(t,u(j,n,1),u(D,n,1))}catch(t){D.call(n,t)}}):(i._v=t,i._s=1,L(i,!1))}catch(t){D.call({_w:i,_d:!1},t)}}};w||(k=function(t){p(this,k,m,"_h"),f(t),n.call(this);try{t(u(j,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(42)(k.prototype,{then:function(t,e){var i=P(g(this,k));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=A?b.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&L(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),C=function(){var t=new n;this.promise=t,this.resolve=u(j,t,1),this.reject=u(D,t,1)}),l(l.G+l.W+l.F*!w,{Promise:k}),i(45)(k,m),i(40)(m),s=i(27)[m],l(l.S+l.F*!w,m,{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(o||!w),m,{resolve:function(t){if(t instanceof k&&S(t.constructor,this))return t;var e=P(this);return(0,e.resolve)(t),e.promise}}),l(l.S+l.F*!(w&&i(62)(function(t){k.all(t).catch(M)})),m,{all:function(t){var e=this,i=P(e),n=i.resolve,r=i.reject,s=O(function(){var i=[],s=0,o=1;d(t,!1,function(t){var a=s++,u=!1;i.push(void 0),o++,e.resolve(t).then(function(t){u||(u=!0,i[a]=t,--o||n(i))},r)}),--o||n(i)});return s&&r(s.error),i.promise},race:function(t){var e=this,i=P(e),n=i.reject,r=O(function(){d(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r&&n(r.error),i.promise}})},function(t,e,i){"use strict";var n=i(121);i(65)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(0),r=i(66),s=i(95),o=i(1),a=i(37),u=i(9),h=i(5),l=i(2).ArrayBuffer,c=i(92),f=s.ArrayBuffer,p=s.DataView,d=r.ABV&&l.isView,g=f.prototype.slice,y=r.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(l!==f),{ArrayBuffer:f}),n(n.S+n.F*!r.CONSTR,v,{isView:function(t){return d&&d(t)||h(t)&&y in t}}),n(n.P+n.U+n.F*i(3)(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(o(this),t);for(var i=o(this).byteLength,n=a(t,i),r=a(void 0===e?i:e,i),s=new(c(this,f))(u(r-n)),h=new p(this),l=new p(s),d=0;n<r;)l.setUint8(d++,h.getUint8(n++));return s}}),i(40)(v)},function(t,e,i){var n=i(0);n(n.G+n.W+n.F*!i(66).ABV,{DataView:i(95).DataView})},function(t,e,i){i(29)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(29)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(29)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(0),r=i(14),s=i(1),o=(i(2).Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!i(3)(function(){o(function(){})}),"Reflect",{apply:function(t,e,i){var n=r(t),u=s(i);return o?o(n,e,u):a.call(n,e,u)}})},function(t,e,i){var n=i(0),r=i(38),s=i(14),o=i(1),a=i(5),u=i(3),h=i(106),l=(i(2).Reflect||{}).construct,c=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),f=!u(function(){l(function(){})});n(n.S+n.F*(c||f),"Reflect",{construct:function(t,e){s(t),o(e);var i=arguments.length<3?t:s(arguments[2]);if(f&&!c)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(h.apply(t,n))}var u=i.prototype,p=r(a(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return a(d)?d:p}})},function(t,e,i){var n=i(8),r=i(0),s=i(1),o=i(22);r(r.S+r.F*i(3)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){s(t),e=o(e,!0),s(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(0),r=i(17).f,s=i(1);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(0),r=i(1),s=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(84)(s,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new s(t)}})},function(t,e,i){function n(t,e){var i,a,l=arguments.length<3?t:arguments[2];return h(t)===l?t[e]:(i=r.f(t,e))?o(i,"value")?i.value:void 0!==i.get?i.get.call(l):void 0:u(a=s(t))?n(a,e,l):void 0}var r=i(17),s=i(18),o=i(11),a=i(0),u=i(5),h=i(1);a(a.S,"Reflect",{get:n})},function(t,e,i){var n=i(17),r=i(0),s=i(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(s(t),e)}})},function(t,e,i){var n=i(0),r=i(18),s=i(1);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(s(t))}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(0),r=i(1),s=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!s||s(t)}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{ownKeys:i(122)})},function(t,e,i){var n=i(0),r=i(1),s=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return s&&s(t),!0}catch(t){return!1}}})},function(t,e,i){function n(t,e,i){var u,f,p=arguments.length<4?t:arguments[3],d=s.f(l(t),e);if(!d){if(c(f=o(t)))return n(f,e,i,p);d=h(0)}return a(d,"value")?!(!1===d.writable||!c(p))&&(u=s.f(p,e)||h(0),u.value=i,r.f(p,e,u),!0):void 0!==d.set&&(d.set.call(p,i),!0)}var r=i(8),s=i(17),o=i(18),a=i(11),u=i(0),h=i(31),l=i(1),c=i(5);u(u.S,"Reflect",{set:n})},function(t,e,i){var n=i(0),r=i(76);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var n=i(0),r=i(58)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(48)("includes")},function(t,e,i){"use strict";var n=i(0),r=i(82)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(123);n(n.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(123);n(n.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(46)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(46)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var n=i(0),r=i(20),s=i(9),o=i(61),a=i(63),u=RegExp.prototype,h=function(t,e){this._r=t,this._s=e};i(84)(h,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):a.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=s(t.lastIndex),new h(n,e)}})},function(t,e,i){i(71)("asyncIterator")},function(t,e,i){i(71)("observable")},function(t,e,i){var n=i(0),r=i(122),s=i(15),o=i(17),a=i(88);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i=s(t),n=o.f,u=r(i),h={},l=0;u.length>l;)a(h,e=u[l++],n(i,e));return h}})},function(t,e,i){var n=i(0),r=i(124)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(0),r=i(124)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(14),o=i(8);i(7)&&n(n.P+i(67),"Object",{__defineGetter__:function(t,e){o.f(r(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(14),o=i(8);i(7)&&n(n.P+i(67),"Object",{__defineSetter__:function(t,e){o.f(r(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(22),o=i(18),a=i(17).f;i(7)&&n(n.P+i(67),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=s(t,!0);do{if(e=a(i,n))return e.get}while(i=o(i))}})},function(t,e,i){"use strict";var n=i(0),r=i(10),s=i(22),o=i(18),a=i(17).f;i(7)&&n(n.P+i(67),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=s(t,!0);do{if(e=a(i,n))return e.set}while(i=o(i))}})},function(t,e,i){var n=i(0);n(n.P+n.R,"Map",{toJSON:i(125)("Map")})},function(t,e,i){var n=i(0);n(n.P+n.R,"Set",{toJSON:i(125)("Set")})},function(t,e,i){var n=i(0);n(n.S,"System",{global:i(2)})},function(t,e,i){var n=i(0),r=i(19);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,s=i>>>0;return(e>>>0)+(n>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,s=i>>>0;return(e>>>0)-(n>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{imulh:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n,o=i>>16,a=n>>16,u=(o*s>>>0)+(r*s>>>16);return o*a+(u>>16)+((r*a>>>0)+(65535&u)>>16)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{umulh:function(t,e){var i=+t,n=+e,r=65535&i,s=65535&n,o=i>>>16,a=n>>>16,u=(o*s>>>0)+(r*s>>>16);return o*a+(u>>>16)+((r*a>>>0)+(65535&u)>>>16)}})},function(t,e,i){var n=i(30),r=i(1),s=n.key,o=n.set;n.exp({defineMetadata:function(t,e,i,n){o(t,e,r(i),s(n))}})},function(t,e,i){var n=i(30),r=i(1),s=n.key,o=n.map,a=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:s(arguments[2]),n=o(r(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var u=a.get(e);return u.delete(i),!!u.size||a.delete(e)}})},function(t,e,i){var n=i(30),r=i(1),s=i(18),o=n.has,a=n.get,u=n.key,h=function(t,e,i){if(o(t,e,i))return a(t,e,i);var n=s(e);return null!==n?h(t,n,i):void 0};n.exp({getMetadata:function(t,e){return h(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var n=i(119),r=i(126),s=i(30),o=i(1),a=i(18),u=s.keys,h=s.key,l=function(t,e){var i=u(t,e),s=a(t);if(null===s)return i;var o=l(s,e);return o.length?i.length?r(new n(i.concat(o))):o:i};s.exp({getMetadataKeys:function(t){return l(o(t),arguments.length<2?void 0:h(arguments[1]))}})},function(t,e,i){var n=i(30),r=i(1),s=n.get,o=n.key;n.exp({getOwnMetadata:function(t,e){return s(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var n=i(30),r=i(1),s=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(t){return s(r(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,e,i){var n=i(30),r=i(1),s=i(18),o=n.has,a=n.key,u=function(t,e,i){if(o(t,e,i))return!0;var n=s(e);return null!==n&&u(t,n,i)};n.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(30),r=i(1),s=n.has,o=n.key;n.exp({hasOwnMetadata:function(t,e){return s(t,r(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var n=i(30),r=i(1),s=i(14),o=n.key,a=n.set;n.exp({metadata:function(t,e){return function(i,n){a(t,e,(void 0!==n?r:s)(i),o(n))}}})},function(t,e,i){var n=i(0),r=i(94)(),s=i(2).process,o="process"==i(19)(s);n(n.G,{asap:function(t){var e=o&&s.domain;r(e?e.bind(t):t)}})},function(t,e,i){"use strict";var n=i(0),r=i(2),s=i(27),o=i(94)(),a=i(6)("observable"),u=i(14),h=i(1),l=i(41),c=i(42),f=i(12),p=i(49),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,y(t))},x=function(t,e){h(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:u(i),this._c=i)}catch(e){return void t.error(e)}v(this)&&y(this)};x.prototype=c({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var n=g(i.next);if(n)return n.call(i,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var n=g(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var n=g(i.complete);t=n?n.call(i,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var k=function(t){l(this,k,"Observable","_f")._f=u(t)};c(k.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(t){var e=this;return new(s.Promise||r.Promise)(function(i,n){u(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:i})})}}),c(k,{from:function(t){var e="function"==typeof this?this:k,i=g(h(t)[a]);if(i){var n=h(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return o(function(){if(!i){try{if(p(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:k)(function(t){var e=!1;return o(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(k.prototype,a,function(){return this}),n(n.G,{Observable:k}),i(40)("Observable")},function(t,e,i){var n=i(2),r=i(0),s=i(60),o=i(309),a=n.navigator,u=!!a&&/MSIE .\./.test(a.userAgent),h=function(t){return u?function(e,i){return t(s(o,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),i)}:t};r(r.G+r.B+r.F*u,{setTimeout:h(n.setTimeout),setInterval:h(n.setInterval)})},function(t,e,i){"use strict";var n=i(310),r=i(60),s=i(14);t.exports=function(){for(var t=s(this),e=arguments.length,i=Array(e),o=0,a=n._,u=!1;e>o;)(i[o]=arguments[o++])===a&&(u=!0);return function(){var n,s=arguments.length,o=0,h=0;if(!u&&!s)return r(t,i,this);if(n=i.slice(),u)for(;e>o;o++)n[o]===a&&(n[o]=arguments[h++]);for(;s>h;)n.push(arguments[h++]);return r(t,n,this)}}},function(t,e,i){t.exports=i(2)},function(t,e,i){var n=i(0),r=i(93);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(91),r=i(13),s=i(2),o=i(12),a=i(47),u=i(6),h=u("iterator"),l=u("toStringTag"),c=a.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var d,g=f[p],y=s[g],v=y&&y.prototype;if(v){v[h]||o(v,h,c),v[l]||o(v,l,g),a[g]=c;for(d in n)v[d]||r(v,d,n[d],!0)}}},function(t,e,i){(function(e,i){!function(e){"use strict";function n(t,e,i,n){var o=e&&e.prototype instanceof s?e:s,a=Object.create(o.prototype),u=new p(n||[]);return a._invoke=function(t,e,i){var n=w;return function(s,o){if(n===_)throw new Error("Generator is already running");if(n===P){if("throw"===s)throw o;return g()}for(i.method=s,i.arg=o;;){var a=i.delegate;if(a){var u=l(a,i);if(u){if(u===C)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===w)throw n=P,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=_;var h=r(t,e,i);if("normal"===h.type){if(n=i.done?P:S,h.arg===C)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(n=P,i.method="throw",i.arg=h.arg)}}}(t,i,u),a}function r(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function s(){}function o(){}function a(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function h(t){function e(i,n,s,o){var a=r(t[i],t,n);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&m.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,s,o)},function(t){e("throw",t,s,o)}):Promise.resolve(h).then(function(t){u.value=t,s(u)},o)}o(a.arg)}"object"==typeof i&&i.domain&&(e=i.domain.bind(e));var n;this._invoke=function(t,i){function r(){return new Promise(function(n,r){e(t,i,n,r)})}return n=n?n.then(r,r):r()}}function l(t,e){var i=t.iterator[e.method];if(i===y){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=y,l(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var n=r(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,C;var s=n.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,C):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(m.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=y,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:y,done:!0}}var y,v=Object.prototype,m=v.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},b=x.iterator||"@@iterator",k=x.toStringTag||"@@toStringTag",A="object"==typeof t,M=e.regeneratorRuntime;if(M)A&&(t.exports=M);else{(M=e.regeneratorRuntime=A?t.exports:{}).wrap=n;var w="suspendedStart",S="suspendedYield",_="executing",P="completed",C={},O={};O[b]=function(){return this};var L=Object.getPrototypeOf,E=L&&L(L(d([])));E&&E!==v&&m.call(E,b)&&(O=E);var T=a.prototype=s.prototype=Object.create(O);o.prototype=T.constructor=a,a.constructor=o,a[k]=o.displayName="GeneratorFunction",M.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},M.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,k in t||(t[k]="GeneratorFunction")),t.prototype=Object.create(T),t},M.awrap=function(t){return{__await:t}},u(h.prototype),M.AsyncIterator=h,M.async=function(t,e,i,r){var s=new h(n(t,e,i,r));return M.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},u(T),T[k]="Generator",T.toString=function(){return"[object Generator]"},M.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},M.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,n){return s.type="throw",s.arg=t,i.next=e,n&&(i.method="next",i.arg=y),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],s=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var o=m.call(r,"catchLoc"),a=m.call(r,"finallyLoc");if(o&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;f(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:d(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=y),C}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,i(98),i(314))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(){d&&f&&(d=!1,f.length?p=f.concat(p):g=-1,p.length&&o())}function o(){if(!d){var t=r(s);d=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,d=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var h,l,c=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var f,p=[],d=!1,g=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new a(t,e)),1!==p.length||d||r(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.prependListener=u,c.prependOnceListener=u,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e,i){i(316),t.exports=i(27).RegExp.escape},function(t,e,i){var n=i(0),r=i(317)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(54),i(320),i(96),i(128),i(321),i(322),i(50),i(323),i(324),i(325),i(326),i(130),i(131),i(327),i(328),i(329),i(25),i(330),i(331),i(349),i(332),i(333),i(97),i(334),i(335),i(132),i(336),i(337),i(338),i(26),i(339),i(340),i(341),i(342),i(343),i(345),i(346),i(347),i(348),i(44),i(127)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s,o,a,u,h,l,c,f,p,d,g,y,v,m,x,b,k,A,M,w,S,_,P,C,O,L,E,T,X,D,j,I,N,Y,F,B,R,H,W){"use strict";function z(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var V=z(i),U=z(n),G=z(r),Z=z(s),q=z(o),K=z(a),J=z(u),Q=z(h),$=z(l),tt=z(c),et=z(f),it=z(p),nt=z(d),rt=z(g),st=z(y),ot=z(v),at=z(m),ut=z(x),ht=z(b),lt=z(k),ct=z(A),ft=z(M),pt=z(w),dt=z(S),gt=z(_),yt=z(P),vt=z(C),mt=z(O),xt=z(L),bt=z(E),kt=(z(T),z(X)),At=z(D),Mt=z(j),wt=z(I),St=z(N),_t=z(Y),Pt=z(F),Ct=z(B),Ot=z(R),Lt=z(H);z(W);V.default.registerConstructor("graph.position",U.default),V.default.registerConstructor("graph.axis.x",Z.default),V.default.registerConstructor("graph.axis.y",q.default),V.default.registerConstructor("graph.axis.x.bar",K.default),V.default.registerConstructor("graph.axis.x.time",J.default),V.default.registerConstructor("graph.serie.line",Q.default),V.default.registerConstructor("graph.serie.line.3d",$.default),V.default.registerConstructor("graph.serie.line.color",it.default),V.default.registerConstructor("graph.serie.contour",at.default),V.default.registerConstructor("graph.serie.bar",tt.default),V.default.registerConstructor("graph.serie.box",et.default),V.default.registerConstructor("graph.serie.scatter",nt.default),V.default.registerConstructor("graph.serie.zone",rt.default),V.default.registerConstructor("graph.serie.zone.3d",st.default),V.default.registerConstructor("graph.serie.densitymap",ot.default),V.default.registerConstructor(V.default.SERIE_LINE,Q.default),V.default.registerConstructor(V.default.SERIE_LINE_3D,$.default),V.default.registerConstructor(V.default.SERIE_LINE_COLORED,it.default),V.default.registerConstructor(V.default.SERIE_CONTOUR,at.default),V.default.registerConstructor(V.default.SERIE_BAR,tt.default),V.default.registerConstructor(V.default.SERIE_BOX,et.default),V.default.registerConstructor(V.default.SERIE_SCATTER,nt.default),V.default.registerConstructor(V.default.SERIE_ZONE,rt.default),V.default.registerConstructor(V.default.SERIE_ZONE_3D,st.default),V.default.registerConstructor(V.default.SERIE_DENSITYMAP,ot.default),V.default.registerConstructor("graph.plugin.shape",At.default),V.default.registerConstructor("graph.plugin.drag",kt.default),V.default.registerConstructor("graph.plugin.zoom",wt.default),V.default.registerConstructor("graph.plugin.selectScatter",Mt.default),V.default.registerConstructor("graph.plugin.timeSerieManager",St.default),V.default.registerConstructor("graph.plugin.serielinedifference",_t.default),V.default.registerConstructor("graph.plugin.serieLineDifference",_t.default),V.default.registerConstructor("graph.plugin.axissplitting",Pt.default),V.default.registerConstructor("graph.plugin.makeTracesDifferent",Ct.default),V.default.registerConstructor("graph.plugin.peakPicking",Ot.default),V.default.registerConstructor("graph.shape",ut.default),V.default.registerConstructor("graph.shape.areaundercurve",ht.default),V.default.registerConstructor("graph.shape.arrow",lt.default),V.default.registerConstructor("graph.shape.ellipse",ct.default),V.default.registerConstructor("graph.shape.label",ft.default),V.default.registerConstructor("graph.shape.polyline",pt.default),V.default.registerConstructor("graph.shape.line",dt.default),V.default.registerConstructor("graph.shape.nmrintegral",gt.default),V.default.registerConstructor("graph.shape.html",bt.default),V.default.registerConstructor("graph.shape.peakintegration2d",yt.default),V.default.registerConstructor("graph.shape.rect",vt.default),V.default.registerConstructor("graph.shape.rectangle",vt.default),V.default.registerConstructor("graph.shape.cross",mt.default),V.default.registerConstructor("graph.shape.peakboundariescenter",xt.default),V.default.registerConstructor("graph.legend",G.default),V.default.registerConstructor("graph.waveform",Lt.default),e.default=V.default,t.exports=e.default})},function(t,e,i){var n,r,s;!function(i,o){r=[t,e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i;if("undefined"==typeof URL||void 0===URL.createObjectURL||"undefined"==typeof Blob||"undefined"==typeof Worker)i=function(){};else{var n,r={},s=function(){onmessage=function(t){var e=t.data.data,i=t.data.maxX,n=t.data.minX,r=t.data.maxY,s=t.data.minY,o=t.data.direction,a=t.data.numPoints,u=e.length,h=0,l=-4,c=[],f=[],p=[],d=[],g=void 0;g=t.data.xdata?function(e){return t.data.xdata[e]}:function(e){return e*t.data.xScale+t.data.xOffset};var y={};if(console.log(o),"x"==o)for(var v=a/(i-n);h<u;h++){if(slotNumber=Math.floor((g(h)-n)*v),c[l]!==slotNumber){c[l+=4]=slotNumber;var m=(slotNumber+.5)/v+n;f[l]=m,f[l+1]=m,f[l+2]=m,f[l+3]=m,p[l]=e[h],p[l+1]=e[h],p[l+2]=e[h],p[l+3]=e[h],d[l]=0}p[l+1]=Math.min(e[h],p[l+1]),p[l+2]=Math.max(e[h],p[l+2]),p[l+3]=e[h],d[l]+=e[h]}else for(var x=a/(r-s);h<u;h++){if(slotNumber=Math.floor((e[h]-s)*x),c[l]!==slotNumber){c[l+=4]=slotNumber;var b=(slotNumber+.5)/x+s;p[l]=b,p[l+1]=b,p[l+2]=b,p[l+3]=b,f[l]=e[h],f[l+1]=e[h],f[l+2]=e[h],f[l+3]=e[h],d[l]=0}f[l+1]=Math.min(g(h),f[l+1]),f[l+2]=Math.max(g(h),f[l+2]),f[l+3]=g(h),d[l]+=g(h)}for(y[a]={x:f,y:p,sums:d},lastAggregation=p,lastAggregationX=f,lastAggregationSum=d;a>256;){if(a/=2,newAggregation=[],newAggregationX=[],l=0,"x"==o)for(h=0,u=lastAggregation.length-8;h<u;h+=8)newAggregationX[l]=(lastAggregationX[h]+lastAggregationX[h+4])/2,newAggregationX[l+1]=newAggregationX[l],newAggregationX[l+2]=newAggregationX[l],newAggregationX[l+3]=newAggregationX[l],newAggregation[l]=lastAggregation[h],newAggregation[l+1]=Math.min(lastAggregation[h+1],lastAggregation[h+5]),newAggregation[l+2]=Math.max(lastAggregation[h+2],lastAggregation[h+6]),newAggregation[l+3]=lastAggregation[h+7],d[l]=(lastAggregationSum[h]+lastAggregationSum[h+4])/2,l+=4;else for(h=0,u=lastAggregation.length-8;h<u;h+=8)newAggregation[l]=(lastAggregation[h]+lastAggregation[h+4])/2,newAggregation[l+1]=newAggregation[l],newAggregation[l+2]=newAggregation[l],newAggregation[l+3]=newAggregation[l],newAggregationX[l]=lastAggregationX[h],newAggregationX[l+1]=Math.min(lastAggregationX[h+1],lastAggregationX[h+5]),newAggregationX[l+2]=Math.max(lastAggregationX[h+2],lastAggregationX[h+6]),newAggregationX[l+3]=lastAggregationX[h+7],d[l]=(lastAggregationSum[h]+lastAggregationSum[h+4])/2,l+=4;y[a]={x:newAggregationX,y:newAggregation,sums:d},lastAggregation=newAggregation,lastAggregationX=newAggregationX,lastAggregationSum=d,d=[]}postMessage({aggregates:y,_queueId:t.data._queueId})}}.toString();s=(s=s.replace(/^\s*function\s*\(\s*\)\s*\{/,"")).replace(/}\s*$/,"");var o=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));(n=new Worker(o)).onmessage=function(t){var e=t.data._queueId;delete t.data._queueId,r[e](t.data),delete r[e]},i=function(t){var e=Date.now();t._queueId=e;var i=new Promise(function(t){r[e]=t});return n.postMessage(t),i}}e.default=i,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(54),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";function r(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(i),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0},h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=o.extend({},u,i),this.graph=e,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=o.guid(),this.eyeCrossedId=o.guid();var n=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeCrossedId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>'),r=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>');this.svg.appendChild(document.adoptNode(r.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(n.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}return a(t,[{key:"setPosition",value:function(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}},{key:"setDraggable",value:function(t){this.options.movable=t}},{key:"setAutoPosition",value:function(t){if(["bottom","left","top","right"].indexOf(t=t.toLowerCase())>-1)return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"buildLegendBox",value:function(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var n=0,s=t.length;n<s;n++)if(!t[n].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition){e+(o=r(this.groups[n])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0)}this.groups[n].setAttribute("transform","translate( "+e+", "+i+")"),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=o.width+10,i+=0):(e=0,i+=16)}var o=r(this.subG);switch(this.width=o.width+this.options.paddingRight+this.options.paddingLeft,this.height=o.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",o.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",o.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=this.graph.getHeight()+"px",this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=this.graph.getWidth()+"px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.position.y="10px",this.alignToY="top",this.alignToX=!1}if(this.autoPosition){switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10;break;case"left":this.graph.options.paddingLeft=this.width+5;break;case"right":this.graph.options.paddingRight=this.width+10;break;case"top":this.graph.options.paddingTop=this.height+14}this.graph.updateGraphingZone(),this.graph.getDrawingHeight(),this.graph.getDrawingWidth()}this.bbox=o}},{key:"calculatePosition",value:function(){var t=s.default.check(this.position),e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&("max"==t.y&&(e.y+=this.graph.getPaddingTop()),"max"==t.x&&(e.x-=this.graph.getPaddingRight()),"right"==this.alignToX&&(e.x-=this.width,e.x-=this.bbox.x),"bottom"==this.alignToY?(e.y-=this.height,e.y-=this.bbox.y):e.y-=this.bbox.y,this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}},{key:"update",value:function(t){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var e=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var i=this.series||this.graph.getSeries();if(i.length>0){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();for(var n=0,s=i.length;n<s;n++)i[n].excludedFromLegend&&!this.series||function(t){var s;if("bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();s=document.createElementNS(e.graph.ns,"g");var o=document.createElementNS(e.graph.ns,"rect");e.subG.appendChild(s),s.appendChild(o);var a=i[t].getSymbolForLegend(),u=i[t].getMarkerForLegend(),h=i[t].getTextForLegend(),l=35;if(this.isHideable()){l+=20;var c=document.createElementNS(e.graph.ns,"use");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+(i[n].isShown()?this.eyeId:this.eyeCrossedId)),c.setAttribute("width",15),c.setAttribute("height",15),c.setAttribute("x",35),c.setAttribute("y",-8),c.addEventListener("click",function(n){n.stopPropagation();var r;i[t].isShown()?(i[t].hide(e.options.hideShapesOnHideSerie),r=e.eyeCrossedId):(i[t].show(e.options.hideShapesOnHideSerie),r=e.eyeId),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+r)})}h.setAttribute("transform","translate("+l+", 3)"),h.setAttribute("color",this.options.color),a&&s.appendChild(a),"scatter"==i[t].getType()&&a.setAttribute("transform","translate( 20, 0 )"),u&&s.appendChild(u),c&&s.appendChild(c),s.appendChild(h);var f=r(s);o.setAttribute("x",f.x),o.setAttribute("y",f.y),o.setAttribute("width",f.width),o.setAttribute("height",f.height),o.setAttribute("fill","none"),o.setAttribute("pointer-events","fill"),e.groups[t]=s,s.addEventListener("click",function(n){var r=i[t];r.isShown()&&(e.isSelectable()&&!r.isSelected()?e.graph.selectSerie(r):e.graph.unselectSerie(r),n.preventDefault(),n.stopPropagation())})}.call(this,n);this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var t=this,e=this.pos;this.svg.addEventListener("mousedown",function(i){i.stopPropagation(),console.log("down"),t.options.movable&&(e.x=i.clientX,e.y=i.clientY,i.preventDefault(),t.mousedown=!0,t.graph.elementMoving(t),t.rect.setAttribute("display","block"))}),this.svg.addEventListener("click",function(t){t.stopPropagation()}),this.svg.addEventListener("dblclick",function(t){t.stopPropagation()}),this.svg.addEventListener("mousemove",function(e){t.handleMouseMove(e)})}},{key:"handleMouseUp",value:function(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,n=t.clientY-e.y;e.transformX+=i,e.transformY+=n,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform","translate("+t.transformX+", "+t.transformY+")")}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px"),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}},{key:"fixSeriesAdd",value:function(t){this.series=this.series||[],this.series.push(t)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(t){this.options.isSerieHideable=!!t},get:function(){return this.options.isSerieHideable}}]),t}();e.default=h,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(96)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"draw",value:function(){var t,e=this,i=(this.graph.drawingSpaceWidth,this._barCategories);if(this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var n=0;n<=i.length;n++)this.drawTick(n/i.length,2),n<i.length&&((t=this.nextTickLabel(function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"})).setAttribute("x",this.getPos((n+.5)/i.length)),t.textContent=i[n].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var r,s=this.graph.series[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var o=r.value;o.getXAxis()==this&&t.push(o)}}catch(t){i=!0,n=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw n}}return this.setSeries.apply(this,t),this}},{key:"setSeries",value:function(){var t=this;return this.series=arguments,Array.prototype.map.call(this.series,function(e,i){"object"!=(void 0===e?"undefined":r(e))&&(e=t.graph.getSerie(e)),e.setCategoryConfig&&e.setCategoryConfig(i,t._barCategories,t.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var t={},e=0;Array.prototype.map.call(this.series,function(i){var n=i.getUsedCategories(),r=!0,s=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var h=a.value;t.hasOwnProperty(h)||(t[h]=1,e+=1),t[h]++,e++}}catch(t){s=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}});var i=0;for(var n in t){var r=t[n];t[n]=i,i+=r}var s={},o=0;Array.prototype.map.call(this.series,function(i){var n={};i.getUsedCategories().map(function(i){s[i]=s[i]||.5,n[i]=(t[i]+s[i])/e,s[i]++}),i.setDataIndices(n,e),o++})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(t){return this._barCategories=t,this}}]),e}();e.default=o,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(68),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";function r(t,e){return Math.round(t/e)*e}function s(t,e){switch(e.unit){case"s":t.setSeconds(r(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(r(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(r(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(r(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(r(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw"Date format not recognized"}return t}function o(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw"Date format not recognized"}return t}function a(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var n={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},r=document.createElementNS(t.graph.ns,"line");switch(r.setAttribute("stroke","black"),r.setAttribute("y1",0),e){case 2:r.setAttribute("y2",6),n.text.setAttribute("y",15),n.line=r,n.group.appendChild(n.line);break;case 1:r.setAttribute("y2",20),n.text.setAttribute("y",10),n.line1=r,n.line2=r.cloneNode(),n.group.appendChild(n.line1),n.group.appendChild(n.line2)}return n.text.setAttribute("text-anchor","middle"),n.text.setAttribute("dominant-baseline","middle"),n.group.appendChild(n.text),t.getWrapper(e).appendChild(n.group),t.groups[e][i]=n}function u(t,e,i){for(;i<t.groups[e].length;i++)h(t.groups[e][i])}function h(t){t.group.setAttribute("display","none")}function l(t,e){return y(t,e)}function c(t,e,i,n,r,s,o){switch(t){case 1:var a=Math.max(n,Math.min(r,s)),u=Math.max(n,Math.min(r,o));if(isNaN(u)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",u),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",u),e.text.setAttribute("x",(a+u)/2);8*i.length>u-a;)if(1==(i=i.substr(0,i.length-2)+".").length){i="";break}e.text.textContent=i;break;case 2:if(s<n||s>r)return void h(e);e.line.setAttribute("x1",s),e.line.setAttribute("x2",s),e.text.setAttribute("x",s),e.text.textContent=i}}Object.defineProperty(e,"__esModule",{value:!0});var f=function(t){return t&&t.__esModule?t:{default:t}}(i),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),g=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],y=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(r,s,o){var a=y;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(s=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date:"+r);"UTC:"==(s=String(a.masks[s]||s||a.masks.default)).slice(0,4)&&(s=s.slice(4),o=!0);var u=o?"getUTC":"get",h=r[u+"Date"](),l=r[u+"Day"](),c=r[u+"Month"](),f=r[u+"FullYear"](),p=r[u+"Hours"](),d=r[u+"Minutes"](),g=r[u+"Seconds"](),v=r[u+"Milliseconds"](),m=o?0:r.getTimezoneOffset(),x={d:h,dd:n(h),ddd:a.i18n.dayNames[l],dddd:a.i18n.dayNames[l+7],m:c+1,mm:n(c+1),mmm:a.i18n.monthNames[c],mmmm:a.i18n.monthNames[c+12],yy:String(f).slice(2),yyyy:f,h:p%12||12,hh:n(p%12||12),H:p,HH:n(p),M:d,MM:n(d),s:g,ss:n(g),l:n(v,3),L:n(v>99?Math.round(v/10):v),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:o?"UTC":(String(r).match(e)||[""]).pop().replace(i,""),o:(m>0?"-":"+")+n(100*Math.floor(Math.abs(m)/60)+Math.abs(m)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:function(t,e){var i=new Date(t[e+"FullYear"](),0,1);return Math.ceil(((t-i)/864e5+i[e+"Day"]()+1)/7)}(r,u)};return s.replace(t,function(t){return t in x?x[t]:t.slice(1,t.length-1)})}}();y.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},y.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var v=function(t){function e(t,i,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,f.default),d(e,[{key:"init",value:function(t,i){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var n=document.createElementNS(t.ns,"rect");n.setAttribute("fill","#c0c0c0"),n.setAttribute("stroke","#808080"),n.setAttribute("height","20"),n.setAttribute("x","0"),n.setAttribute("y","0"),this.rect=n,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),void 0!=this.currentAxisMin&&void 0!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t=this.maxPx-this.minPx,e=this.getCurrentInterval()/t,i=this.getCurrentMax(),n=this.getCurrentMin();if(this.rect.setAttribute("width",t),this.rect.setAttribute("x",this.minPx),!i||!n)return 0;var r;for(m=0;m<g.length;m++)if(g[m].threshold>e){r=g[m];break}r||(r=g[g.length-1]);var h,f,d,y,v,m,x=0;for(x=1;x<=2;x++){if(!p.isNumeric(n)){u(this,x,0);break}d=s(new Date(n),r.increments[x]),m=0;do{if(y=l(d,r.increments[x].format),v=a(this,x,m),h=this.getPx(d.getTime()),d=o(d,r.increments[x]),f=this.getPx(d.getTime()),c(x,v,y,this.getMinPx(),this.getMaxPx(),h,f),++m>100)break}while(d.getTime()<i);u(this,x,m)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(t){return this.wrapper[t]}},{key:"setShift",value:function(t,e){this.shift=t,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}]),e}();e.default=v,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(50),i(44),i(129),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});a(i);var u=a(n),h=(a(r),a(s)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t){function e(t,i,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),c(e,null,[{key:"defaults",value:function(){return{zpos:0}}}]),c(e,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),e}();l.mix(f,h.default),e.default=f,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(50),i(69)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(i);var o=s(n),a=(s(r),function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()),u=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.groupMain=document.createElementNS(r.graph.ns,"g"),r.pathDom=document.createElementNS(r.graph.ns,"path"),r.groupMain.appendChild(r.pathDom),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth,fillColor:r.options.fillColor,fillOpacity:r.options.fillOpacity,markers:r.options.markers},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"setData",value:function(t){this.data=t,this.minY=Number.MAX_SAFE_INTEGER,this.maxY=Number.MIN_SAFE_INTEGER;for(var e in this.data)this._checkY(this.data[e]);return this}},{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor}},{key:"setFillOpacity",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillOpacity",value:function(t){return this.getStyle(t).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t="";this.error&&this.errorDrawInit();for(var e in this.data)this.categoryIndices[e]&&(t+="M "+this.getXAxis().getPos(this.categoryIndices[e])+" "+this.getYAxis().getPos(0)+" V "+this.getYAxis().getPos(this.data[e])+" h "+this.getXAxis().getDeltaPx(1/this.nbCategories)+" V "+this.getYAxis().getPos(0),this.error&&this.errorAddPointBarChart(e,this.data[e],this.getXAxis().getPos(this.categoryIndices[e]+.5/this.nbCategories),this.getYAxis().getPos(this.data[e])));this.error&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return Object.keys(this.data)}}]),e}();e.default=u,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(56),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.groupMain=document.createElementNS(r.graph.ns,"g"),r.pathDom=document.createElementNS(r.graph.ns,"path"),r.groupMain.appendChild(r.pathDom),r.styles={},r.styles.unselected=r.options.defaultStyle,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,null,[{key:"default",value:function(){return{orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}}}}]),s(e,[{key:"setData",value:function(t,e){if(this.data=t,Array.isArray(t)){var i=void 0,r=void 0,s=void 0,o=void 0,a=void 0;"y"==this.options.orientation?(i=this.getXAxis(),r=this.getYAxis(),s=this._checkX.bind(this),o=this._checkY.bind(this),a=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),r=this.getXAxis(),s=this._checkY.bind(this),o=this._checkX.bind(this),a=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(s=function(){},o=function(){}),i&&r||(0,n.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand");for(var u in this.data)a?(s(this.data[u].x),this.data[u].pos=this.data[u].x):(s(this.data[u].y),this.data[u].pos=this.data[u].y),this.data[u].Q3&&o(this.data[u].Q3),this.data[u].Q1&&o(this.data[u].Q1),this.data[u].whiskers?Array.isArray(this.data[u].whiskers)?(this.data[u].whiskers.length>0&&o(this.data[u].whiskers[0]),this.data[u].whiskers.length>1&&o(this.data[u].whiskers[1])):(o(this.data[u].whiskers),this.data[u].whiskers=[this.data[u].whiskers]):this.data[u].whiskers=[],Array.isArray(this.data[u].outliers)?this.data[u].outliers.map(function(t){return o(t)}):this.data[u].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unselected",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,n&&this._set(t,e,"selected"),this.styleHasChanged(i),this}},{key:"_gstyle",value:function(t,e){return this.getStyle(e)[t]}},{key:"getStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[t]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=(0,n.extend)({},defaults.defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t=this;if(this.data){var e=void 0,i="y"==this.options.orientation?this.getYAxis():this.getXAxis(),r="y"==this.options.orientation?this.getXAxis():this.getYAxis(),s=void 0,o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0;if((0,n.emptyDom)(this.groupMain),"category"==r.getType())s=r.getRelPx(.8/this.nbCategories),!0;else{s=this.options.maxBoxWidth;for(var f=0,p=this.data.length;f<p-1;f++)s=Math.min(s,Math.abs(r.getPx(this.data[f+1].pos)-r.getPx(this.data[f].pos)))}for(var f=0,p=this.data.length;f<p;f++){if("category"==r.getType()){var d="y"==this.options.orientation?this.data[f].x:this.data[f].y;if(this.categoryIndices.hasOwnProperty(d))e=[r.getPos(this.categoryIndices[d])+1.2*s/2];else if(Array.isArray(this._linkedToScatterSeries)){var g=!0,y=!1,v=void 0;try{for(var m,x=this._linkedToScatterSeries[Symbol.iterator]();!(g=(m=x.next()).done);g=!0){var b=m.value;if(b.categoryIndices.hasOwnProperty(d)){e=[r.getPos(b.categoryIndices[d])+1.2*s/2],i="y"==this.options.orientation?b.getYAxis():b.getXAxis();break}}}catch(t){y=!0,v=t}finally{try{!g&&x.return&&x.return()}finally{if(y)throw v}}}}else e=[r.getPos("y"==this.options.orientation?this.data[f].x:this.data[f].y),s];o=i.getPos(this.data[f].Q2),a=i.getPos(this.data[f].Q3),u=i.getPos(this.data[f].Q1),this.data[f].whiskers.map(function(e){e<t.data[f].Q1?l=i.getPos(e):h=i.getPos(e)}),c=this.data[f].outliers.map(function(t){return i.getPos(t)});var k=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(k);var A=document.createElementNS(this.graph.ns,"rect"),M=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(A.setAttribute("width",s),A.setAttribute("x",e[0]-s/2),M.setAttribute("width",s),M.setAttribute("x",e[0]-s/2),k.setAttribute("x1",e[0]-s/2),k.setAttribute("x2",e[0]+s/2),k.setAttribute("y1",o),k.setAttribute("y2",o)):(A.setAttribute("height",s),A.setAttribute("y",e[0]-s/2),M.setAttribute("height",s),M.setAttribute("y",e[0]-s/2),k.setAttribute("y1",e[0]-s/2),k.setAttribute("y2",e[0]+s/2),k.setAttribute("x1",o),k.setAttribute("x2",o)),this.boxPos(A,o,a,"x"==this.options.orientation),this.boxPos(M,o,u,"x"==this.options.orientation),this.applyBoxStyle(A,M);var w=document.createElementNS(this.graph.ns,"line"),S=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==h&&(w.setAttribute("y1",a),w.setAttribute("y2",h),w.setAttribute("x1",e[0]),w.setAttribute("x2",e[0])),void 0!==l&&(S.setAttribute("y1",u),S.setAttribute("y2",l),S.setAttribute("x1",e[0]),S.setAttribute("x2",e[0]))):(void 0!==h&&(w.setAttribute("x1",a),w.setAttribute("x2",h),w.setAttribute("y1",e[0]),w.setAttribute("y2",e[0])),void 0!==l&&(S.setAttribute("x1",u),S.setAttribute("x2",l),S.setAttribute("y1",e[0]),S.setAttribute("y2",e[0]))),c.map(function(i){var n=document.createElementNS(t.graph.ns,"circle");n.setAttribute("r",2),"y"==t.options.orientation?(n.setAttribute("cx",e[0]),n.setAttribute("cy",i)):(n.setAttribute("cy",e[0]),n.setAttribute("cx",i)),t.setOutlierStyle(n),t.groupMain.appendChild(n)}),void 0!==h&&this.groupMain.appendChild(w),void 0!==l&&this.groupMain.appendChild(S),void 0!==a&&this.groupMain.appendChild(A),void 0!==u&&this.groupMain.appendChild(M),this.groupMain.appendChild(k),this.applyWhiskerStyle(w,S)}}}},{key:"applyBoxStyle",value:function(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(t,e,i,n){e>i?(t.setAttribute(n?"x":"y",i),t.setAttribute(n?"width":"height",e-i)):(t.setAttribute(n?"x":"y",e),t.setAttribute(n?"width":"height",i-e))}},{key:"getUsedCategories",value:function(){var t="y"==this.options.orientation?"x":"y",e=this.data.map(function(e){return e[t]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(t){t.getUsedCategories().map(function(t){var i=void 0;(i=e.indexOf(t))>-1&&e.splice(i,1)})}),e}},{key:"linkToScatterSerie",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this._linkedToScatterSeries=e}}]),e}();e.default=o,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(50),i(4),i(69)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(i),a=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(n),s(r),function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()),u=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.lines=r.lines||{},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"setColors",value:function(t){this.colors=t}},{key:"_draw",value:function(){var t,e,i,n,r,s,o,a,u=this,h=(this._dataToUse,0),l=!1,c=!1,f=this.getXAxis(),p=this.getYAxis(),d=f.getCurrentMin(),g=p.getCurrentMin(),y=f.getCurrentMax(),v=p.getCurrentMax();for(this.eraseLines(),this.isFlipped()&&(1,0),this.currentLine="",e=this.waveform.getLength(),t=0;t<e;t+=2)if(i=this.waveform.getX(t),n=this.waveform.getY(t),i<d&&l<d||i>y&&l>y||(n<g&&c<g||n>v&&c>v)&&!this.options.lineToZero)l=i,c=n,!0;else if(this.counter2=t,this.markersShown()&&this.getMarkerCurrentFamily(this.counter2),o=this.getX(i),a=this.getY(n),o!=r||a!=s)if(i<d||n<g||i>y||n>v,isNaN(o)||isNaN(a))this.counter;else{var m=this.colors[t];this._addPoint(o,a,i,n,r,s,l,c,t,m,!1,!0),r=o,s=a,l=i,c=n}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var x=this.groupLines.cloneNode(!0);this.groupMain.appendChild(x);for(var h=0,b=x.children.length;h<b;h++)x.children[h].setAttribute("stroke","transparent"),x.children[h].setAttribute("stroke-width","25px"),x.children[h].setAttribute("pointer-events","stroke");u._trackerDom=x,u.groupMain.addEventListener("mousemove",function(t){var e=u.graph._getXY(t),i=u.handleMouseMove(!1,!1);u._trackingCallback(u,i,e.x,e.y)}),u.groupMain.addEventListener("mouseleave",function(t){u._trackingOutCallback(u)})}return this}},{key:"_addPoint",value:function(t,e,i,n,r,s,o,a,u,h,l,c){if(void 0!==r&&void 0!==s&&!isNaN(t)&&!isNaN(e)){h._rgb&&(h="rgba("+h._rgb[0]+","+h._rgb[1]+","+h._rgb[2]+","+(h._rgb[3]||1)+")");var f=this.lines[h];f||((f=this.lines[h]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:h}).object.setAttribute("stroke",h),f.color=h,this.groupLines.appendChild(f.object)),f.path+="M "+r+" "+s+" L "+t+" "+e,this.hasErrors()&&this.errorAddPoint(u,i,n,t,e)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}},{key:"eraseLines",value:function(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}]),e}();e.default=u,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(131),i(44),i(129),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s,o){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});a(i);var u=a(n),h=(a(r),a(s)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(o),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t){function e(t,i,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),c(e,null,[{key:"default",value:function(){return{zpos:0}}}]),c(e,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),e}();l.mix(f,h.default),e.default=f,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(56),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return s.mapEventEmission(r.options,r),r.groupMain=document.createElementNS(r.graph.ns,"g"),r.rects=[],r.paths=[],r.recalculateBinsOnDraw=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"setData",value:function(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(t,e,i,n,r,s){var o,a,u,h=[],l=this.data.length,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(o=0;o<l;o++)a=~~((this.data[o][0]-t)/e),u=~~((this.data[o][1]-n)/r),a>i||u>s||a<0||u<0||(h[a]=h[a]||[],h[a][u]=h[a][u]+1||1,c=h[a][u]<c?h[a][u]:c,f=h[a][u]>f?h[a][u]:f);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=c,this.binMax=f,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=s,this.densitymap=h,h}},{key:"setDensityMap",value:function(t,e,i,n,r,s,o){this.data.length;var a,u,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(a=0;a<t.length;a++)for(u=0;u<t[a].length;u++)h=t[a][u]<h?t[a][u]:h,l=t[a][u]>l?t[a][u]:l;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,this.binMin=h,this.binMax=l,this.deltaX=i,this.deltaY=s,this.fromX=e,this.fromY=r,this.numX=maxIndexX,this.numY=maxIndexY,this.densitymap=t,t}},{key:"calculateDensityWeighted",value:function(t,e,i,n,r,s){var o,a,u,h,l,c,f,p,d,g,y,v=[],m=this.data.length,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(o=0;o<m;o++)c=(this.data[o][0]-t)/e-.5,f=(this.data[o][1]-n)/r-.5,p=a=Math.floor(c),g=u=Math.floor(f),d=a+1,y=u+1,h=1-(c-a),l=1-(f-u),a>i||u>s||a<0||u<0||(v[p]=v[p]||[],v[d]=v[d]||[],v[p][g]=v[p][g]||0,v[d][g]=v[d][g]||0,v[p][y]=v[p][y]||0,v[d][y]=v[d][y]||0,v[p][g]+=h*l,v[d][g]+=(1-h)*l,v[p][y]+=h*(1-l),v[d][y]+=(1-h)*(1-l),x=v[p][g]<x?v[p][g]:x,b=v[p][g]>b?v[p][g]:b,x=v[d][g]<x?v[d][g]:x,b=v[d][g]>b?v[d][g]:b,x=v[p][y]<x?v[p][y]:x,b=v[p][y]>b?v[p][y]:b,x=v[d][y]<x?v[d][y]:x,b=v[d][y]>b?v[d][y]:b);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=x,this.binMax=b,this.deltaX=e,this.deltaY=r,this.fromX=t,this.fromY=n,this.numX=i,this.numY=s,this.densitymap=v,v}},{key:"autoBins",value:function(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}},{key:"setBinsFromTo",value:function(t,e,i,n){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:n},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}},{key:"calculateDensityAdvanced",value:function(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},n=!1;for(var r in this.densityMapCalculation)if(this.densityMapCalculation[r].weighted&&(n=!0,t[r].weighing=!0),this.densityMapCalculation[r].pxPerBin){var s="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,o="max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to,a=Math.abs(i[r].call(this).getRelPx(o-s));t[r].num=Math.ceil(e[r]/this.densityMapCalculation[r].pxPerBin),t[r].from=s-Math.abs(i[r].call(this).getRelVal((t[r].num*this.densityMapCalculation[r].pxPerBin-a)/2)),t[r].delta=Math.abs(i[r].call(this).getRelVal(this.densityMapCalculation[r].pxPerBin))}else t[r].num=this.densityMapCalculation[r].numBins||400,t[r].from="min"==this.densityMapCalculation[r].from?i[r].call(this).getCurrentMin():this.densityMapCalculation[r].from,t[r].delta=this.densityMapCalculation[r].to?(("max"==this.densityMapCalculation[r].to?i[r].call(this).getCurrentMax():this.densityMapCalculation[r].to)-t[r].from)/t[r].num:this.densityMapCalculate[r].delta;(n?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}},{key:"setColorMapBinBoundaries",value:function(t,e){return this.colorMapMin=t,this.colorMapMax=e,this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(t){return this.callbackColorMapMinMax=t,this}},{key:"colorMapHSL",value:function(t,e,i){i=i||"linear";for(var n,r,s={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},o=0,a=[],u=[],h={h:null,s:null,l:null,a:null},l=t.length-1,c=0;c<=e;c++){n=s[i](c),(r=Math.floor(n*l))==t.length-1&&(r=l-1),n=(n-r/l)/(1/l);for(var f in h)h[f]=(t[r+1][f]-t[r][f])*n+t[r][f];a[o]="hsl("+h.h+", "+Math.round(100*h.s)+"%, "+Math.round(100*h.l)+"%)",u[o]=h.a,o++}return this.opacities=u,this.colorMap=a,this.colorMapNum=e,this}},{key:"autoColorMapHSL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear";return this.colorMapHSV(t,100,e),this}},{key:"getColorIndex",value:function(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&void 0!=this.colorMapMin&&void 0!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1])}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),n=this.getYAxis().getRelPx(this.deltaY),r=0;r<this.paths.length;r++)this.paths[r]="";for(r=0;r<this.maxIndexX;r++)for(var s=0;s<this.maxIndexY;s++)void 0!=this.densitymap[r]&&void 0!=this.densitymap[r][s]&&(t=this.getColorIndex(this.densitymap[r][s]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=" M "+this.getXAxis().getPx(r*this.deltaX+this.fromX)+" "+this.getYAxis().getPx(s*this.deltaY+this.fromY)+" h "+i+" v "+n+" h -"+i+" z");this.drawRects()}},{key:"drawRects",value:function(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}},{key:"setOptions",value:function(t){return this.options=s.extend(!0,{},defaults,t||{}),this}}]),e}();e.default=a,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(50),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.negativeDelta=0,r.positiveDelta=0,r.negativeThreshold=0,r.positiveThreshold=0,r.groupMain.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),a(e,[{key:"setData",value:function(t,e,i){var n,r,s,a,i=i||"float",u=t.length,h=[];for(t instanceof Array||"object"==(void 0===t?"undefined":o(t))&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,u=(t=t.segments).length),n=0;n<u;n++){for(s=t[n].lines.length,a=this._addData(i,s),r=0;r<s;r+=2)a[r]=t[n].lines[r],this._checkX(a[r]),a[r+1]=t[n].lines[r+1],this._checkY(a[r+1]);h.push({lines:a,zValue:t[n].zValue})}return this.data=h,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){this.currentLine=0;var e,i,n,r,s,o,a,u=0,h=this.data.length,l=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var f=0,p=1;this.getFlip()&&(f=0,p=1);var d=this.getYAxis().getCurrentMin(),g=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),v=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;u<h;u++){for(this.currentLine="",l=0,0,s=(a=this.data[u].lines).length;l<s;l+=4){a[l+f]<g&&a[l+2+f]<g||a[l+p]<d&&a[l+2+p]<d||a[l+p]>v&&a[l+2+p]>v||a[l+f]>y&&a[l+2+f]>y||(n=this.getX(a[l+f]),r=this.getY(a[l+p]),e=this.getX(a[l+2+f]),i=this.getY(a[l+2+p]),e==n&&i==r||(this.currentLine+="M ",this.currentLine+=n,this.currentLine+=" ",this.currentLine+=r,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++,e,i,0))}this.currentLine+=" z",(o=this._createLine()).setAttribute("data-zvalue",this.data[u].zValue),this.zValues[this.data[u].zValue]={dom:o},this.minZ=Math.min(this.minZ,this.data[u].zValue),this.maxZ=Math.max(this.maxZ,this.data[u].zValue)}for(u++,u=this.currentLine+1;u<this.lines.length;u++)this.groupLines.removeChild(this.lines[u]),this.lines.splice(u,1);for(u=0;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(t,e,i,n){t/=250,void 0!==i?(n||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),n&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0);for(var r in this.zValues)this.zValues[r].dom.setAttribute("display",r>=0&&r>=this.positiveThreshold||r<=0&&r<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"setDynamicColor",value:function(t){this.lineColors=t,this.styleHasChanged()}},{key:"setNegative",value:function(t){this.options.hasNegative=t,t&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(t,e,i,n){if(this.lineColors){var r={h:0,s:0,l:0};for(var o in r)r[o]=e>0?this.lineColors.fromPositive[o]+(this.lineColors.toPositive[o]-this.lineColors.fromPositive[o])*(e/n):this.lineColors.fromNegative[o]+(this.lineColors.toNegative[o]-this.lineColors.fromNegative[o])*(e/i);r.h/=360;var a=s.hslToRgb(r.h,r.s,r.l);t.setAttribute("stroke","rgb("+a.join()+")")}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(t){this._shapeZoom=t}}]),e}();e.default=u,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var n=this.serie.searchClosestValue(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!n)return;this.resizingPosition.x!=n.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=n.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),n=Math.min(t.x,e.x);if(i<2||n+i<0||n>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var r,s,o,a,u,h,l,c=this.serie.searchClosestValue(this.getPosition(0).x),f=this.serie.searchClosestValue(this.getPosition(1).x),p=0,d=Number.MAX_VALUE;if(!c||!f)return!1;for(c.xBeforeIndex>f.xBeforeIndex&&(r=c,c=f,f=r),this.counter=0,s=c.dataIndex;s<=f.dataIndex;s++){for(this.currentLine="",h=0,(a=s==c.dataIndex?c.xBeforeIndexArr:0)==(u=s==f.dataIndex?f.xBeforeIndexArr:this.serie.data[s].length)&&u++,o=a;o<=u;o+=2)n=this.serie.getX(this.serie.data[s][o+0]),l=this.serie.getY(this.serie.data[s][o+1]),p=Math.max(this.serie.data[s][o+1],p),d=Math.min(this.serie.data[s][o+1],d),o==a&&(this.firstX=n,this.firstY=l),this.currentLine+=h>0?" L "+n+" "+l+" ":" M "+n+" "+l+" ",h++;if(this.lastX=n,this.lastY=l,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V "+this.getYAxis().getPx(0)+" H "+this.firstX+" z",this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(p),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(97)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow"+this.graph._creation+")"),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0==this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this.setProp("pxPoints",t),this}},{key:"applyPosition",value:function(){var t=void 0,e=this.computePosition(0);if(t=this.getProp("pxPoints"))t=" M "+e.x+" "+e.y+" "+t,this.setDom("d",t);else if(this.points){var i,n;this.serie?(i=this.serie.getXAxis(),n=this.serie.getYAxis()):this.xAxis&&this.yAxis&&(i=this.xAxis,n=this.yAxis),this.setDom("d","M "+this.points.map(function(t){return i.getPx(t[0])+", "+n.getPx(t[1])}).join(" L "))}return this.changed(),!0}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25),i(54)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=r(i),o=(r(n),function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()),a=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.nbHandles=2,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("pointer-events","stroke")}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(t,e){return t&&!e||!t&&e}},{key:"applyPosition",value:function(){var t=void 0,e=void 0,i=void 0,n=void 0,r=this.getAxis(),s=[],o="",a=this.getProp("baseLine",0)||300,u=void 0;if(!this.serie)throw"No serie exists for this shape";var h=this.getPosition(0),l=this.getPosition(1);if(h.x<this.serie.getXAxis().getCurrentMin()&&l.x<this.serie.getXAxis().getCurrentMin()||h.x>this.serie.getXAxis().getCurrentMax()&&l.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this.emptyLabels(),!1;this.showLabel(0);var c=0,f=void 0,p=this.serie.getWaveform();if(p){var d=p.getIndexFromX(h[r],!0,Math.floor),g=p.getIndexFromX(l[r],!0,Math.ceil),y=void 0,v=!1;d==g&&("aggregate"==p.getReductionType()?g+=4:g++),g<d&&(y=d,d=g,g=y,v=!0);var m=void 0,x=void 0,b=void 0,k=(p.getDataInUse(),void 0),A=void 0;for("aggregate"==p.getReductionType()&&!1,p.getXMonotoneousAscending()||(p.getXMonotoneousAscending(),!1)?(f=g,k=!0,A=-1):(f=d,k=!1,A=1);k?f>=d:f<=g;f+=A)i=p.getX(f,!0),n=p.getY(f,!0),t=this.serie.getX(i),e=this.serie.getY(n),c+=p.getY(f,!0),m||(m=t,x=e,p.getX(f),p.getY(f)),void 0!=b?(b=t,e,s.push([t,e,c]),i):(b=t,e,p.getX(f),p.getY(f));!1,!1,b=!1,!1,0==c&&(c=1),this._sumVal=p.integrate(h.x,l.x),u=this.ratio?this.ratio*(this.sumVal/c):200/c;var M=void 0;if(0!=s.length){for(var w=0,S=s.length;w<S;w++){if(M=a-s[w][2]*u,w>0&&(s[w-1][2]>c/2&&s[w][2]<=c/2||s[w-1][2]<c/2&&s[w][2]>=c/2)){var _=a-(s[w-1][2]+s[w][2])/2*u;this.setPosition({x:s[w][0]+"px",y:_+"px"},3),this.setLabelPosition(this.getPosition(3),0)}o+=" L "+s[w][0]+", "+M+" ",this.lastPointX=s[w][0],this.lastPointY=M}return this.points=s,this._sum=c,o=this.serie.isFlipped()?" M "+a+", "+m+" "+o:" M "+m+", "+a+" "+o,this.firstPointX=m,this.firstPointY=a,this.setDom("d",o),this.firstX=m,this.firstY=x,this.ratioLabel&&this.updateIntegralValue(this.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==A,v),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ratioLabel;t&&(this.ratioLabel=t),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels()}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){void 0!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(t){this._ratio=t},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}]),e}();e.default=a,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(132)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.nbHandles=4,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),this._dom.element=this,this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.nbHandles=1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -"+this.width/2+" 0 h "+this.width+" m -"+this.width/2+" -"+this.width/2+" v "+this.width)}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform","translate( "+t.x+", "+t.y+")"),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(t){return this.moving=!0,!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){if(!this.isLocked()){var s=this.getFromData("pos");return this.moving&&(s.x=this.graph.deltaPosition(s.x,e,this.getXAxis()),s.y=this.graph.deltaPosition(s.y,i,this.getYAxis())),this.redrawImpl(),!0}}},{key:"createHandles",value:function(){this._createHandles(1,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(t){this.options.width=t}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(97)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.lineHeight=6,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var n=this.lineHeight;this.rectBoundary.setAttribute("d","M "+t.x+" "+(this.posYPx-n)+" v "+2*n+" H "+e.x+" v "+-2*n+"z"),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(n)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(t){return this.posYPx=t,this}},{key:"setLineHeight",value:function(t){this.lineHeihgt=t}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){var n=this.getPosition(0),r=this.getPosition(1),s=this.getPosition(2);switch(this.handleSelected){case 1:n.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))&&(s.x=n.x+.1*(r.x-n.x));break;case 2:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))&&(s.x=r.x+.1*(n.x-r.x));break;case 3:if(s.deltaPosition("x",e,this.getXAxis()),Math.abs(s.x-r.x)>Math.abs(r.x-n.x)||Math.abs(s.x-n.x)>Math.abs(r.x-n.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:s.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var t=document.createElement("div");this._dom.appendChild(t),this.div=t}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(t){this.setProp("height",t)}},{key:"setWidth",value:function(t){this.setProp("width",t)}},{key:"setContent",value:function(t){this.setProp("content",t)}},{key:"setRenderer",value:function(t){this._renderer=t}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&(0,i.isNumeric)(t.x)&&(0,i.isNumeric)(t.y))return this._dom.style.left=t.x+"px",this._dom.style.top=t.y+"px",this.currentPosX=t.x,this.currentPosY=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){return!0}},{key:"setHandles",value:function(){this.areHandlesInDom()&&isNaN(this.currentPos1x)}},{key:"isHTML",value:function(){return!0}}]),e}();e.default=o,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"init",value:function(t){this.graph=t,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(t,e,i,n,r){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,this.moved=!1,!0}},{key:"onMouseMove",value:function(t,e,i,n,r){var s=e-this._draggingX,o=i-this._draggingY;this.options.dragX&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-s)),t.setCurrentMax(t.getVal(t.getMaxPx()-s))},!1,!0,!1),this.options.dragY&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}},{key:"onMouseUp",value:function(t,e,i,n,r){var s=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/s,this.speedY=(i-this._lastDraggingY)/s,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes(function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}},{key:"_persistanceMove",value:function(t){var e=this;e.stopAnimation?e.emit("dragged"):window.requestAnimationFrame(function(){var i=Date.now()-e.time,n=(.5*e.accelerationX*i+e.speedX)*i,r=(.5*e.accelerationY*i+e.speedY)*i;e.options.persistanceX&&t._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(n)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(n)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!0,!1),e.options.persistanceY&&t._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(r)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(r)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!1,!0),t.draw(),i<e.totaltime?(e.emit("dragging"),e._persistanceMove(t)):e.emit("dragged")})}}],[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(26),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(n),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"init",value:function(t,i){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.shapeType=i.type}},{key:"setShape",value:function(t){this.shapeInfo.shapeType=t}},{key:"onMouseDown",value:function(t,e,i,n,r){var o=this;if(this.shapeType||this.options.url){var a,u,h=this;this.count=this.count||0,e-=t.getPaddingLeft(),i-=t.getPaddingTop();var l={position:[{x:a=t.getXAxis().getVal(e),y:u=t.getYAxis().getVal(i)},{x:a,y:u}],onChange:function(e){t.triggerEvent("onAnnotationChange",e)},locked:!1,selectable:!0,resizable:!0,movable:!0},c=this.options.properties;if(s.extend(!0,l,this.options),this.emit("beforeNewShape",n,l),!this.graph.prevent(!1)){var f=t.newShape(l.type,l,!1,c);this.emit("createdShape",n,f),f&&(h.currentShape=f,h.currentShapeEvent=n),t.once("mouseUp",function(){console.log(o.currentShape),o.currentShape||h.emit("newShape",n,f)})}}}},{key:"onMouseMove",value:function(t,e,i,n){if(this.currentShape){console.log("mv"),this.count++;var r=this.currentShape;this.currentShape=!1,t.selectedSerie&&!r.serie&&r.setSerie(t.selectedSerie),r.resizing=!0,r.options&&r.options.onCreate&&r.options.onCreate.call(r),r.draw(),t.selectShape(r),r.handleMouseDown(this.currentShapeEvent,!0),r.handleSelected=this.options.handleSelected||1,r.handleMouseMove(n,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=a,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i),s=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"init",value:function(t,e){this._path=document.createElementNS(t.ns,"path"),r.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),this.graph=t,t.dom.appendChild(this._path)}},{key:"setSerie",value:function(t){this.serie=t}},{key:"onMouseDown",value:function(t,e,i,n,r){this.serie&&(this.path="M "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs=[this.serie.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[this.serie.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block"))}},{key:"onMouseMove",value:function(t,e,i,n,r){Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)>25&&(this.path+=" L "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs.push(this.serie.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(this.serie.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d",this.path+" z"),this.findPoints())}},{key:"findPoints",value:function(){for(var t,e=this.serie.waveform,i=[],n=0,r=0,s=e.getLength();r<s;r+=1){n=0;for(var o=0,a=this.xs.length;o<a;o+=1)t=o==a-1?0:o+1,(this.ys[o]<e.getY(r)&&this.ys[t]>e.getY(r)||this.ys[o]>e.getY(r)&&this.ys[t]<e.getY(r))&&e.getX(r)>(e.getY(r)-this.ys[o])/(this.ys[t]-this.ys[o])*(this.xs[t]-this.xs[o])+this.xs[o]&&n++;n%2==1?(i.push(r),this.serie.selectPoint(r,!0,"selected")):this.serie.unselectPoint(r)}this.selected=i,this.emit("selectionProcess",i)}},{key:"onMouseUp",value:function(t,e,i,n){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=a,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i),s=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"init",value:function(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),r.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),this.graph=t,t.groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(t,e,i,n,r){var s=this.options.zoomMode;if(s){switch(this._zoomingMode=s,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!r&&this.options.onZoomStart(t,e,i,n,r)}}},{key:"onMouseMove",value:function(t,e,i,n,r){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!r&&this.options.onZoomMove(t,e,i,n,r)}},{key:"onMouseUp",value:function(t,e,i,n,r){var s=this;this.removeZone();var o=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:n,mute:r}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var u=!1,h=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o),t.getVal(s.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o),t.getVal(s.x1))},!1,!0,!1),u=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(s.y1))},!1,!1,!0),h=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(s.y2),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(s.y2),t.getVal(s.y1))},!1,!1,!0),h=!0),this.transition(u,h,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(t,e,i,n,r){r||(r={}),r.baseline||(r.baseline=0);var s=r.baseline;"mousePosition"==r.baseline&&(s=this.graph.getYAxis().getVal(n),console.log(s));var o="x"==r.direction,a=!("y"!==r.direction);this.toAxes("handleMouseWheel",[t,e,s],o,a),this.graph.drawSeries()}},{key:"onDblClick",value:function(t,e,i,n,r){var s=this.graph;if(this.emit("beforeDblClick",{graph:s,x:t,y:e,pref:n,e:i,mute:r}),!s.prevent(!1)){if(this.options.transition||this.options.smooth){var o=!1,a=!1;"xtotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!0,!1),o=!0),"ytotal"!=n.mode&&"total"!=n.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!1,!0),a=!0);var u=void 0,h=void 0;return"gradualX"!=n.mode&&"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(u=!1,h=!1,"gradualX"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(u=!0,o=!0),"gradualY"!=n.mode&&"gradual"!=n.mode&&"gradualXY"!=n.mode||(h=!0,a=!0),this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())},!1,u,h)),void this.transition(o,a,"dblClick")}var l=this.graph.getXAxis(),c=this.graph.getYAxis();if("xtotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==n.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var f=l.getCurrentMin(),p=l.getCurrentMax(),d=l.getVal(t),g=p-f,y=c.getCurrentMin(),v=c.getCurrentMax(),m=c.getVal(e),x=v-y;if("gradualXY"==n.mode||"gradualX"==n.mode){b=(d-f)/(p-f);f=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,f-g*b),p=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,p+g*(1-b)),l.setCurrentMin(f),l.setCurrentMax(p),l.options.onZoom&&l.options.onZoom(f,p),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval()}if("gradualXY"==n.mode||"gradualY"==n.mode){var b=(m-y)/(v-y);y=Math.max(c.getMinValue()-c.getInterval()*c.options.axisDataSpacing.min,y-x*b),v=Math.min(c.getMaxValue()+c.getInterval()*c.options.axisDataSpacing.max,v+x*(1-b)),c.setCurrentMin(y),c.setCurrentMax(v),c.options.onZoom&&c.options.onZoom(y,v),c.cacheCurrentMin(),c.cacheCurrentMax(),c.cacheInterval()}}s.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(t,e,i){var n=this;n.gradualUnzoomStart||(n.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var r=Date.now()-n.gradualUnzoomStart;r>500&&(r=500);var s=Math.sin(r/500*Math.PI/2);n.toAxes(function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*s),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*s),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,t,e),n.graph.draw(),r<500?(n.transition(t,e,i),n.emit("zooming")):(n.emit("zoomed"),n.graph.pluginYieldActiveState(),i&&n.emit(i),n.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(t,e,i,n){var r=this.options.axes;switch(r&&("serieSelected"!=r||this.graph.getSelectedSerie())||(r="all"),r){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var s=this.graph.getSelectedSerie();s&&(i&&("string"==typeof t?s.getXAxis()[t].apply(s.getXAxis(),e):t.apply(s.getXAxis(),e)),n&&("string"==typeof t?s.getYAxis()[t].apply(s.getYAxis(),e):t.apply(s.getYAxis(),e)));break;default:Array.isArray(r)||(r=[r]);var o=!0,a=!1,u=void 0;try{for(var h,l=r[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var c=h.value;c.isX()&&i?"string"==typeof t?c[t].apply(c,e):t.apply(c,e):c.isY()&&n&&("string"==typeof t?c[t].apply(c,e):t.apply(c,e))}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}}}}],[{key:"default",value:function(){return{axes:"all"}}}]),e}();e.default=a,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(344),i(26),i(4)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(i),u=o(n),h=o(r),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.series=[],t.plugins=[],t.currentSlots={},t.requestLevels=new Map,t.update=function(e,i){t.series.forEach(function(t){this.updateSerie(t,e)}),e||t.recalculateSeries(i)},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),c(e,[{key:"init",value:function(t,e){this.graph=t,u.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(t){return this.options.url=t,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(t,e,i,n,r){var s=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},s.on("hide",function(){s._zoneSerie&&s._zoneSerie.hide()}),s.on("show",function(){s._zoneSerie&&s._zoneSerie.show()}),s.setInfo("timeSerieManagerDBElements",n),r||(s._zoneSerie=this.graph.newSerie(t+"_zone",{},a.default.SERIE_ZONE)),this.series.push(s),s}},{key:"registerPlugin",value:function(t,e){if(this.plugins.indexOf(t)>-1)for(i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(var i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}},{key:"updateSerie",value:function(t,e){var i,n=this,r=t.getXAxis().getCurrentMin(),s=t.getXAxis().getCurrentMax(),o=this.getOptimalInterval(s-r),a=this.options.intervals.indexOf(o);this.cleanRegister(a);for(var u=a;u<=a+1;u++){i=this.options.intervals[u];var h=n.computeSlotID(r,i),l=n.computeSlotID(s,i);[[2,5,6],[1,2,4],[0,1,3]].forEach(function(r){for(var s=h-r[0]*(l-h),a=l+r[0]*(l-h),u=s;u<=a&&!(n.computeTimeMin(u,i)>Date.now());)n.register(t,u,i,i==o?r[1]:r[2],!0,e),u++})}this.processRequests()}},{key:"cleanRegister",value:function(t){this.requestLevels&&this.requestLevels.forEach(function(e){e.forEach(function(i,n){i[4]<t&&e.splice(n,1)})})}},{key:"register",value:function(t,e,i,n,r,s){var o=this.computeUniqueID(t,e,i),a=u.default.get(this.options.LRUName,o);(!a||this.computeTimeMax(e,i)>Date.now()&&a.timeout<Date.now()-(s?5e3:1e5)&&1==n)&&this.request(t,e,i,n,o,r)}},{key:"request",value:function(t,e,i,n,r,s){for(var o in this.requestLevels)o!=n&&this.requestLevels[o][r]&&(1!==this.requestLevels[o][r][0]?delete this.requestLevels[o][r]:this.requestLevels[o][r][5]=n);this.requestLevels[n]&&this.requestLevels[n][r]||(this.requestLevels[n]=this.requestLevels[n]||{},this.requestLevels[n][r]=[0,r,t.getName(),e,i,n,t.getInfo("timeSerieManagerDBElements")],s||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var t,e=this,i=1;;){for(var n in this.requestLevels[i])if(1!=this.requestLevels[i][n][0]){t=this.requestLevels[i][n];break}if(t)break;if(++i>10)return}this.requestsRunning++,t&&(t[0]=1,l.ajaxGet({url:this.getURL(t),method:"GET",json:!0}).done(function(r){1==r.status&&(e.requestsRunning--,delete e.requestLevels[i][n],u.default.store(e.options.LRUName,t[1],r.data),e.processRequests(),1==t[5]&&0==Object.keys(e.requestLevels[1]).length&&e.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(t,e){return(t+1)*(e*this.options.nbPoints)}},{key:"computeTimeMin",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getURL",value:function(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var n in i)e=e.replace("<"+n+">",i[n]);return e}},{key:"getOptimalInterval",value:function(t){var e,i=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),n=1/0;return this.options.intervals.forEach(function(t){var r=Math.min(n,Math.abs(t-i));n!==r&&(e=t,n=r)}),e||1e3}},{key:"computeUniqueID",value:function(t,e,i){var n="",r=t.getInfo("timeSerieManagerDBElements");for(var s in r)n+=";"+s+":"+r[s];return t.getName()+";"+e+";"+i+n}},{key:"computeSlotID",value:function(t,e){return Math.floor(t/(e*this.options.nbPoints))}},{key:"computeSlotTime",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getZoneSerie",value:function(t){return t._zoneSerie}},{key:"updateZoneSerie",value:function(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(t){var e=this;this.locked||(this.changed=!1,this.series.map(function(i){e.recalculateSerie(i,t)}),this.changed=!1,e.graph.draw())}},{key:"recalculateSerie",value:function(t,e){var i=t.getXAxis().getCurrentMin(),n=t.getXAxis().getCurrentMax(),r=this.getOptimalInterval(n-i),s=this.computeSlotID(i,r),o=this.computeSlotID(n,r),a=[],h=[];if(!(!e&&r==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=s&&this.currentSlots[t.getName()].max>=o)){s-=2,o+=2,this.currentSlots[t.getName()].min=s,this.currentSlots[t.getName()].max=o,this.currentSlots[t.getName()].interval=r;for(var l=s;l<=o;){var c=u.default.get(this.options.LRUName,this.computeUniqueID(t,l,r));c?(a=a.concat(c.data.mean),h=h.concat(c.data.minmax)):this.recalculateSerieUpwards(t,l,r,a,h),l++}this.changed=!0,t.setData(a),t._zoneSerie&&t._zoneSerie.setData(h)}}},{key:"setIntervalCheck",value:function(t){var e=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){e.update(!0,!1)},t)}},{key:"recalculateSerieUpwards",value:function(t,e,i,n,r){var s=this.options.intervals.slice(0);s.sort();var o=s[s.indexOf(i)+1]||-1;if(o<0)return[];var a=this.computeSlotTime(e,i),h=this.computeSlotTime(e+1,i),l=this.computeSlotID(a,o),c=!1,f=u.default.get(this.options.LRUName,this.computeUniqueID(t,l,o));if(f)for(var p=0,d=f.data.mean.length;p<d;p+=2)if(!(f.data.mean[p]<a)&&(!1===c&&(c=p),f.data.mean[p]>=h))return n=n.concat(f.data.mean.slice(c,p)),void(r=n.concat(f.data.minmax.slice(c,p)));return this.recalculateSerieUpwards(t,l,o,n,r)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}],[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}]),e}();e.default=f,t.exports=e.default})},function(t,e,i){var n,r,s;!function(i,o){r=[e],void 0!==(s="function"==typeof(n=o)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t){"use strict";function e(t,e){var i,s;if(n[t]&&n[t][e])return s=r[t],i=n[t][e],i.prev=s,i.next=s.next,s.next.prev=i,s.next=i,r[t]=i,i.data}function i(t,i){var n;if(void 0!=(n=e(t,i)))return n}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(t,e){!function(t,e){e=e||50,n[t]||(n[t]={},s[t]=0),o[t]=e}(t,e)},t.get=i,t.store=function(t,i,a){return function(t,i,a){var u,h,l;n[t]&&void 0!==s[t]&&o[t]&&(l=r[t],n[t][i]?(e(t,i),n[t][i].data.data=a,n[t][i].data.timeout=Date.now()):(u={data:{data:a,timeout:Date.now()}},void 0===l?(u.prev=u,u.next=u):(u.prev=l.prev,u.next=l.next,l.next.prev=u,l.next=u),r[t]=u,n[t][i]=u,s[t]++),s[t]>o[t]&&l&&(h=l.next,l.next.next.prev=l,l.next=l.next.next,h.next.next=void 0,h.next.prev=void 0,s[t]--))}(t,i,a),a},t.empty=function(t){emptyMemory(t)},t.exist=function(t){return n[t]};var n={},r={},s={},o={};t.default=i})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),r(e,[{key:"init",value:function(t,e){this.graph=t,this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(t,e){this.serie1=t,this.serie2=e}},{key:"setBoundaries",value:function(t,e){this.options.from=t,this.options.to=e}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){function t(){!0===g?l.pathsPositive.push([f,p]):!1===g&&l.pathsNegative.push([f,p]),f=[],p=[],g=void 0}function e(t,e){for(i=0;i<e[0].length;i+=2)0==i&&(t+="M "),t+=" "+Math.round(l.serie1.getXAxis().getPx(e[0][i]))+", "+Math.round(l.serie1.getYAxis().getPx(e[0][i+1])),i<e[0].length-2&&(t+=" L ");for(var i=e[1].length-2;i>=0;i-=2)t+=" L "+Math.round(l.serie2.getXAxis().getPx(e[1][i]))+", "+Math.round(l.serie2.getYAxis().getPx(e[1][i+1])),0==i&&(t+=" z ");return t}var i,n,r,s,o,a,u,h,l=this,c=this.serie1.searchClosestValue(this.getFrom()),f=[],p=[];c?(i=c.dataIndex,n=2*c.xAfterIndex):(i=0,n=0),o=this.interpolate(this.serie1,this.getFrom()),f.push(this.getFrom()),f.push(o),o=this.interpolate(this.serie2,this.getFrom()),p.push(this.getFrom()),p.push(o);for(var d,g,y;i<this.serie1.data.length;i++){for(;n<this.serie1.data[i].length;n+=2){if(this.serie1.data[i][n]>this.getTo()){o=this.interpolate(this.serie1,this.getTo()),a=this.interpolate(this.serie2,this.getTo()),(u=this.computeCrossing(f[f.length-2],f[f.length-1],this.getTo(),o,p[p.length-2],p[p.length-1],this.getTo(),a))&&(f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),t(),f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),g=this.serie1.data[i][n+1]>this.serie2.data[r][s+1]),f.push(this.getTo()),f.push(o),p.push(this.getTo()),p.push(a),y=!0;break}if(!d){if(!(d=this.serie2.searchClosestValue(this.serie1.data[i][n])))continue;r=d.dataIndex,s=2*d.xBeforeIndex,o=this.interpolate(this.serie2,this.serie1.data[i][n]),f.push(this.serie1.data[i][n]),f.push(this.serie1.data[i][n+1]),p.push(this.serie1.data[i][n]),p.push(o),g=this.serie1.data[i][n+1]>o}for(h=!1,(u=this.computeCrossing(f[f.length-2],f[f.length-1],this.serie1.data[i][n],this.serie1.data[i][n+1],p[p.length-2],p[p.length-1],this.serie2.data[r][s],this.serie2.data[r][s+1]))&&(f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),t(),f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),g=this.serie1.data[i][n+1]>this.serie2.data[r][s+1]);this.serie2.data[r][s]<this.serie1.data[i][n];){if(p.push(this.serie2.data[r][s]),p.push(this.serie2.data[r][s+1]),(s+=2)==this.serie2.data[r].length){h=this.serie2.data[r][s-2],r++,s=0;break}(u=this.computeCrossing(f[f.length-2],f[f.length-1],this.serie1.data[i][n],this.serie1.data[i][n+1],p[p.length-2],p[p.length-1],this.serie2.data[r][s],this.serie2.data[r][s+1]))&&(f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),t(),f.push(u.x),f.push(u.y),p.push(u.x),p.push(u.y),g=this.serie1.data[i][n+1]>this.serie2.data[r][s+1])}!1===h?(f.push(this.serie1.data[i][n]),f.push(this.serie1.data[i][n+1])):(f.push(h),f.push(this.interpolate(this.serie1,h)),d=!1,n-=2,t())}if(y){t();break}(o=this.interpolate(this.serie2,f[f.length-2]))&&(p.push(f[f.length-2]),p.push(o)),t(),n=0,d=!1}v=this.pathsPositive.reduce(e,"");this.positivePolyline.setPointsPx(v).redraw();var v=this.pathsNegative.reduce(e,"");this.negativePolyline.setPointsPx(v).redraw()}},{key:"interpolate",value:function(t,e){var i=t.searchClosestValue(e);if(!i)return!1;if(void 0==i.xMax)return i.yMin;if(void 0==i.xMin)return i.yMax;var n=(e-i.xMin)/(i.xMax-i.xMin);return(1-n)*i.yMin+n*i.yMax}},{key:"computeCrossing",value:function(t,e,i,n,r,s,o,a){var u=(n-e)/(i-t),h=(a-s)/(o-r),l=n-u*i,c=a-h*o;if(t==i||r==o)return!1;if(u==h)return{x:t,y1:e,y2:e};var f=(l-c)/(h-u);return!(f>i||f<t||f<r||f>o)&&{x:f,y:u*f+l}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}],[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}]),e}();e.default=s,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(43),i(96),i(128),i(4),i(50),i(130),i(26),i(68)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n,r,s,o,a,u,h){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var d=l(i),g=l(n),y=l(r),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),m=l(o),x=l(a),b=l(u),k=(l(h),function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()),A=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},M=function(t){function e(){c(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return p(e,m.default),k(e,[{key:"setData",value:function(){var t=this;return A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(e){e.data=t.data}),this}},{key:"draw",value:function(){return this.eraseMarkers(),this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),w=function(t){function e(){c(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return p(e,x.default),k(e,[{key:"setData",value:function(){var t=this;return A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).apply(this,arguments),this.subSeries.map(function(e){e.data=t.data}),this}},{key:"draw",value:function(){return this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),S=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","showMarkers","hideMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","eraseMarkers","_recalculateMarkerPoints"];Object.getOwnPropertyNames(m.default.prototype).concat([]).map(function(t){S.indexOf(t)>-1||(M.prototype[t]=function(t){return function(){var e=arguments;this.subSeries.map(function(i){i[t].apply(i,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))})}}(t))});var _=function(t){function e(t){c(this,e);var i=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.series=new Map,i}return p(e,b.default),k(e,[{key:"init",value:function(t){this.graph=t}},{key:"newXAxis",value:function(t){return newBottomAxis(t)}},{key:"newYAxis",value:function(t){return newLeftAxis(t)}},{key:"newTopAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"top",t)}},{key:"newBottomAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"bottom",t)}},{key:"newLeftAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"left",t)}},{key:"newRightAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"right",t)}},{key:"getOptions",value:function(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return v.extend(!0,e,t)}},{key:"preDraw",value:function(){var t,e,i=this;this.series.forEach(function(n){var r=n.serie;t=r.getXAxis(),e=r.getYAxis();var s=1;for(t.splitNumber&&(s*=t.splitNumber),e.splitNumber&&(s*=e.splitNumber);r.subSeries.length<s;){var o=r.getName()+"_"+r.subSeries.length,a=i.graph.newSerie(o,{},r.getType()||d.default.SERIE_LINE);a.excludedFromLegend=!0,a.styles=r.styles,a.data=r.data,r.getType()==d.default.SERIE_LINE&&(a.markerPoints=r.markerPoints,a.markerFamilies=r.markerFamilies),r.subSeries.push(a)}for(;r.subSeries.length>s;){var u=i.graph.getSerie(r.getName()+"_"+(r.subSeries.length-1));u&&u.kill&&u.kill(),r.subSeries.pop()}!r.getXAxis().splitNumber&&r.getXAxis().splitAxis&&r.getXAxis().splitAxis(),!r.getYAxis().splitNumber&&r.getYAxis().splitAxis&&r.getYAxis().splitAxis(),r.subSeries.map(function(e,i){var n,s;if(r.getXAxis().getSubAxis){var o=i%(t.splitNumber||1);n=r.getXAxis().getSubAxis(o)}else n=r.getXAxis();if(e.setXAxis(n),r.getYAxis().getSubAxis){var a=Math.floor(i/(t.splitNumber||1));s=r.getYAxis().getSubAxis(a)}else s=r.getYAxis();e.setYAxis(s),e.draw(!0)})})}},{key:"newSerie",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];switch(i){case"line":return newLineSerie(t,e);case"scatter":return newScatterSerie(t,e)}throw"Cannot create a split serie of type "+i}},{key:"newLineSerie",value:function(t,e){var i={type:"lineSerie",serie:new M(t,e,"line")};return this.series.set(t,i),i.serie.init(this.graph,t,e),this.graph.series.push(i.serie),i.serie}},{key:"newScatterSerie",value:function(t,e){var i={type:"scatterSerie",serie:new w(t,e,"scatter")};return this.series.set(t,i),i.serie.init(this.graph,e),this.graph.series.push(i.serie),i.serie}}],[{key:"defaults",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),e}(),P={splitMarks:!0},C=function(t){var e=function(e){function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,i);var r=f(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e,n));return r.axes=[],r.position=e,r.constructorOptions=v.extend(!0,{},P,n),r._splitVal=[],r}return p(i,t),k(i,[{key:"all",value:function(t){if("function"==typeof t)return this.axes.map(t),this}},{key:"splitAxis",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(1);for(var n=e.length;this.axes.length>n;)this.axes.pop().kill(!0,!0);for(;this.axes.length<n;){var r=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(r),r.zoomLock=!0,r.init(this.graph,this.constructorOptions)}var s=0,o=0,a=!0,u=!1,h=void 0;try{for(var l,c=this.axes[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;f.options.marginMin=10,f.options.marginMax=10,0==o&&(f.options.marginMin=0),o==this.axes.length-1&&(f.options.marginMax=0),f.setSpan(s,s=e[o]),f.setMinMaxFlipped(),o++}}catch(t){u=!0,h=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return this._splits=e,this}},{key:"fixGridIntervalBasedOnAxis",value:function(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(t){return this.autoSpread=!!t,this}},{key:"hasAxis",value:function(t){return this.axes.indexOf(t)>-1}},{key:"_splitSpread",value:function(){var t=[],e=0,i=0,n=!0,r=!1,s=void 0;try{for(var o,a=this._splitVal[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;e+=u[1]-u[0]}}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}var h=!0,l=!1,c=void 0;try{for(var f,p=this._splitVal[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;t.push(i+=(d[1]-d[0])/e)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}t.pop(),this.splitAxis.apply(this,t)}},{key:"setChunkBoundaries",value:function(t){var e=0,i=void 0,n=void 0,r=!0,s=!1,o=void 0;try{for(var a,u=this.axes[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var h=a.value;Array.isArray(t[e])&&t[e].length>1&&!i&&(i=t[e][1]-t[e][0],n=e),1!=t[e].length&&Array.isArray(t[e])?h.forceMin(t[e][0]).forceMax(t[e][1]):(h._mean=t[e],Array.isArray(h._mean)&&(h._mean=h._mean[0])),e++}}catch(t){s=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw o}}return this._baseWidthVal=i,this._baseWidthIndex=n,this._splitVal=t,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(A(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var t=this;this.autoSpread&&this._splitSpread();var e=0,i=void 0,n=void 0,r=void 0;if(this._baseWidthIndex>=0&&(n=this.getSubAxis(this._baseWidthIndex))&&(r=n.getSpan()),n=void 0,this.fixGridFor>=0&&(n=this.getSubAxis(this.fixGridFor))){if(void 0!==n._mean){var s=(n.getSpan()[1]-n.getSpan()[0])/(r[1]-r[0])*this._baseWidthVal;n.forceMin(n._mean-s/2),n.forceMax(n._mean+s/2)}e=n.draw(),i=n.getPrimaryTickUnit()}return this.axes.map(function(s){if(n!==s){if(void 0!==s._mean){var o=(s.getSpan()[1]-s.getSpan()[0])/(r[1]-r[0])*t._baseWidthVal;s.forceMin(s._mean-o/2),s.forceMax(s._mean+o/2)}i&&s.forcePrimaryTickUnit(i),e=Math.max(e,s.draw())}}),this.writeUnit(),e}},{key:"setMinPx",value:function(t){A(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMinPx",this).call(this,t);var e=!0,n=!1,r=void 0;try{for(var s,o=this.axes[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.setMinPx(t)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"setMaxPx",value:function(t){A(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setMaxPx",this).call(this,t);var e=!0,n=!1,r=void 0;try{for(var s,o=this.axes[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){s.value.setMaxPx(t)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"setShift",value:function(){A(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"setShift",this).apply(this,arguments);var t=!0,e=!1,n=void 0;try{for(var r,s=this.axes[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var o=r.value;o.setShift.apply(o,arguments)}}catch(t){e=!0,n=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw n}}}},{key:"init",value:function(){A(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var t=0;return this.axes.map(function(e){t=Math.max(t,e.getAxisPosition())}),t}},{key:"getSubAxis",value:function(t){if(this.axes.length<=t)throw"Impossible to reach axis. Index "+t+" is out of range";return this.axes[t]}},{key:"splitNumber",get:function(){return this._splits.length}}]),i}();return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map(function(t){e.prototype[t]=function(t){return function(){var e=arguments;return this.axes.map(function(i){i[t].apply(i,e)}),this}}(t)}),e},O=function(t){function e(t,i,n){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return r.topbottom=i,r}return p(e,C(g.default)),k(e,[{key:"getConstructor",value:function(){return g.default}},{key:"getAxisPosition",value:function(){var t=A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"drawLabel",value:function(){A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var t=A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),t}}]),e}(),L=function(t){function e(t,i,n){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,C(y.default)),k(e,[{key:"getConstructor",value:function(){return y.default}},{key:"drawLabel",value:function(){A(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(t){var e=t;if(this.getLabel()&&this.axes.map(function(i){e=Math.max(i.equalizePosition(t),e)}),this.getLabel())return this.placeLabel(this.left?-e:e),e+this.graph.options.fontSize}}]),e}();v.mix(O,new g.default),v.mix(L,new y.default),e.default=_,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(i);var r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"init",value:function(t,i){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i)}},{key:"checkHSL",value:function(t){var e={},i=void 0,n=void 0,r=void 0;return(i=t.h||t.hue)?(i<1&&(i=Math.round(360*i)),e.hue=i):e.h=0,(n=t.s||t.saturation)?(n>1&&(n/=100),e.saturation=n):e.saturation=.75,(r=t.lightness||t.l)?(r>1&&(r/=100),e.lightness=r):e.lightness=.5,e}},{key:"buildHSLString",value:function(t){return"hsl( "+Math.round(t.h)+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%)"}},{key:"colorizeAll",value:function(t){var e=this,i=void 0,n=void 0;if(t.serieTypes){var r;Array.isArray(t.serieTypes)||(t.serieTypes=[t.serieTypes]),i=(r=this.graph).allSeries.apply(r,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.serieTypes))}else i=this.graph.getSeries();if(n=i.length,!t.startingColorHSL){if(!t.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";t.startingColorHSL=this.checkHSL(t.colorHSL)}if(t.endingColorHSL)t.endingColorHSL=Object.assign({},t.startingColorHSL,t.endingColorHSL);else switch(t.affect&&["h","s","l","hue","saturation","lightness"].include(t.affect)||(t.affect="h"),t.affect){case"h":case"hue":t.endingColorHSL={h:t.startingColorHSL.h+300,s:t.startingColorHSL.s,l:t.startingColorHSL.l};break;case"saturation":case"s":var s=void 0;s=t.startingColorHSL.s>.5?0:1,t.endingColorHSL={h:t.startingColorHSL.h,s:s,l:t.startingColorHSL.l};break;case"lightness":case"l":var o=void 0;o=t.startingColorHSL.l>.5?0:.75,t.endingColorHSL={h:t.startingColorHSL.h,s:t.startingColorHSL.s,l:o}}return i.map(function(i,r){if(!i.setLineColor)throw"The serie "+i.getName()+" does not implement the method `startingColor`";var s=e.buildHSLString({h:t.startingColorHSL.h+r/(n-1)*(t.endingColorHSL.h-t.startingColorHSL.h),s:t.startingColorHSL.s+r/(n-1)*(t.endingColorHSL.s-t.startingColorHSL.s),l:t.startingColorHSL.l+r/(n-1)*(t.endingColorHSL.l-t.startingColorHSL.l)});return i.setLineColor(s),s})}}],[{key:"default",value:function(){return{}}}]),e}();e.default=o,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(26)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(i);var r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"init",value:function(t,i){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t,i),this.picks=[];for(var n=0,r=this.options.autoPeakPickingNb;n<r;n++){var s=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});s.draw(),this.picks.push(s)}}},{key:"setSerie",value:function(t){this.serie=t}},{key:"serieRemoved",value:function(t){this.serie==t&&this.picks.map(function(t){t.kill()})}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var t=!0,e=!1,i=void 0,n=[],r=this.serie.getWaveform();if(!r)throw"The serie must have a waveform for the peak picking to work";for(var s=r.getLength(),o=0,a=void 0;o<s;o++)a=r.getY(o),this.serie.options.lineToZero?n.push([r.getX(o),a]):i?a>=i[1]&&t||a<=i[1]&&e?i=[r.getX(o),a]:(a<i[1]&&t||a>i[1]&&e)&&(e?(e=!1,t=!0):(e=!0,t=!1,n.push(i),i=!1),i=[r.getX(o),a]):i=[r.getX(o),a];var u,h,l,c,f=n,p=[],d=f.length;o=0;var g=this.graph.selectedShapes.map(function(t){return t.getProp("xval")});for(f.sort(function(t,e){return e[1]-t[1]}),c=0;o<d;o++)if(u=f[o][0],h=this.serie.getX(u),l=0,a=this.serie.getY(f[o][1]),!(h<this.serie.getXAxis().getMinPx()||h>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(a>this.serie.getYAxis().getMinPx()||a<this.serie.getYAxis().getMaxPx()))){for(;l<p.length&&!(Math.abs(p[l]-h)<this.options.autoPeakPickingMinDistance);l++);if(!(l<p.length))if(g.indexOf(u)>-1)p.push(h);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(f[o][1])-20<0?(this.picks[c].setLabelPosition({x:u,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:u,y:f[o][1],dy:"-15px"})),this.picks[c].setProp("xval",u),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],u,c)):this.picks[c].setLabelText(String(Math.round(1e3*u)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(p.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),graph.picks)for(var e=0;e<graph.picks.length;e++)graph.picks[e].hide()}},{key:"showPeakPicking",value:function(t){if((!this._hidePeakPickingLocked||t)&&graph.picks)for(var e=0;e<graph.picks.length;e++)graph.picks[e].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}}],[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}]),e}();e.default=o,t.exports=e.default})},function(t,e,i){var n,r,s;!function(o,a){r=[t,e,i(4),i(25)],void 0!==(s="function"==typeof(n=a)?n.apply(e,r):n)&&(t.exports=s)}(0,function(t,e,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}(i);var r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var t=this.computePosition(0);this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);var e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}},{key:"setR",value:function(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(t,e,i,n,r){}}]),e}();e.default=o,t.exports=e.default})}])});