'use strict';var colorSchemas={match:{init:function(){var b=this.opt.seqs,c=b.reduce((h,k)=>k.length>h?k.length:h,0);this.cons=Array(c);for(var f,d=0;d<c;d++){f='match';for(var g=1;g<b.length;g++)if(!('-'!==b[g][d])){f='gap';break}else if(!nuclMatch(b[0][d],b[g][d])){f='mismatch';break}this.cons[d]=f}},run:function(b,c){switch(this.cons[c.pos]){case'match':return'green';case'gap':return'orange';case'mismatch':return'red';default:return'white';}}}};define(['modules/default/defaultview','src/util/util','msa'],function(a,b,c){'use strict';function d(){}return $.extend(!0,d.prototype,a,{init:function(){this.dom||(this._id=b.getNextUniqueId(),this.dom=$('<div id="'+this._id+'"></div>').css('height','100%').css('width','100%'),this.module.getDomContent().html(this.dom)),this.resolveReady()},update:{sequences:function(g){this.sequences=g,this.render()}},blank:{sequences:function(){this.clear()}},render:function(){if(this.sequences){this.clear();var g={el:this.dom[0],vis:{conserv:!1,overviewbox:!1},zoomer:{alignmentHeight:405,labelWidth:110,labelFontsize:'13px',labelIdLength:50},seqs:this.sequences};try{var h=new c.msa(g),k=this.module.getConfiguration('colorSchema');colorSchemas[k]&&(h.g.colorscheme.addDynScheme('dyn',colorSchemas[k]),h.g.colorscheme.set('scheme','dyn')),h.render()}catch(l){this.clear()}}},onResize:function(){this.render()},clear:function(){this.dom.html('')},inDom:function(){this.render()}}),d});var nuclLookup={A:['A'],T:['T','U'],U:['U','T'],G:['G'],C:['C'],W:['A','T','U'],S:['G','C'],M:['A','C'],K:['G','T','U'],R:['A','G'],Y:['C','T','U'],B:['C','G','T','U'],D:['A','G','T','U'],H:['A','C','T','U'],V:['A','C','G'],N:['A','C','G','T','U']};function nuclMatch(a,b){return!(a!==b)||(a=nuclLookup[a],b=nuclLookup[b],a&&b&&a.some((c)=>b.find((d)=>c===d)))}
