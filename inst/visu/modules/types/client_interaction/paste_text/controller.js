'use strict';define(['modules/default/defaultcontroller'],function(a){'use strict';function b(){}return $.extend(!0,b.prototype,a),b.prototype.moduleInformation={name:'Paste value',description:'Paste any text and parse it in a variable',author:'Micha\xEBl Zasso',date:'05.03.2014',license:'MIT',cssClass:'paste_text'},b.prototype.references={value:{label:'The parsed object'}},b.prototype.events={onEditorChange:{label:'The value in the editor has changed',refVariable:['value']}},b.prototype.configurationStructure=function(){return{groups:{group:{options:{type:'list'},fields:{thevalue:{type:'jscode',title:'Value',mode:'text',default:''},type:{type:'combo',title:'Data type',options:[{title:'Text',key:'text'},{title:'JSON',key:'json'},{title:'XML',key:'xml'},{title:'CSV',key:'csv'}],default:'text'}}}}}},b.prototype.configAliases={type:['groups','group',0,'type',0],thevalue:['groups','group',0,'thevalue',0]},b.prototype.valueChanged=function(c){var d=this.module.getConfiguration('type'),e=$.Deferred(),f=this;'text'===d?e.resolve(c):'json'===d?e.resolve(JSON.parse(c)):'csv'===d?require(['papaparse'],function(g){e.resolve(g.parse(c).data)}):'xml'===d?require(['x2js'],function(g){e.resolve(new g().xml_str2json(c))}):void 0,e.done(function(g){f.module.definition.configuration.groups&&(f.module.definition.configuration.groups.group[0].thevalue[0]=c),f.createDataFromEvent('onEditorChange','value',DataObject.check(g,!0))})},b});
