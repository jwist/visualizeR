'use strict';define(['jquery','modules/default/defaultview'],function(a,b){'use strict';function c(){}return a.extend(!0,c.prototype,b,{init:function(){var e=this;this.button='button'===this.module.getConfiguration('button')[0],this.dom=a('<div>').addClass('ci-module-webservice_nmr_spin');var g=a(['<select name="system">','<option value="2" selected>AB</option>','<option value="3">ABC</option>','<option value="4">ABCD</option>','<option value="5">ABCDE</option>','<option value="6">ABCDEF</option>','</select>'].join(''));g.val(this.module.getConfiguration('systemSize')[0]),this.systemSelector=a('<h1>Select your spin system: </h1>'),this.systemSelector.append(g),this.dom.append(this.systemSelector),this.systemSelector.on('change','select',function(){var h=e.module.getConfiguration('systemSize',null,!1);h[0]=a(this).val(),e.init()}),this.system=a(this._getTable(this.module.getConfiguration('systemSize')[0])),this.button||(this.system.on('keyup','input[type=text]',function(){e.module.controller.doAnalysis()}),this.system.on('change','select',function(){e.module.controller.doAnalysis()})),this.dom.append(this.system),this.module.getDomContent().html(this.dom),this.button&&require(['forms/button'],function(h){e.system.append((e.buttonInst=new h(e.module.getConfiguration('buttonlabel'),function(){e.module.controller.doAnalysis()})).render())}),'onload'===this.module.getConfiguration('onloadanalysis')&&this.module.controller.doAnalysis(),this.resolveReady()},_getTable:function(e){var g,f=[];for(f.push('<table><tbody id="table2"><tr>'),f.push('<th></th>'),f.push('<th>delta (ppm)</th>'),g=1;g<e;g++)f.push('<th>J<sub>'+g+'-</sub> (Hz)</th>');for(f.push('</tr>'),g=0;g<e;g++){f.push('<tr>'),f.push('<th>'+(g+1)+'</th>'),f.push('<td><input type="text" size=4 value='+(g+1)+' name="delta_'+g+'">');for(var h=0;h<g;h++)f.push('<td><input type="text" size=4 value=7 name="coupling_'+g+'_'+h+'">');f.push('</tr>')}return f.push('</tbody></table>'),f.push('<p>From: <input type="text" value=0 name="from" size=4>'),f.push('to: <input type="text" value=10 name="to" size=4> ppm.'),f.push('<select id="frequency" name="frequency">'),f.push('<option value="60">60 MHz</option>'),f.push('<option value="90">90 MHz</option>'),f.push('<option value="200">200 MHz</option>'),f.push('<option value="300">300 MHz</option>'),f.push('<option value="400" selected>400 MHz</option>'),f.push('<option value="500">500 MHz</option>'),f.push('<option value="600">600 MHz</option>'),f.push('<option value="800">800 MHz</option>'),f.push('<option value="1000">1000 MHz</option>'),f.push('</select></p>'),f.push('<p>Line width: <input type="text" value=1 name="lineWidth" size=4 id="lineWidth" /> Hz.</p>'),f.push('<p>Number of points: <select id="nbPoints" name="nbPoints">'),f.push('<option value="1024">1k</option>'),f.push('<option value="2048">2k</option>'),f.push('<option value="4096">4k</option>'),f.push('<option value="8192">8k</option>'),f.push('<option value="16384" selected>16k</option>'),f.push('<option value="32768">32k</option>'),f.push('<option value="65536">64k</option>'),f.push('<option value="131072">128k</option>'),f.push('</select></p>'),'<form>'+f.join('')+'</form>'},lock(){this.locked=!0,this.buttonInst&&(this.buttonInst.setTitle(this.module.getConfiguration('buttonlabel_exec')),this.buttonInst.disable())},unlock(){this.locked=!1,this.buttonInst&&(this.buttonInst.setTitle(this.module.getConfiguration('buttonlabel')),this.buttonInst.enable())}}),c});
