'use strict';define(['modules/default/defaultview','forms/button','src/util/util','src/main/grid'],function(a,b,c,d){'use strict';function e(){}return $.extend(!0,e.prototype,a,{init:function(){var g=this,h=c.getNextUniqueId(),i=!1;this._id=h,this.module.getConfigurationCheckbox('editable','isEditable')?(this.inside=$('<div>',{id:h,class:'inside',contentEditable:'true'}).html(g.module.definition.text||''),require(['ckeditor'],function(j){i||(j.disableAutoInline=!0,g.instance=j.inline(g._id,{extraPlugins:'mathjax',mathJaxLib:'//cdn.mathjax.org/mathjax/2.2-latest/MathJax.js?config=TeX-AMS_HTML'}),g.instance.on('change',function(){g.module.definition.text=g.instance.getData(),g.module.getDomWrapper().height(g.inside.height()+70),d.moduleResize(g.module)}),i=!0)})):this.inside=$('<div>',{id:h,class:'inside'}).html(g.module.definition.text||''),this.dom=$('<div />',{class:'postit'}).css('font-family',this.module.getConfiguration('fontfamily')+', Arial'),this.dom.html(this.inside),this.module.getDomContent().html(this.dom),this.resolveReady()}}),e});
