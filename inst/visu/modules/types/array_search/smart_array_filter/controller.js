'use strict';define(['jquery','modules/default/defaultcontroller','smart-array-filter'],function(a,b,c){'use strict';function d(){}return a.extend(!0,d.prototype,b),d.prototype.moduleInformation={name:'Smart array filter',description:'Use simple text queries to search in an array of complex objects.',author:'Micha\xEBl Zasso',date:'06.11.2015',license:'MIT',cssClass:'smart_array_filter'},d.prototype.references={input:{label:'Input array',type:'array'},output:{label:'Output array',type:'array'},search:{label:'Search string',type:'string'}},d.prototype.events={onQuery:{label:'Query is changed',refVariable:['output','search']}},d.prototype.variablesIn=['input'],d.prototype.actionsIn={clearQuery:'Clear current query',setQuery:'Set query',appendQuery:'Append to current query'},d.prototype.configurationStructure=function(){return{groups:{group:{options:{type:'list'},fields:{debounce:{type:'float',title:'Search debouncing (ms)',default:100},limit:{type:'float',title:'Limit output length (0 to disable)',default:0},initialValue:{type:'text',title:'Initial value',default:''},placeholder:{type:'text',title:'Placeholder',default:''},fontSize:{type:'float',title:'Font size',default:20}}}}}},d.prototype.configAliases={debounce:['groups','group',0,'debounce',0],limit:['groups','group',0,'limit',0],initialValue:['groups','group',0,'initialValue',0],placeholder:['groups','group',0,'placeholder',0],fontSize:['groups','group',0,'fontSize',0]},d.prototype.onQuery=function(e){var f=this.module.view._data;if(f){for(var g=c(f,{keywords:e,index:!0,limit:this.module.getConfiguration('limit',0)}),h=this.module.view._originalData,j=Array(g.length),k=0;k<g.length;k++)j[k]=h[g[k]];this.createDataFromEvent('onQuery','search',e),this.createDataFromEvent('onQuery','output',j)}},d});
