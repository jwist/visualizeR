'use strict';define(['modules/default/defaultcontroller','src/util/datatraversing','lib/formcreator/formcreator'],function(a,b,c){'use strict';function d(){}return $.extend(!0,d.prototype,a),d.prototype.moduleInformation={name:'Configured array filter',description:'Filters an array with configured UI criteria',author:'Norman Pellet',date:'24.12.2013',license:'MIT',cssClass:'configured_search'},d.prototype.references={array:{label:'An input array',type:'array'},filteredArray:{label:'Filtered array',type:'array'},flagArray:{label:'Array of booleans',type:'array'},countResult:{type:'number',label:'Number of selected items'}},d.prototype.events={onSearchDone:{label:'When a search is performed',refVariable:['filteredArray','flagArray'],refAction:['filteredArray','flagArray','countResult']}},d.prototype.variablesIn=['array'],d.prototype.actionsIn={disable:'Disable the search'},d.prototype.configurationStructure=function(){var e=[],f=this.module.getDataFromRel('array');return f&&(f=f.get(),b.getJPathsFromElement(f[0],e)),{groups:{group:{options:{type:'list'},fields:{max:{type:'text',title:'Maximum hits',default:'50'},disableMessage:{type:'text',title:'Disable message',default:'Click to enable search'}}}},sections:{searchFields:c.makeConfig({name:'Search on',jpaths:e},{name:'Comparison'})}}},d.prototype.searchDone=function(e,f){this.createDataFromEvent('onSearchDone','flagArray',f),this.sendActionFromEvent('onSearchDone','flagArray',f),this.createDataFromEvent('onSearchDone','filteredArray',e),this.sendActionFromEvent('onSearchDone','filteredArray',e),this.createDataFromEvent('onSearchDone','countResult',e.length)},d.prototype.configFunctions={searchfields:function(f){return Array.isArray(f)?f:[]}},d.prototype.configAliases={searchfields:['sections','searchFields'],maxhits:['groups','group',0,'max',0],disableMessage:['groups','group',0,'disableMessage',0]},d});
