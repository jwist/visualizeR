{
  "version": "2.98.0",
  "grid": {
    "layers": {
      "Default layer": {
        "name": "Default layer"
      },
      "admin": {
        "name": "admin"
      }
    },
    "xWidth": 10,
    "yHeight": 10
  },
  "modules": [
    {
      "url": "modules/types/edition/object_editor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": [
                "view"
              ],
              "expanded": [
                []
              ],
              "storeObject": [
                []
              ],
              "displayValue": [
                []
              ],
              "searchBox": [
                [
                  "search"
                ]
              ],
              "sendButton": [
                []
              ],
              "output": [
                "new"
              ],
              "storedObject": [
                "{}"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 75,
            "top": 42
          },
          "size": {
            "width": 35,
            "height": 38
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 117,
            "top": 51
          },
          "size": {
            "width": 35,
            "height": 38
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 1,
      "vars_in": [
        {
          "rel": "value",
          "name": "selectedIndicators"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "filterColumns"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "label",
                "jpath": [
                  "label"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 24,
            "top": 23
          },
          "size": {
            "width": 26,
            "height": 17
          },
          "zIndex": 0,
          "display": true,
          "title": "Dartaset Selector (click on row)",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 1,
            "top": 2
          },
          "size": {
            "width": 35,
            "height": 15
          },
          "zIndex": 0,
          "display": false,
          "title": "Dartaset Selector (click on row)",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 2,
      "vars_in": [
        {
          "rel": "list",
          "name": "data"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": [
            "data"
          ],
          "name": "selectedDataSets"
        },
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": [
            "metadata"
          ],
          "name": "selectedMetadata"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences",
                "Export Data"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Dartaset Selector (click on row)",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "filterColumns"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "label",
                "jpath": [
                  "label"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 51,
            "top": 23
          },
          "size": {
            "width": 24,
            "height": 17
          },
          "zIndex": 0,
          "display": true,
          "title": "Select analysis (click on row)",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 1,
            "top": 18
          },
          "size": {
            "width": 35,
            "height": 17
          },
          "zIndex": 0,
          "display": false,
          "title": "Select analysis (click on row)",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 3,
      "vars_in": [
        {
          "rel": "list",
          "name": "selectedDataSets"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onSelect",
          "rel": "row",
          "jpath": [
            "data"
          ],
          "name": "selectedData"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences",
                "Export Data"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Select analysis (click on row)",
      "zindex": 1
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "\nAPI.loading('computeStatistics','Please wait while we compute basic statistics for the chosen data');\n\n// you need to leave some time to display the message\n// we use setImmediate to achieve this\n\nsetImmediate(getStats);\n\n\nfunction getStats() {\nlet selectedData = API.getData('selectedData')\nlet varNames = Object.keys(selectedData[0])\n\n\nlet x = new Array\nlet s = new Array\nObject.keys(selectedData[0]).forEach(e => {\n   x.push([[e], selectedData.map(col => col[e])])\n   s.push({\"index\": e,\n    \"indicator\": {\n      \"type\": \"sparkline\",\n      \"value\": selectedData.map(col => col[e]),\n      \"_options\": {\n        \"type\": \"box\",\n        \"raw\": false,\n        \"minValue\": -50,\n        \"maxValue\": 20,\n        \"boxLineColor\": \"black\",\n        \"boxFillColor\": \"lightgrey\",\n        \"whiskerColor\": \"black\",\n        \"medianColor\": \"red\",\n        \"lineColor\": \"black\",\n        \"target\": [],\n        \"targetColor\": \"green\"\n      }\n    }})\n})\n\n\nconsole.log('calculate indicators executed')\n\nAPI.createData('selectedDataMatrix', s)\nAPI.createData('x', x)\nAPI.createData('varNames', varNames)\n\n    API.stopLoading('computeStatistics');\n}\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 1,
            "top": 76
          },
          "size": {
            "width": 60,
            "height": 30
          },
          "zIndex": 0,
          "display": false,
          "title": "calculate indicators",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 60,
            "height": 24
          },
          "zIndex": 0,
          "display": true,
          "title": "calculate indicators",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 4,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "selectedData"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "calculate indicators",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "filterColumns",
                  "editable",
                  "keepSelected"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                "30"
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "label",
                "jpath": [
                  "index"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 86,
                "hideColumn": []
              },
              {
                "name": "indicator",
                "jpath": [
                  "indicator"
                ],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "width": 129,
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 23,
            "height": 90
          },
          "zIndex": 0,
          "display": true,
          "title": "Metabolites selector",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 1,
            "top": 36
          },
          "size": {
            "width": 35,
            "height": 39
          },
          "zIndex": 0,
          "display": false,
          "title": "Metabolites indicators",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 5,
      "vars_in": [
        {
          "rel": "list",
          "name": "selectedDataMatrix"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onRowsSelect",
          "rel": "rows",
          "jpath": [],
          "name": "selectedIndicators"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences",
                "Export Data"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Metabolites selector",
      "zindex": 1
    },
    {
      "url": "modules/types/chart/statistics/parallel_coordinates/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "colJPath": [
                null
              ],
              "options": [
                [
                  "hide",
                  "brush",
                  "shadow"
                ]
              ],
              "brushMode": [
                "1D-axes-multi"
              ],
              "predicate": [
                "and"
              ]
            }
          ],
          "cols": [
            [
              {}
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 24,
            "top": 0
          },
          "size": {
            "width": 121,
            "height": 22
          },
          "zIndex": 0,
          "display": true,
          "title": "Click and drag on the variable axis to filter sample within a range",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 37,
            "top": 2
          },
          "size": {
            "width": 86,
            "height": 22
          },
          "zIndex": 0,
          "display": false,
          "title": "Click and drag on the variable axis to select sample within a range",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 6,
      "vars_in": [
        {
          "rel": "value",
          "name": "selectedData"
        },
        {
          "rel": "columns",
          "name": "parallelVariablesLabels"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onBrushSelection",
          "rel": "flagResult",
          "jpath": [],
          "name": "selectedParallel"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Click and drag on the variable axis to filter sample within a range",
      "zindex": 1
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "let selectedIndicators = API.getData('selectedIndicators')\n\nlet parallelVariablesLabels = []\nselectedIndicators.map(x => {\n    parallelVariablesLabels.push({\"name\" : x.index, \"jpath\" : \"element.\" + x.index})\n})\n\nAPI.createData('parallelVariablesLabels', parallelVariablesLabels)\n\nconsole.log('create parallel executed')\n\n\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 62,
            "top": 76
          },
          "size": {
            "width": 68,
            "height": 25
          },
          "zIndex": 0,
          "display": false,
          "title": "create parallel variables",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 25
          },
          "size": {
            "width": 60,
            "height": 21
          },
          "zIndex": 0,
          "display": true,
          "title": "create parallel variables",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 7,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "selectedIndicators"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "create parallel variables",
      "zindex": 1
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "let selectedSample = API.getData('selectedParallel')\nlet metadata = API.getData('selectedMetadata')\n\nlet s = selectedSample.reduce(\n  (out, bool, index) => bool ? out.concat(metadata[index]) : out, \n  []\n)\n\nAPI.createData('selectedSamples', s)\n\nconsole.log('sample selector executed')\n\n\n//let s2 = []\n//selectedSample.forEach( (e, i) => {\n//    if (e) {s2.push(metadata[i])}\n//})\n\n//let selectedMetadata = metadata[s]\n//let m = metadata.filter( (x, i) => {\n//    if (s.includes(i)) {return i}\n//}\n//)\n\n\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 38,
            "top": 27
          },
          "size": {
            "width": 50,
            "height": 36
          },
          "zIndex": 0,
          "display": false,
          "title": "sample selector",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 47
          },
          "size": {
            "width": 60,
            "height": 20
          },
          "zIndex": 0,
          "display": true,
          "title": "sample selector",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 8,
      "vars_in": [
        {
          "rel": "inputValue",
          "name": "selectedParallel"
        }
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "sample selector",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "filterColumns",
                  "editable"
                ]
              ],
              "copyPaste": [
                [
                  "active"
                ]
              ],
              "copyPasteOptions": [
                [
                  "newRows",
                  "readOnly"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                [
                  "showHide"
                ]
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                null
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735\n"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "jpath": [],
                "editor": "none",
                "forceType": "",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "both",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 24,
            "top": 41
          },
          "size": {
            "width": 121,
            "height": 49
          },
          "zIndex": 0,
          "display": true,
          "title": "Metadata of the filtered samples",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 90,
            "top": 29
          },
          "size": {
            "width": 35,
            "height": 21
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        }
      },
      "id": 9,
      "vars_in": [
        {
          "rel": "list",
          "name": "selectedSamples"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "event": "onRowsSelect",
          "rel": "rows",
          "jpath": [],
          "name": "selectedSampleIDs"
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "Metadata of the filtered samples",
      "zindex": 1
    },
    {
      "url": "modules/types/display/single_value/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "append": [
                []
              ],
              "maxEntries": [
                1
              ],
              "editable": [
                []
              ],
              "debounce": [
                0
              ],
              "defaultvalue": [
                null
              ],
              "font": [
                null
              ],
              "fontcolor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "fontsize": [
                null
              ],
              "align": [
                null
              ],
              "valign": [
                null
              ],
              "rendererOptions": [
                ""
              ],
              "forceType": [
                "chart"
              ],
              "sprintf": [
                null
              ],
              "sprintfOrder": [
                null
              ],
              "preformatted": [
                []
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 37,
            "top": 25
          },
          "size": {
            "width": 86,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 61,
            "top": 0
          },
          "size": {
            "width": 17,
            "height": 24
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 10,
      "vars_in": [
        {
          "rel": "value",
          "name": "boxPlot"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 1
    },
    {
      "url": "modules/types/edition/slick_grid/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "slickCheck": [
                [
                  "enableCellNavigation",
                  "rowNumbering",
                  "forceFitColumns",
                  "highlightScroll",
                  "forgetLastActive",
                  "editable",
                  "keepSelected"
                ]
              ],
              "copyPaste": [
                []
              ],
              "copyPasteOptions": [
                [
                  "newRows"
                ]
              ],
              "autoColumns": [
                []
              ],
              "toolbar": [
                []
              ],
              "colorjpath": [
                []
              ],
              "slick.defaultColumnWidth": [
                null
              ],
              "slick.rowHeight": [
                "120"
              ],
              "slick.headerRowHeight": [
                30
              ],
              "slick.selectionModel": [
                "row"
              ],
              "idProperty": [
                ""
              ],
              "filterType": [
                "pref"
              ],
              "filterRow": [
                "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
              ],
              "customJpaths": [
                ""
              ]
            }
          ],
          "cols": [
            [
              {
                "name": "boxplot",
                "jpath": [],
                "editor": "none",
                "forceType": "chart",
                "formatter": "typerenderer",
                "copyFormatter": "default",
                "visibility": "main",
                "rendererOptions": "",
                "editorOptions": "",
                "hideColumn": []
              }
            ]
          ],
          "actionCols": [
            [
              {
                "backgroundColor": [
                  255,
                  255,
                  255,
                  0
                ],
                "color": [
                  0,
                  0,
                  0,
                  1
                ],
                "position": "end",
                "clickMode": "text"
              }
            ]
          ],
          "groupings": [
            [
              {
                "getter": []
              }
            ]
          ],
          "actionOutButtons": [
            [
              {}
            ]
          ],
          "data": [
            {
              "saveInView": [
                []
              ],
              "varname": [
                ""
              ],
              "data": [
                "[]"
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 146,
            "top": 0
          },
          "size": {
            "width": 42,
            "height": 90
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 84,
            "top": 3
          },
          "size": {
            "width": 68,
            "height": 40
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 11,
      "vars_in": [
        {
          "rel": "list",
          "name": "boxPlot"
        }
      ],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences",
                "Print",
                "Show fullscreen"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 1
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "//switch(this.action.name) {\n//    case 'csvParameters':\n//        actionName = 'csvParameters';\n//        break;\n//}\n\n//switch (actionName) {\n//    case \"createDataClass\":\n//        var fileNameList = API.getData('fileNameList');\n//        var list = API.getData(\"list2\")\n \n\nlet selectedIndicators = API.getData('selectedIndicators')\nlet selectedSample = API.getData('selectedParallel')\nlet selectedSampleIDs = API.getData('selectedSampleIDs')\n//console.log(selectedSampleIDs)\nlet invert = 1\ninvert = (this.action.name == \"button_invert\" ? -1 : 1)\n//console.log(this.action.name)\n//let invert = 1\n\nlet parallelVariables = selectedIndicators.map(x => {\n    return x.indicator.value.filter((e, i) => {\n        return (invert == 1 ? selectedSample[i] : !selectedSample[i]);\n    });\n});\n\nif (selectedSampleIDs.length > 0) {\n    let filter = selectedSampleIDs.map(x => x._highlight);\n\n    var aGroup = selectedIndicators.map((x, i) => {\n        return x.indicator.value.filter((e, i) => filter.includes(i+1));\n    });\n    \n    var bGroup = selectedIndicators.map(x => {\n        return x.indicator.value.filter((e, i) => !filter.includes(i+1) && selectedSample[i]);\n    });\n}\n//console.log(bGroup)\n\nfunction Boxplot (title, boxData) {\n  this.title = title,\n  this.data = boxData\n}\n\nfunction BoxData (x, q1, q2, q3, whiskers, outliers) {\n    this.type = 'box',\n    this.orientation = 'x'\n    this.maxBoxWidth = 10,\n    this.defaultStyle = {\n\t  \"outlierLineWidth\" : 1,\n\t  \"outlierLineColor\" : 'rgb( 255, 255, 255 )',\n\t  \"outlierFillColor\" : 'rgb( 0, 255, 0 )',\n\t  \"outlierFillOpacity\" : 0\n\t}\n    this.boxes = new Array(   \n    {'y' : x,    \n    'Q1' : q1, \n    'Q2' : q2, \n    'Q3' : q3, \n    'whiskers' : whiskers, \n    'outliers' : outliers})\n}\n\nfunction quantile(data, q) {\n  data=Array_Sort_Numbers(data);\n  var pos = ((data.length) - 1) * q;\n  var base = Math.floor(pos);\n  var rest = pos - base;\n  if( (data[base+1]!==undefined) ) {\n    return data[base] + rest * (data[base+1] - data[base]);\n  } else {\n    return data[base];\n  }\n}\n\nfunction Array_Sort_Numbers(inputarray){\n  return inputarray.sort(function(a, b) {\n    return a - b;\n  });\n}\n\n\nlet vect = [.26, 0.34, 0.70, 1.75, 50.57, 1.55, 0.08, 0.42, 0.50, 3.20, 0.15, 0.49, 0.95, 0.24, 1.37, 0.17, 6.98, 0.10, 0.94, 0.38]\n\nfunction getBoxPlot(vect, idx){\nlet q25 = quantile(vect, 0.25)\nlet q50 = quantile(vect, 0.50)\nlet q75 = quantile(vect, 0.75)\n\nlet iqr = 1.5* (q75 - q25)\nlet max = Math.max.apply(Math, vect)\nlet min = Math.min.apply(Math, vect)\n\nlet upperLimit = (max < q75 + iqr ? max : q75 + iqr)\nlet lowerLimit = (min > q25 - iqr ? min : q25 - iqr)\n\nlet outliers = []\nvect.forEach(e => {\n    if (e > upperLimit ) {\n        outliers.push(e)\n    }\n    if (e < lowerLimit ) {\n        outliers.push(e)\n    } \n} )\n\nlet boxData = new BoxData(idx, q25, q50, q75, [lowerLimit, upperLimit], outliers)\n\nreturn boxData\n}\n\n\nlet bplots = []\nif (selectedSampleIDs.length > 0) {\n    aGroup.forEach((x, i) => {\n    bplots[i] = new Boxplot(selectedIndicators[i].index, [getBoxPlot(aGroup[i], 0), getBoxPlot(bGroup[i], 1)]);\n    });\n} else {\n    parallelVariables.forEach((x, i) => {\n    bplots[i] = new Boxplot(selectedIndicators[i].index, [getBoxPlot(x, i)]);\n    });\n}\n//let boxPlot = new Boxplot('Box plots', bplots)\n\n\n\n//let boxPlot = new Boxplot('e', [getBoxPlot(vect, 0)])\n//let boxPlot2 = new Boxplot('e', [getBoxPlot(vect, 1)])\n//console.log(bplots)\n \n//API.createData('boxPlot', [boxPlot, boxPlot2])\nAPI.createData('boxPlot', bplots)\nAPI.createData('boxPlotvertical', bplots)\n"
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 68
          },
          "size": {
            "width": 60,
            "height": 16
          },
          "zIndex": 0,
          "display": true,
          "title": "box plot calculator",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 12,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {
          "rel": "execute",
          "name": "boxplotButton"
        },
        {
          "rel": "execute",
          "name": "button_invert"
        }
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "box plot calculator",
      "zindex": 1
    },
    {
      "url": "modules/types/client_interaction/button_action/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "toggle": [
                "click"
              ],
              "label": [
                "Compute / Refresh Boxplot"
              ],
              "onLabel": [
                "Toggle action off"
              ],
              "offLabel": [
                "Toggle action on"
              ],
              "title": [
                ""
              ],
              "onColor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "offColor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "startState": [
                "off"
              ],
              "text": [
                null
              ],
              "askConfirm": [
                []
              ],
              "confirmText": [
                "Are you sure?"
              ],
              "okLabel": [
                "Ok"
              ],
              "cancelLabel": [
                "Cancel"
              ],
              "content": [
                ""
              ],
              "contentType": [
                "content"
              ],
              "maskOpacity": [
                0.6
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 124,
            "top": 22
          },
          "size": {
            "width": 17,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 15,
            "top": 85
          },
          "size": {
            "width": 14,
            "height": 8
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 13,
      "vars_in": [],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "event": "onClick",
          "rel": "actionText",
          "jpath": [],
          "name": "boxplotButton"
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 15
    },
    {
      "url": "modules/types/client_interaction/button_action/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "toggle": [
                "click"
              ],
              "label": [
                "Invert selection"
              ],
              "onLabel": [
                "invert selection"
              ],
              "offLabel": [
                "restore selection"
              ],
              "title": [
                ""
              ],
              "onColor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "offColor": [
                [
                  0,
                  0,
                  0,
                  1
                ]
              ],
              "startState": [
                "off"
              ],
              "text": [
                null
              ],
              "askConfirm": [
                []
              ],
              "confirmText": [
                "Are you sure?"
              ],
              "okLabel": [
                "Ok"
              ],
              "cancelLabel": [
                "Cancel"
              ],
              "content": [
                ""
              ],
              "contentType": [
                "content"
              ],
              "maskOpacity": [
                0.6
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 127,
            "top": 26
          },
          "size": {
            "width": 12,
            "height": 5
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": false,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 0,
            "top": 85
          },
          "size": {
            "width": 14,
            "height": 6
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 14,
      "vars_in": [],
      "actions_in": [
        {}
      ],
      "actions_out": [
        {
          "event": "onClick",
          "rel": "actionText",
          "jpath": [],
          "name": "button_invert"
        }
      ],
      "vars_out": [],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": "",
      "zindex": 14
    },
    {
      "url": "modules/types/edition/rich_text/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "editable": [
                [
                  "isEditable"
                ]
              ],
              "debouncing": [
                0
              ],
              "modifyInVariable": [
                []
              ],
              "storeInView": [
                [
                  "yes"
                ]
              ],
              "autoHeight": [
                []
              ],
              "bgColor": [
                [
                  255,
                  255,
                  255,
                  1
                ]
              ],
              "postit": [
                []
              ],
              "html": [
                [
                  "yes"
                ]
              ]
            }
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 157,
            "top": 9
          },
          "size": {
            "width": 27,
            "height": 35
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 15,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "richtext": "<p>to do:</p>\n\n<p>fix inverse selection</p>\n\n<p>reset selection</p>\n\n<p>boxplot without selection</p>\n",
      "title": ""
    },
    {
      "url": "modules/types/client_interaction/code_executor/",
      "configuration": {
        "sections": {},
        "groups": {
          "group": [
            {
              "display": [
                [
                  "editor",
                  "buttons"
                ]
              ],
              "execOnLoad": [
                []
              ],
              "asyncAwait": [
                [
                  "top"
                ]
              ],
              "script": [
                "let selectedIndicators = API.getData('selectedIndicators')\nlet selectedSample = API.getData('selectedParallel')\nlet selectedSampleIDs = API.getData('selectedSampleIDs')\n\nlet parallelVariables = selectedIndicators.map(x => {\n    return x.indicator.value.filter((e, i) => {\n        return (invert == 1 ? selectedSample[i] : !selectedSample[i]);\n    });\n});\n\nif (selectedSampleIDs.length > 0) {\n    let filter = selectedSampleIDs.map(x => x._highlight);\n\n    var aGroup = selectedIndicators.map((x, i) => {\n        return x.indicator.value.filter((e, i) => filter.includes(i+1));\n    });\n    \n    var bGroup = selectedIndicators.map(x => {\n        return x.indicator.value.filter((e, i) => !filter.includes(i+1) && selectedSample[i]);\n    });\n}\n\nmatrixYData = API.getData(\"matrixYData\");\nif (matrixYData.length < 2) return;\nlet pcaPlot = API.getData(\"pcaPlot\").resurrect();\n        \nlet pca = PCA(matrixYData, {\n    nComponents: pcaPlot.numberOfEigenVectors,\n    threshold: pcaPlot.threshold,\n    maxIterations: pcaPlot.maxIterations,\n    scale: true,\n    center: true\n});\nplotResult(pca.T, pcaPlot, 'pcaResult');\n        \n\n\n\n\n\n\nfunction plotResult(prediction, pcaPlot, varName) {\n    var x = prediction.getColumn(pcaPlot.pcx - 1);\n    var y = prediction.getColumn(pcaPlot.pcy - 1);\n    var dataClass = new Array(x.length).fill([1])\n    API.createData('dataToPlot', {data: {x, y}, varName, dataClass});\n    API.doAction('plotResult', {data: {x, y}, varName, dataClass});\n}\n\nfunction adjustData(dataSet, options) {\n    if (Array.isArray(dataSet[0])) {\n        dataSet = Matrix.checkMatrix(dataSet);\n    } else if (Array.isArray(dataSet)) {\n        dataSet = new Matrix(dataSet.map(a => {\n            return [a];\n        }));\n    } else {\n        throw new Error('Invalid data type for dataSet');\n    }\n    const {\n        means = Stat.mean(dataSet),\n        std = Stat.standardDeviation(dataSet, means, true)\n    } = options;\n\n    return [dataSet, means, std];\n}\n\nfunction normal(x) {\n    if (!Array.isArray(x)) {\n        throw new Error('The input should be an array');\n    } else if (!Array.isArray(x[0])) {\n        return vectorNormalization(x);\n    } else {\n        return matrixNormalization(x);\n    }\n}\n\nfunction vectorNormalization(data) {\n    let mean = computeMean(data);\n    let std = computeVariance(data, true);\n\n    let ans = new Array(data.length);\n    if (std === 0) {\n        for (let i = 0; i < ans.length; i++) {\n            ans[i] = (data[i] - mean);\n        }\n    } else {\n        for (let i = 0; i < ans.length; i++) {\n            ans[i] = (data[i] - mean) / std;\n        }\n    }\n\n    return ans;\n}\n\nfunction matrixNormalization(data) {\n    let means = MatrixStat.mean(data, 1);\n    let std = matrixStandardDeviation(data, means);\n\n    let ans = new Array(data.length);\n    for (let i = 0; i < data.length; i++) {\n        ans[i] = new Array(data[i].length);\n        for (let j = 0; j < data[i].length; j++) {\n            if (std[i] === 0) {\n                ans[i][j] = (data[i][j] - means[i]);\n            } else {\n                ans[i][j] = (data[i][j] - means[i]) / std[i];\n            }\n        }\n    }\n    return ans;\n}\n\nfunction matrixStandardDeviation(data, means) {\n    return data.map(\n        (row, i) => Math.sqrt(row.reduce(\n            (acc, val) => acc + ((val - means[i]) * (val - means[i]))\n            , 0) / (row.length - 1))\n    );\n}\n\nfunction PCA(dataset, options = {}) {\n    var {\n        nComponents = 2,\n        threshold = 1e-9,\n        maxIterations = 100\n    } = options;\n\n    var eMatrix = _adjust(dataset, options);\n    \n    var r = eMatrix.rows;\n    var c = eMatrix.columns;\n\n    var T = Matrix.zeros(r, nComponents);\n        var P = Matrix.zeros(c, nComponents);\n        var eigenvalues = new Array(nComponents);\n        \n        for (let i = 0; i < nComponents; i++) {\n            let tIndex = maxSumColIndex(eMatrix.clone().mulM(eMatrix));\n            let t = eMatrix.getColumnVector(tI
              ]
            }
          ],
          "libs": [
            [
              {}
            ]
          ],
          "buttons": [
            [
              {
                "name": "button1",
                "label": "Execute",
                "hide": [],
                "disable": []
              }
            ]
          ]
        }
      },
      "layers": {
        "Default layer": {
          "position": {
            "left": 0,
            "top": 0
          },
          "size": {
            "width": 20,
            "height": 20
          },
          "zIndex": 0,
          "display": false,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "Default layer"
        },
        "admin": {
          "position": {
            "left": 61,
            "top": 33
          },
          "size": {
            "width": 54,
            "height": 56
          },
          "zIndex": 0,
          "display": true,
          "title": "",
          "bgColor": [
            255,
            255,
            255,
            0
          ],
          "wrapper": true,
          "created": true,
          "name": "admin"
        }
      },
      "id": 16,
      "vars_in": [
        {}
      ],
      "actions_in": [
        {}
      ],
      "vars_out": [
        {
          "jpath": []
        }
      ],
      "actions_out": [
        {
          "jpath": []
        }
      ],
      "toolbar": {
        "custom": [
          [
            {
              "title": "",
              "icon": "",
              "action": "",
              "position": "begin",
              "color": [
                100,
                100,
                100,
                1
              ]
            }
          ]
        ],
        "common": [
          {
            "toolbar": [
              [
                "Open Preferences"
              ]
            ]
          }
        ]
      },
      "css": [
        {
          "fontSize": [
            ""
          ],
          "fontFamily": [
            ""
          ]
        }
      ],
      "title": ""
    }
  ],
  "variables": [
    {
      "varname": "data",
      "jpath": [
        "data"
      ]
    }
  ],
  "aliases": [
    {}
  ],
  "configuration": {
    "title": "ranges explorer"
  },
  "actionscripts": [
    {
      "sections": {},
      "groups": {
        "action": [
          {
            "name": [
              null
            ],
            "script": [
              null
            ]
          }
        ]
      }
    }
  ],
  "init_script": [
    {
      "sections": {},
      "groups": {
        "general": [
          {
            "script": [
              "\nAPI.loading('load','Please wait while we compute basic statistics for the chosen data');\n\n// you need to leave some time to display the message\n// we use setImmediate to achieve this\n\nsetImmediate(loadData);\n\nfunction loadData() {\n    \n        API.stopLoading('load');\n}\n"
            ]
          }
        ]
      }
    }
  ],
  "custom_filters": [
    {
      "sections": {
        "modules": [
          {
            "sections": {},
            "groups": {
              "modules": [
                [
                  {}
                ]
              ]
            }
          }
        ],
        "filtersLib": [
          {
            "sections": {},
            "groups": {
              "filters": [
                [
                  {}
                ]
              ]
            }
          }
        ],
        "filters": [
          {
            "sections": {},
            "groups": {
              "filter": [
                {
                  "name": [
                    null
                  ],
                  "script": [
                    null
                  ]
                }
              ],
              "libs": [
                [
                  {}
                ]
              ]
            }
          }
        ]
      },
      "groups": {}
    }
  ],
  "actionfiles": [
    {
      "sections": {},
      "groups": {
        "action": [
          [
            {}
          ]
        ]
      }
    }
  ]
}
